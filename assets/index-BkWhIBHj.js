var MA=Object.defineProperty;var LA=(t,e,n)=>e in t?MA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $=(t,e,n)=>LA(t,typeof e!="symbol"?e+"":e,n);function VA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function k1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var I1={exports:{}},jd={},C1={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ec=Symbol.for("react.element"),jA=Symbol.for("react.portal"),FA=Symbol.for("react.fragment"),UA=Symbol.for("react.strict_mode"),BA=Symbol.for("react.profiler"),zA=Symbol.for("react.provider"),$A=Symbol.for("react.context"),WA=Symbol.for("react.forward_ref"),HA=Symbol.for("react.suspense"),qA=Symbol.for("react.memo"),GA=Symbol.for("react.lazy"),n0=Symbol.iterator;function KA(t){return t===null||typeof t!="object"?null:(t=n0&&t[n0]||t["@@iterator"],typeof t=="function"?t:null)}var A1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P1=Object.assign,R1={};function la(t,e,n){this.props=t,this.context=e,this.refs=R1,this.updater=n||A1}la.prototype.isReactComponent={};la.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};la.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function N1(){}N1.prototype=la.prototype;function ey(t,e,n){this.props=t,this.context=e,this.refs=R1,this.updater=n||A1}var ty=ey.prototype=new N1;ty.constructor=ey;P1(ty,la.prototype);ty.isPureReactComponent=!0;var r0=Array.isArray,D1=Object.prototype.hasOwnProperty,ny={current:null},O1={key:!0,ref:!0,__self:!0,__source:!0};function M1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)D1.call(e,r)&&!O1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ec,type:t,key:s,ref:o,props:i,_owner:ny.current}}function YA(t,e){return{$$typeof:Ec,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ry(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ec}function QA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var i0=/\/+/g;function Yf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QA(""+t.key):e.toString(36)}function rh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ec:case jA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Yf(o,0):r,r0(i)?(n="",t!=null&&(n=t.replace(i0,"$&/")+"/"),rh(i,e,n,"",function(c){return c})):i!=null&&(ry(i)&&(i=YA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(i0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",r0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Yf(s,a);o+=rh(s,e,n,l,i)}else if(l=KA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Yf(s,a++),o+=rh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function pu(t,e,n){if(t==null)return t;var r=[],i=0;return rh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function XA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yt={current:null},ih={transition:null},JA={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:ih,ReactCurrentOwner:ny};function L1(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:pu,forEach:function(t,e,n){pu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pu(t,function(){e++}),e},toArray:function(t){return pu(t,function(e){return e})||[]},only:function(t){if(!ry(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=la;ue.Fragment=FA;ue.Profiler=BA;ue.PureComponent=ey;ue.StrictMode=UA;ue.Suspense=HA;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JA;ue.act=L1;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=P1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ny.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)D1.call(e,l)&&!O1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ec,type:t.type,key:i,ref:s,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:$A,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zA,_context:t},t.Consumer=t};ue.createElement=M1;ue.createFactory=function(t){var e=M1.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:WA,render:t}};ue.isValidElement=ry;ue.lazy=function(t){return{$$typeof:GA,_payload:{_status:-1,_result:t},_init:XA}};ue.memo=function(t,e){return{$$typeof:qA,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=ih.transition;ih.transition={};try{t()}finally{ih.transition=e}};ue.unstable_act=L1;ue.useCallback=function(t,e){return Yt.current.useCallback(t,e)};ue.useContext=function(t){return Yt.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return Yt.current.useDeferredValue(t)};ue.useEffect=function(t,e){return Yt.current.useEffect(t,e)};ue.useId=function(){return Yt.current.useId()};ue.useImperativeHandle=function(t,e,n){return Yt.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return Yt.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return Yt.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return Yt.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return Yt.current.useReducer(t,e,n)};ue.useRef=function(t){return Yt.current.useRef(t)};ue.useState=function(t){return Yt.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return Yt.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return Yt.current.useTransition()};ue.version="18.3.1";C1.exports=ue;var M=C1.exports;const ce=k1(M),ZA=VA({__proto__:null,default:ce},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eP=M,tP=Symbol.for("react.element"),nP=Symbol.for("react.fragment"),rP=Object.prototype.hasOwnProperty,iP=eP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sP={key:!0,ref:!0,__self:!0,__source:!0};function V1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)rP.call(e,r)&&!sP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:tP,type:t,key:s,ref:o,props:i,_owner:iP.current}}jd.Fragment=nP;jd.jsx=V1;jd.jsxs=V1;I1.exports=jd;var m=I1.exports,eg={},j1={exports:{}},wn={},F1={exports:{}},U1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,W){var H=U.length;U.push(W);e:for(;0<H;){var re=H-1>>>1,Y=U[re];if(0<i(Y,W))U[re]=W,U[H]=Y,H=re;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var W=U[0],H=U.pop();if(H!==W){U[0]=H;e:for(var re=0,Y=U.length,ee=Y>>>1;re<ee;){var ge=2*(re+1)-1,xe=U[ge],be=ge+1,Ze=U[be];if(0>i(xe,H))be<Y&&0>i(Ze,xe)?(U[re]=Ze,U[be]=H,re=be):(U[re]=xe,U[ge]=H,re=ge);else if(be<Y&&0>i(Ze,H))U[re]=Ze,U[be]=H,re=be;else break e}}return W}function i(U,W){var H=U.sortIndex-W.sortIndex;return H!==0?H:U.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,f=3,g=!1,y=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(U){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=U)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function I(U){if(v=!1,T(U),!y)if(n(l)!==null)y=!0,X(N);else{var W=n(c);W!==null&&ne(I,W.startTime-U)}}function N(U,W){y=!1,v&&(v=!1,w(E),E=-1),g=!0;var H=f;try{for(T(W),d=n(l);d!==null&&(!(d.expirationTime>W)||U&&!R());){var re=d.callback;if(typeof re=="function"){d.callback=null,f=d.priorityLevel;var Y=re(d.expirationTime<=W);W=t.unstable_now(),typeof Y=="function"?d.callback=Y:d===n(l)&&r(l),T(W)}else r(l);d=n(l)}if(d!==null)var ee=!0;else{var ge=n(c);ge!==null&&ne(I,ge.startTime-W),ee=!1}return ee}finally{d=null,f=H,g=!1}}var O=!1,S=null,E=-1,k=5,A=-1;function R(){return!(t.unstable_now()-A<k)}function D(){if(S!==null){var U=t.unstable_now();A=U;var W=!0;try{W=S(!0,U)}finally{W?P():(O=!1,S=null)}}else O=!1}var P;if(typeof _=="function")P=function(){_(D)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,J=oe.port2;oe.port1.onmessage=D,P=function(){J.postMessage(null)}}else P=function(){b(D,0)};function X(U){S=U,O||(O=!0,P())}function ne(U,W){E=b(function(){U(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,X(N))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var H=f;f=W;try{return U()}finally{f=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,W){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var H=f;f=U;try{return W()}finally{f=H}},t.unstable_scheduleCallback=function(U,W,H){var re=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?re+H:re):H=re,U){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=H+Y,U={id:h++,callback:W,priorityLevel:U,startTime:H,expirationTime:Y,sortIndex:-1},H>re?(U.sortIndex=H,e(c,U),n(l)===null&&U===n(c)&&(v?(w(E),E=-1):v=!0,ne(I,H-re))):(U.sortIndex=Y,e(l,U),y||g||(y=!0,X(N))),U},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(U){var W=f;return function(){var H=f;f=W;try{return U.apply(this,arguments)}finally{f=H}}}})(U1);F1.exports=U1;var oP=F1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aP=M,_n=oP;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var B1=new Set,jl={};function Hs(t,e){zo(t,e),zo(t+"Capture",e)}function zo(t,e){for(jl[t]=e,t=0;t<e.length;t++)B1.add(e[t])}var Dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tg=Object.prototype.hasOwnProperty,lP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s0={},o0={};function cP(t){return tg.call(o0,t)?!0:tg.call(s0,t)?!1:lP.test(t)?o0[t]=!0:(s0[t]=!0,!1)}function uP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hP(t,e,n,r){if(e===null||typeof e>"u"||uP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ct[t]=new Qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ct[e]=new Qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ct[t]=new Qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ct[t]=new Qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ct[t]=new Qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ct[t]=new Qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ct[t]=new Qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ct[t]=new Qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ct[t]=new Qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var iy=/[\-:]([a-z])/g;function sy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(iy,sy);Ct[e]=new Qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(iy,sy);Ct[e]=new Qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(iy,sy);Ct[e]=new Qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ct[t]=new Qt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ct[t]=new Qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function oy(t,e,n,r){var i=Ct.hasOwnProperty(e)?Ct[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hP(e,n,i,r)&&(n=null),r||i===null?cP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $r=aP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gu=Symbol.for("react.element"),mo=Symbol.for("react.portal"),yo=Symbol.for("react.fragment"),ay=Symbol.for("react.strict_mode"),ng=Symbol.for("react.profiler"),z1=Symbol.for("react.provider"),$1=Symbol.for("react.context"),ly=Symbol.for("react.forward_ref"),rg=Symbol.for("react.suspense"),ig=Symbol.for("react.suspense_list"),cy=Symbol.for("react.memo"),ni=Symbol.for("react.lazy"),W1=Symbol.for("react.offscreen"),a0=Symbol.iterator;function Ba(t){return t===null||typeof t!="object"?null:(t=a0&&t[a0]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,Qf;function tl(t){if(Qf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qf=e&&e[1]||""}return`
`+Qf+t}var Xf=!1;function Jf(t,e){if(!t||Xf)return"";Xf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Xf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?tl(t):""}function dP(t){switch(t.tag){case 5:return tl(t.type);case 16:return tl("Lazy");case 13:return tl("Suspense");case 19:return tl("SuspenseList");case 0:case 2:case 15:return t=Jf(t.type,!1),t;case 11:return t=Jf(t.type.render,!1),t;case 1:return t=Jf(t.type,!0),t;default:return""}}function sg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yo:return"Fragment";case mo:return"Portal";case ng:return"Profiler";case ay:return"StrictMode";case rg:return"Suspense";case ig:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $1:return(t.displayName||"Context")+".Consumer";case z1:return(t._context.displayName||"Context")+".Provider";case ly:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cy:return e=t.displayName||null,e!==null?e:sg(t.type)||"Memo";case ni:e=t._payload,t=t._init;try{return sg(t(e))}catch{}}return null}function fP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sg(e);case 8:return e===ay?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function H1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pP(t){var e=H1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mu(t){t._valueTracker||(t._valueTracker=pP(t))}function q1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=H1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Mh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function og(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function l0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Di(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function G1(t,e){e=e.checked,e!=null&&oy(t,"checked",e,!1)}function ag(t,e){G1(t,e);var n=Di(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lg(t,e.type,n):e.hasOwnProperty("defaultValue")&&lg(t,e.type,Di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function c0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function lg(t,e,n){(e!=="number"||Mh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var nl=Array.isArray;function Ro(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Di(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function cg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function u0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(nl(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Di(n)}}function K1(t,e){var n=Di(e.value),r=Di(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function h0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Y1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ug(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Y1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yu,Q1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yu=yu||document.createElement("div"),yu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ml={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gP=["Webkit","ms","Moz","O"];Object.keys(ml).forEach(function(t){gP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ml[e]=ml[t]})});function X1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ml.hasOwnProperty(t)&&ml[t]?(""+e).trim():e+"px"}function J1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=X1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var mP=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hg(t,e){if(e){if(mP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function dg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fg=null;function uy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pg=null,No=null,Do=null;function d0(t){if(t=kc(t)){if(typeof pg!="function")throw Error(B(280));var e=t.stateNode;e&&(e=$d(e),pg(t.stateNode,t.type,e))}}function Z1(t){No?Do?Do.push(t):Do=[t]:No=t}function eE(){if(No){var t=No,e=Do;if(Do=No=null,d0(t),e)for(t=0;t<e.length;t++)d0(e[t])}}function tE(t,e){return t(e)}function nE(){}var Zf=!1;function rE(t,e,n){if(Zf)return t(e,n);Zf=!0;try{return tE(t,e,n)}finally{Zf=!1,(No!==null||Do!==null)&&(nE(),eE())}}function Ul(t,e){var n=t.stateNode;if(n===null)return null;var r=$d(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var gg=!1;if(Dr)try{var za={};Object.defineProperty(za,"passive",{get:function(){gg=!0}}),window.addEventListener("test",za,za),window.removeEventListener("test",za,za)}catch{gg=!1}function yP(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var yl=!1,Lh=null,Vh=!1,mg=null,vP={onError:function(t){yl=!0,Lh=t}};function _P(t,e,n,r,i,s,o,a,l){yl=!1,Lh=null,yP.apply(vP,arguments)}function wP(t,e,n,r,i,s,o,a,l){if(_P.apply(this,arguments),yl){if(yl){var c=Lh;yl=!1,Lh=null}else throw Error(B(198));Vh||(Vh=!0,mg=c)}}function qs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function iE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function f0(t){if(qs(t)!==t)throw Error(B(188))}function xP(t){var e=t.alternate;if(!e){if(e=qs(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return f0(i),t;if(s===r)return f0(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function sE(t){return t=xP(t),t!==null?oE(t):null}function oE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=oE(t);if(e!==null)return e;t=t.sibling}return null}var aE=_n.unstable_scheduleCallback,p0=_n.unstable_cancelCallback,bP=_n.unstable_shouldYield,EP=_n.unstable_requestPaint,tt=_n.unstable_now,TP=_n.unstable_getCurrentPriorityLevel,hy=_n.unstable_ImmediatePriority,lE=_n.unstable_UserBlockingPriority,jh=_n.unstable_NormalPriority,SP=_n.unstable_LowPriority,cE=_n.unstable_IdlePriority,Fd=null,tr=null;function kP(t){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(Fd,t,void 0,(t.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:AP,IP=Math.log,CP=Math.LN2;function AP(t){return t>>>=0,t===0?32:31-(IP(t)/CP|0)|0}var vu=64,_u=4194304;function rl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=rl(a):(s&=o,s!==0&&(r=rl(s)))}else o=n&~i,o!==0?r=rl(o):s!==0&&(r=rl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Un(e),i=1<<n,r|=t[n],e&=~i;return r}function PP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Un(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=PP(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function yg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function uE(){var t=vu;return vu<<=1,!(vu&4194240)&&(vu=64),t}function ep(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Tc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Un(e),t[e]=n}function NP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Un(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function dy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Un(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Se=0;function hE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dE,fy,fE,pE,gE,vg=!1,wu=[],wi=null,xi=null,bi=null,Bl=new Map,zl=new Map,ii=[],DP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function g0(t,e){switch(t){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":Bl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(e.pointerId)}}function $a(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=kc(e),e!==null&&fy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function OP(t,e,n,r,i){switch(e){case"focusin":return wi=$a(wi,t,e,n,r,i),!0;case"dragenter":return xi=$a(xi,t,e,n,r,i),!0;case"mouseover":return bi=$a(bi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Bl.set(s,$a(Bl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,zl.set(s,$a(zl.get(s)||null,t,e,n,r,i)),!0}return!1}function mE(t){var e=ws(t.target);if(e!==null){var n=qs(e);if(n!==null){if(e=n.tag,e===13){if(e=iE(n),e!==null){t.blockedOn=e,gE(t.priority,function(){fE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_g(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);fg=r,n.target.dispatchEvent(r),fg=null}else return e=kc(n),e!==null&&fy(e),t.blockedOn=n,!1;e.shift()}return!0}function m0(t,e,n){sh(t)&&n.delete(e)}function MP(){vg=!1,wi!==null&&sh(wi)&&(wi=null),xi!==null&&sh(xi)&&(xi=null),bi!==null&&sh(bi)&&(bi=null),Bl.forEach(m0),zl.forEach(m0)}function Wa(t,e){t.blockedOn===e&&(t.blockedOn=null,vg||(vg=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,MP)))}function $l(t){function e(i){return Wa(i,t)}if(0<wu.length){Wa(wu[0],t);for(var n=1;n<wu.length;n++){var r=wu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(wi!==null&&Wa(wi,t),xi!==null&&Wa(xi,t),bi!==null&&Wa(bi,t),Bl.forEach(e),zl.forEach(e),n=0;n<ii.length;n++)r=ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ii.length&&(n=ii[0],n.blockedOn===null);)mE(n),n.blockedOn===null&&ii.shift()}var Oo=$r.ReactCurrentBatchConfig,Uh=!0;function LP(t,e,n,r){var i=Se,s=Oo.transition;Oo.transition=null;try{Se=1,py(t,e,n,r)}finally{Se=i,Oo.transition=s}}function VP(t,e,n,r){var i=Se,s=Oo.transition;Oo.transition=null;try{Se=4,py(t,e,n,r)}finally{Se=i,Oo.transition=s}}function py(t,e,n,r){if(Uh){var i=_g(t,e,n,r);if(i===null)up(t,e,r,Bh,n),g0(t,r);else if(OP(i,t,e,n,r))r.stopPropagation();else if(g0(t,r),e&4&&-1<DP.indexOf(t)){for(;i!==null;){var s=kc(i);if(s!==null&&dE(s),s=_g(t,e,n,r),s===null&&up(t,e,r,Bh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else up(t,e,r,null,n)}}var Bh=null;function _g(t,e,n,r){if(Bh=null,t=uy(r),t=ws(t),t!==null)if(e=qs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=iE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bh=t,null}function yE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TP()){case hy:return 1;case lE:return 4;case jh:case SP:return 16;case cE:return 536870912;default:return 16}default:return 16}}var hi=null,gy=null,oh=null;function vE(){if(oh)return oh;var t,e=gy,n=e.length,r,i="value"in hi?hi.value:hi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return oh=i.slice(t,1<r?1-r:void 0)}function ah(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xu(){return!0}function y0(){return!1}function xn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xu:y0,this.isPropagationStopped=y0,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xu)},persist:function(){},isPersistent:xu}),e}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},my=xn(ca),Sc=He({},ca,{view:0,detail:0}),jP=xn(Sc),tp,np,Ha,Ud=He({},Sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ha&&(Ha&&t.type==="mousemove"?(tp=t.screenX-Ha.screenX,np=t.screenY-Ha.screenY):np=tp=0,Ha=t),tp)},movementY:function(t){return"movementY"in t?t.movementY:np}}),v0=xn(Ud),FP=He({},Ud,{dataTransfer:0}),UP=xn(FP),BP=He({},Sc,{relatedTarget:0}),rp=xn(BP),zP=He({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),$P=xn(zP),WP=He({},ca,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),HP=xn(WP),qP=He({},ca,{data:0}),_0=xn(qP),GP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=YP[t])?!!e[t]:!1}function yy(){return QP}var XP=He({},Sc,{key:function(t){if(t.key){var e=GP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ah(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yy,charCode:function(t){return t.type==="keypress"?ah(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ah(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),JP=xn(XP),ZP=He({},Ud,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w0=xn(ZP),eR=He({},Sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yy}),tR=xn(eR),nR=He({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),rR=xn(nR),iR=He({},Ud,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sR=xn(iR),oR=[9,13,27,32],vy=Dr&&"CompositionEvent"in window,vl=null;Dr&&"documentMode"in document&&(vl=document.documentMode);var aR=Dr&&"TextEvent"in window&&!vl,_E=Dr&&(!vy||vl&&8<vl&&11>=vl),x0=" ",b0=!1;function wE(t,e){switch(t){case"keyup":return oR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vo=!1;function lR(t,e){switch(t){case"compositionend":return xE(e);case"keypress":return e.which!==32?null:(b0=!0,x0);case"textInput":return t=e.data,t===x0&&b0?null:t;default:return null}}function cR(t,e){if(vo)return t==="compositionend"||!vy&&wE(t,e)?(t=vE(),oh=gy=hi=null,vo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _E&&e.locale!=="ko"?null:e.data;default:return null}}var uR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uR[t.type]:e==="textarea"}function bE(t,e,n,r){Z1(r),e=zh(e,"onChange"),0<e.length&&(n=new my("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _l=null,Wl=null;function hR(t){DE(t,0)}function Bd(t){var e=xo(t);if(q1(e))return t}function dR(t,e){if(t==="change")return e}var EE=!1;if(Dr){var ip;if(Dr){var sp="oninput"in document;if(!sp){var T0=document.createElement("div");T0.setAttribute("oninput","return;"),sp=typeof T0.oninput=="function"}ip=sp}else ip=!1;EE=ip&&(!document.documentMode||9<document.documentMode)}function S0(){_l&&(_l.detachEvent("onpropertychange",TE),Wl=_l=null)}function TE(t){if(t.propertyName==="value"&&Bd(Wl)){var e=[];bE(e,Wl,t,uy(t)),rE(hR,e)}}function fR(t,e,n){t==="focusin"?(S0(),_l=e,Wl=n,_l.attachEvent("onpropertychange",TE)):t==="focusout"&&S0()}function pR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bd(Wl)}function gR(t,e){if(t==="click")return Bd(e)}function mR(t,e){if(t==="input"||t==="change")return Bd(e)}function yR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wn=typeof Object.is=="function"?Object.is:yR;function Hl(t,e){if(Wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!tg.call(e,i)||!Wn(t[i],e[i]))return!1}return!0}function k0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function I0(t,e){var n=k0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=k0(n)}}function SE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?SE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kE(){for(var t=window,e=Mh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Mh(t.document)}return e}function _y(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vR(t){var e=kE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&SE(n.ownerDocument.documentElement,n)){if(r!==null&&_y(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=I0(n,s);var o=I0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _R=Dr&&"documentMode"in document&&11>=document.documentMode,_o=null,wg=null,wl=null,xg=!1;function C0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xg||_o==null||_o!==Mh(r)||(r=_o,"selectionStart"in r&&_y(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wl&&Hl(wl,r)||(wl=r,r=zh(wg,"onSelect"),0<r.length&&(e=new my("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_o)))}function bu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wo={animationend:bu("Animation","AnimationEnd"),animationiteration:bu("Animation","AnimationIteration"),animationstart:bu("Animation","AnimationStart"),transitionend:bu("Transition","TransitionEnd")},op={},IE={};Dr&&(IE=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function zd(t){if(op[t])return op[t];if(!wo[t])return t;var e=wo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in IE)return op[t]=e[n];return t}var CE=zd("animationend"),AE=zd("animationiteration"),PE=zd("animationstart"),RE=zd("transitionend"),NE=new Map,A0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $i(t,e){NE.set(t,e),Hs(e,[t])}for(var ap=0;ap<A0.length;ap++){var lp=A0[ap],wR=lp.toLowerCase(),xR=lp[0].toUpperCase()+lp.slice(1);$i(wR,"on"+xR)}$i(CE,"onAnimationEnd");$i(AE,"onAnimationIteration");$i(PE,"onAnimationStart");$i("dblclick","onDoubleClick");$i("focusin","onFocus");$i("focusout","onBlur");$i(RE,"onTransitionEnd");zo("onMouseEnter",["mouseout","mouseover"]);zo("onMouseLeave",["mouseout","mouseover"]);zo("onPointerEnter",["pointerout","pointerover"]);zo("onPointerLeave",["pointerout","pointerover"]);Hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bR=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function P0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,wP(r,e,void 0,t),t.currentTarget=null}function DE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;P0(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;P0(i,a,c),s=l}}}if(Vh)throw t=mg,Vh=!1,mg=null,t}function Ne(t,e){var n=e[kg];n===void 0&&(n=e[kg]=new Set);var r=t+"__bubble";n.has(r)||(OE(e,t,2,!1),n.add(r))}function cp(t,e,n){var r=0;e&&(r|=4),OE(n,t,r,e)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function ql(t){if(!t[Eu]){t[Eu]=!0,B1.forEach(function(n){n!=="selectionchange"&&(bR.has(n)||cp(n,!1,t),cp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Eu]||(e[Eu]=!0,cp("selectionchange",!1,e))}}function OE(t,e,n,r){switch(yE(e)){case 1:var i=LP;break;case 4:i=VP;break;default:i=py}n=i.bind(null,e,n,t),i=void 0,!gg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function up(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ws(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}rE(function(){var c=s,h=uy(n),d=[];e:{var f=NE.get(t);if(f!==void 0){var g=my,y=t;switch(t){case"keypress":if(ah(n)===0)break e;case"keydown":case"keyup":g=JP;break;case"focusin":y="focus",g=rp;break;case"focusout":y="blur",g=rp;break;case"beforeblur":case"afterblur":g=rp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=v0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=UP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=tR;break;case CE:case AE:case PE:g=$P;break;case RE:g=rR;break;case"scroll":g=jP;break;case"wheel":g=sR;break;case"copy":case"cut":case"paste":g=HP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=w0}var v=(e&4)!==0,b=!v&&t==="scroll",w=v?f!==null?f+"Capture":null:f;v=[];for(var _=c,T;_!==null;){T=_;var I=T.stateNode;if(T.tag===5&&I!==null&&(T=I,w!==null&&(I=Ul(_,w),I!=null&&v.push(Gl(_,I,T)))),b)break;_=_.return}0<v.length&&(f=new g(f,y,null,n,h),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==fg&&(y=n.relatedTarget||n.fromElement)&&(ws(y)||y[Or]))break e;if((g||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=c,y=y?ws(y):null,y!==null&&(b=qs(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=c),g!==y)){if(v=v0,I="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=w0,I="onPointerLeave",w="onPointerEnter",_="pointer"),b=g==null?f:xo(g),T=y==null?f:xo(y),f=new v(I,_+"leave",g,n,h),f.target=b,f.relatedTarget=T,I=null,ws(h)===c&&(v=new v(w,_+"enter",y,n,h),v.target=T,v.relatedTarget=b,I=v),b=I,g&&y)t:{for(v=g,w=y,_=0,T=v;T;T=lo(T))_++;for(T=0,I=w;I;I=lo(I))T++;for(;0<_-T;)v=lo(v),_--;for(;0<T-_;)w=lo(w),T--;for(;_--;){if(v===w||w!==null&&v===w.alternate)break t;v=lo(v),w=lo(w)}v=null}else v=null;g!==null&&R0(d,f,g,v,!1),y!==null&&b!==null&&R0(d,b,y,v,!0)}}e:{if(f=c?xo(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var N=dR;else if(E0(f))if(EE)N=mR;else{N=pR;var O=fR}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=gR);if(N&&(N=N(t,c))){bE(d,N,n,h);break e}O&&O(t,f,c),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&lg(f,"number",f.value)}switch(O=c?xo(c):window,t){case"focusin":(E0(O)||O.contentEditable==="true")&&(_o=O,wg=c,wl=null);break;case"focusout":wl=wg=_o=null;break;case"mousedown":xg=!0;break;case"contextmenu":case"mouseup":case"dragend":xg=!1,C0(d,n,h);break;case"selectionchange":if(_R)break;case"keydown":case"keyup":C0(d,n,h)}var S;if(vy)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else vo?wE(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(_E&&n.locale!=="ko"&&(vo||E!=="onCompositionStart"?E==="onCompositionEnd"&&vo&&(S=vE()):(hi=h,gy="value"in hi?hi.value:hi.textContent,vo=!0)),O=zh(c,E),0<O.length&&(E=new _0(E,t,null,n,h),d.push({event:E,listeners:O}),S?E.data=S:(S=xE(n),S!==null&&(E.data=S)))),(S=aR?lR(t,n):cR(t,n))&&(c=zh(c,"onBeforeInput"),0<c.length&&(h=new _0("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=S))}DE(d,e)})}function Gl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ul(t,n),s!=null&&r.unshift(Gl(t,s,i)),s=Ul(t,e),s!=null&&r.push(Gl(t,s,i))),t=t.return}return r}function lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function R0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ul(n,s),l!=null&&o.unshift(Gl(n,l,a))):i||(l=Ul(n,s),l!=null&&o.push(Gl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ER=/\r\n?/g,TR=/\u0000|\uFFFD/g;function N0(t){return(typeof t=="string"?t:""+t).replace(ER,`
`).replace(TR,"")}function Tu(t,e,n){if(e=N0(e),N0(t)!==e&&n)throw Error(B(425))}function $h(){}var bg=null,Eg=null;function Tg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sg=typeof setTimeout=="function"?setTimeout:void 0,SR=typeof clearTimeout=="function"?clearTimeout:void 0,D0=typeof Promise=="function"?Promise:void 0,kR=typeof queueMicrotask=="function"?queueMicrotask:typeof D0<"u"?function(t){return D0.resolve(null).then(t).catch(IR)}:Sg;function IR(t){setTimeout(function(){throw t})}function hp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),$l(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$l(e)}function Ei(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function O0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ua=Math.random().toString(36).slice(2),er="__reactFiber$"+ua,Kl="__reactProps$"+ua,Or="__reactContainer$"+ua,kg="__reactEvents$"+ua,CR="__reactListeners$"+ua,AR="__reactHandles$"+ua;function ws(t){var e=t[er];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Or]||n[er]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=O0(t);t!==null;){if(n=t[er])return n;t=O0(t)}return e}t=n,n=t.parentNode}return null}function kc(t){return t=t[er]||t[Or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function $d(t){return t[Kl]||null}var Ig=[],bo=-1;function Wi(t){return{current:t}}function De(t){0>bo||(t.current=Ig[bo],Ig[bo]=null,bo--)}function Pe(t,e){bo++,Ig[bo]=t.current,t.current=e}var Oi={},Ut=Wi(Oi),sn=Wi(!1),Os=Oi;function $o(t,e){var n=t.type.contextTypes;if(!n)return Oi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function on(t){return t=t.childContextTypes,t!=null}function Wh(){De(sn),De(Ut)}function M0(t,e,n){if(Ut.current!==Oi)throw Error(B(168));Pe(Ut,e),Pe(sn,n)}function ME(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,fP(t)||"Unknown",i));return He({},n,r)}function Hh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oi,Os=Ut.current,Pe(Ut,t),Pe(sn,sn.current),!0}function L0(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=ME(t,e,Os),r.__reactInternalMemoizedMergedChildContext=t,De(sn),De(Ut),Pe(Ut,t)):De(sn),Pe(sn,n)}var xr=null,Wd=!1,dp=!1;function LE(t){xr===null?xr=[t]:xr.push(t)}function PR(t){Wd=!0,LE(t)}function Hi(){if(!dp&&xr!==null){dp=!0;var t=0,e=Se;try{var n=xr;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xr=null,Wd=!1}catch(i){throw xr!==null&&(xr=xr.slice(t+1)),aE(hy,Hi),i}finally{Se=e,dp=!1}}return null}var Eo=[],To=0,qh=null,Gh=0,Tn=[],Sn=0,Ms=null,Er=1,Tr="";function gs(t,e){Eo[To++]=Gh,Eo[To++]=qh,qh=t,Gh=e}function VE(t,e,n){Tn[Sn++]=Er,Tn[Sn++]=Tr,Tn[Sn++]=Ms,Ms=t;var r=Er;t=Tr;var i=32-Un(r)-1;r&=~(1<<i),n+=1;var s=32-Un(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Er=1<<32-Un(e)+i|n<<i|r,Tr=s+t}else Er=1<<s|n<<i|r,Tr=t}function wy(t){t.return!==null&&(gs(t,1),VE(t,1,0))}function xy(t){for(;t===qh;)qh=Eo[--To],Eo[To]=null,Gh=Eo[--To],Eo[To]=null;for(;t===Ms;)Ms=Tn[--Sn],Tn[Sn]=null,Tr=Tn[--Sn],Tn[Sn]=null,Er=Tn[--Sn],Tn[Sn]=null}var yn=null,fn=null,Le=!1,Ln=null;function jE(t,e){var n=kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function V0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yn=t,fn=Ei(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yn=t,fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ms!==null?{id:Er,overflow:Tr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yn=t,fn=null,!0):!1;default:return!1}}function Cg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ag(t){if(Le){var e=fn;if(e){var n=e;if(!V0(t,e)){if(Cg(t))throw Error(B(418));e=Ei(n.nextSibling);var r=yn;e&&V0(t,e)?jE(r,n):(t.flags=t.flags&-4097|2,Le=!1,yn=t)}}else{if(Cg(t))throw Error(B(418));t.flags=t.flags&-4097|2,Le=!1,yn=t}}}function j0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yn=t}function Su(t){if(t!==yn)return!1;if(!Le)return j0(t),Le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Tg(t.type,t.memoizedProps)),e&&(e=fn)){if(Cg(t))throw FE(),Error(B(418));for(;e;)jE(t,e),e=Ei(e.nextSibling)}if(j0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){fn=Ei(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}fn=null}}else fn=yn?Ei(t.stateNode.nextSibling):null;return!0}function FE(){for(var t=fn;t;)t=Ei(t.nextSibling)}function Wo(){fn=yn=null,Le=!1}function by(t){Ln===null?Ln=[t]:Ln.push(t)}var RR=$r.ReactCurrentBatchConfig;function qa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function ku(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function F0(t){var e=t._init;return e(t._payload)}function UE(t){function e(w,_){if(t){var T=w.deletions;T===null?(w.deletions=[_],w.flags|=16):T.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(w,_){return w=Ii(w,_),w.index=0,w.sibling=null,w}function s(w,_,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<_?(w.flags|=2,_):T):(w.flags|=2,_)):(w.flags|=1048576,_)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,_,T,I){return _===null||_.tag!==6?(_=_p(T,w.mode,I),_.return=w,_):(_=i(_,T),_.return=w,_)}function l(w,_,T,I){var N=T.type;return N===yo?h(w,_,T.props.children,I,T.key):_!==null&&(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ni&&F0(N)===_.type)?(I=i(_,T.props),I.ref=qa(w,_,T),I.return=w,I):(I=ph(T.type,T.key,T.props,null,w.mode,I),I.ref=qa(w,_,T),I.return=w,I)}function c(w,_,T,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=wp(T,w.mode,I),_.return=w,_):(_=i(_,T.children||[]),_.return=w,_)}function h(w,_,T,I,N){return _===null||_.tag!==7?(_=ks(T,w.mode,I,N),_.return=w,_):(_=i(_,T),_.return=w,_)}function d(w,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=_p(""+_,w.mode,T),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case gu:return T=ph(_.type,_.key,_.props,null,w.mode,T),T.ref=qa(w,null,_),T.return=w,T;case mo:return _=wp(_,w.mode,T),_.return=w,_;case ni:var I=_._init;return d(w,I(_._payload),T)}if(nl(_)||Ba(_))return _=ks(_,w.mode,T,null),_.return=w,_;ku(w,_)}return null}function f(w,_,T,I){var N=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return N!==null?null:a(w,_,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case gu:return T.key===N?l(w,_,T,I):null;case mo:return T.key===N?c(w,_,T,I):null;case ni:return N=T._init,f(w,_,N(T._payload),I)}if(nl(T)||Ba(T))return N!==null?null:h(w,_,T,I,null);ku(w,T)}return null}function g(w,_,T,I,N){if(typeof I=="string"&&I!==""||typeof I=="number")return w=w.get(T)||null,a(_,w,""+I,N);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case gu:return w=w.get(I.key===null?T:I.key)||null,l(_,w,I,N);case mo:return w=w.get(I.key===null?T:I.key)||null,c(_,w,I,N);case ni:var O=I._init;return g(w,_,T,O(I._payload),N)}if(nl(I)||Ba(I))return w=w.get(T)||null,h(_,w,I,N,null);ku(_,I)}return null}function y(w,_,T,I){for(var N=null,O=null,S=_,E=_=0,k=null;S!==null&&E<T.length;E++){S.index>E?(k=S,S=null):k=S.sibling;var A=f(w,S,T[E],I);if(A===null){S===null&&(S=k);break}t&&S&&A.alternate===null&&e(w,S),_=s(A,_,E),O===null?N=A:O.sibling=A,O=A,S=k}if(E===T.length)return n(w,S),Le&&gs(w,E),N;if(S===null){for(;E<T.length;E++)S=d(w,T[E],I),S!==null&&(_=s(S,_,E),O===null?N=S:O.sibling=S,O=S);return Le&&gs(w,E),N}for(S=r(w,S);E<T.length;E++)k=g(S,w,E,T[E],I),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?E:k.key),_=s(k,_,E),O===null?N=k:O.sibling=k,O=k);return t&&S.forEach(function(R){return e(w,R)}),Le&&gs(w,E),N}function v(w,_,T,I){var N=Ba(T);if(typeof N!="function")throw Error(B(150));if(T=N.call(T),T==null)throw Error(B(151));for(var O=N=null,S=_,E=_=0,k=null,A=T.next();S!==null&&!A.done;E++,A=T.next()){S.index>E?(k=S,S=null):k=S.sibling;var R=f(w,S,A.value,I);if(R===null){S===null&&(S=k);break}t&&S&&R.alternate===null&&e(w,S),_=s(R,_,E),O===null?N=R:O.sibling=R,O=R,S=k}if(A.done)return n(w,S),Le&&gs(w,E),N;if(S===null){for(;!A.done;E++,A=T.next())A=d(w,A.value,I),A!==null&&(_=s(A,_,E),O===null?N=A:O.sibling=A,O=A);return Le&&gs(w,E),N}for(S=r(w,S);!A.done;E++,A=T.next())A=g(S,w,E,A.value,I),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?E:A.key),_=s(A,_,E),O===null?N=A:O.sibling=A,O=A);return t&&S.forEach(function(D){return e(w,D)}),Le&&gs(w,E),N}function b(w,_,T,I){if(typeof T=="object"&&T!==null&&T.type===yo&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case gu:e:{for(var N=T.key,O=_;O!==null;){if(O.key===N){if(N=T.type,N===yo){if(O.tag===7){n(w,O.sibling),_=i(O,T.props.children),_.return=w,w=_;break e}}else if(O.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ni&&F0(N)===O.type){n(w,O.sibling),_=i(O,T.props),_.ref=qa(w,O,T),_.return=w,w=_;break e}n(w,O);break}else e(w,O);O=O.sibling}T.type===yo?(_=ks(T.props.children,w.mode,I,T.key),_.return=w,w=_):(I=ph(T.type,T.key,T.props,null,w.mode,I),I.ref=qa(w,_,T),I.return=w,w=I)}return o(w);case mo:e:{for(O=T.key;_!==null;){if(_.key===O)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(w,_.sibling),_=i(_,T.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=wp(T,w.mode,I),_.return=w,w=_}return o(w);case ni:return O=T._init,b(w,_,O(T._payload),I)}if(nl(T))return y(w,_,T,I);if(Ba(T))return v(w,_,T,I);ku(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(n(w,_.sibling),_=i(_,T),_.return=w,w=_):(n(w,_),_=_p(T,w.mode,I),_.return=w,w=_),o(w)):n(w,_)}return b}var Ho=UE(!0),BE=UE(!1),Kh=Wi(null),Yh=null,So=null,Ey=null;function Ty(){Ey=So=Yh=null}function Sy(t){var e=Kh.current;De(Kh),t._currentValue=e}function Pg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Mo(t,e){Yh=t,Ey=So=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function An(t){var e=t._currentValue;if(Ey!==t)if(t={context:t,memoizedValue:e,next:null},So===null){if(Yh===null)throw Error(B(308));So=t,Yh.dependencies={lanes:0,firstContext:t}}else So=So.next=t;return e}var xs=null;function ky(t){xs===null?xs=[t]:xs.push(t)}function zE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ky(e)):(n.next=i.next,i.next=n),e.interleaved=n,Mr(t,r)}function Mr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ri=!1;function Iy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $E(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ti(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Mr(t,n)}return i=r.interleaved,i===null?(e.next=e,ky(r)):(e.next=i.next,i.next=e),r.interleaved=e,Mr(t,n)}function lh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dy(t,n)}}function U0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qh(t,e,n,r){var i=t.updateQueue;ri=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=c=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,v=a;switch(f=e,g=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){d=y.call(g,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(g,d,f):y,f==null)break e;d=He({},d,f);break e;case 2:ri=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,l=d):h=h.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Vs|=o,t.lanes=o,t.memoizedState=d}}function B0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var Ic={},nr=Wi(Ic),Yl=Wi(Ic),Ql=Wi(Ic);function bs(t){if(t===Ic)throw Error(B(174));return t}function Cy(t,e){switch(Pe(Ql,e),Pe(Yl,t),Pe(nr,Ic),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ug(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ug(e,t)}De(nr),Pe(nr,e)}function qo(){De(nr),De(Yl),De(Ql)}function WE(t){bs(Ql.current);var e=bs(nr.current),n=ug(e,t.type);e!==n&&(Pe(Yl,t),Pe(nr,n))}function Ay(t){Yl.current===t&&(De(nr),De(Yl))}var $e=Wi(0);function Xh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fp=[];function Py(){for(var t=0;t<fp.length;t++)fp[t]._workInProgressVersionPrimary=null;fp.length=0}var ch=$r.ReactCurrentDispatcher,pp=$r.ReactCurrentBatchConfig,Ls=0,We=null,at=null,yt=null,Jh=!1,xl=!1,Xl=0,NR=0;function Nt(){throw Error(B(321))}function Ry(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wn(t[n],e[n]))return!1;return!0}function Ny(t,e,n,r,i,s){if(Ls=s,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ch.current=t===null||t.memoizedState===null?LR:VR,t=n(r,i),xl){s=0;do{if(xl=!1,Xl=0,25<=s)throw Error(B(301));s+=1,yt=at=null,e.updateQueue=null,ch.current=jR,t=n(r,i)}while(xl)}if(ch.current=Zh,e=at!==null&&at.next!==null,Ls=0,yt=at=We=null,Jh=!1,e)throw Error(B(300));return t}function Dy(){var t=Xl!==0;return Xl=0,t}function Jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?We.memoizedState=yt=t:yt=yt.next=t,yt}function Pn(){if(at===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var e=yt===null?We.memoizedState:yt.next;if(e!==null)yt=e,at=t;else{if(t===null)throw Error(B(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},yt===null?We.memoizedState=yt=t:yt=yt.next=t}return yt}function Jl(t,e){return typeof e=="function"?e(t):e}function gp(t){var e=Pn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=at,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((Ls&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,We.lanes|=h,Vs|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Wn(r,e.memoizedState)||(rn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,We.lanes|=s,Vs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mp(t){var e=Pn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Wn(s,e.memoizedState)||(rn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function HE(){}function qE(t,e){var n=We,r=Pn(),i=e(),s=!Wn(r.memoizedState,i);if(s&&(r.memoizedState=i,rn=!0),r=r.queue,Oy(YE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||yt!==null&&yt.memoizedState.tag&1){if(n.flags|=2048,Zl(9,KE.bind(null,n,r,i,e),void 0,null),_t===null)throw Error(B(349));Ls&30||GE(n,e,i)}return i}function GE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function KE(t,e,n,r){e.value=n,e.getSnapshot=r,QE(e)&&XE(t)}function YE(t,e,n){return n(function(){QE(e)&&XE(t)})}function QE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wn(t,n)}catch{return!0}}function XE(t){var e=Mr(t,1);e!==null&&Bn(e,t,1,-1)}function z0(t){var e=Jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jl,lastRenderedState:t},e.queue=t,t=t.dispatch=MR.bind(null,We,t),[e.memoizedState,t]}function Zl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function JE(){return Pn().memoizedState}function uh(t,e,n,r){var i=Jn();We.flags|=t,i.memoizedState=Zl(1|e,n,void 0,r===void 0?null:r)}function Hd(t,e,n,r){var i=Pn();r=r===void 0?null:r;var s=void 0;if(at!==null){var o=at.memoizedState;if(s=o.destroy,r!==null&&Ry(r,o.deps)){i.memoizedState=Zl(e,n,s,r);return}}We.flags|=t,i.memoizedState=Zl(1|e,n,s,r)}function $0(t,e){return uh(8390656,8,t,e)}function Oy(t,e){return Hd(2048,8,t,e)}function ZE(t,e){return Hd(4,2,t,e)}function eT(t,e){return Hd(4,4,t,e)}function tT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nT(t,e,n){return n=n!=null?n.concat([t]):null,Hd(4,4,tT.bind(null,e,t),n)}function My(){}function rT(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ry(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function iT(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ry(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sT(t,e,n){return Ls&21?(Wn(n,e)||(n=uE(),We.lanes|=n,Vs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=n)}function DR(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=pp.transition;pp.transition={};try{t(!1),e()}finally{Se=n,pp.transition=r}}function oT(){return Pn().memoizedState}function OR(t,e,n){var r=ki(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},aT(t))lT(e,n);else if(n=zE(t,e,n,r),n!==null){var i=Kt();Bn(n,t,r,i),cT(n,e,r)}}function MR(t,e,n){var r=ki(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(aT(t))lT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Wn(a,o)){var l=e.interleaved;l===null?(i.next=i,ky(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=zE(t,e,i,r),n!==null&&(i=Kt(),Bn(n,t,r,i),cT(n,e,r))}}function aT(t){var e=t.alternate;return t===We||e!==null&&e===We}function lT(t,e){xl=Jh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dy(t,n)}}var Zh={readContext:An,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},LR={readContext:An,useCallback:function(t,e){return Jn().memoizedState=[t,e===void 0?null:e],t},useContext:An,useEffect:$0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uh(4194308,4,tT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uh(4194308,4,t,e)},useInsertionEffect:function(t,e){return uh(4,2,t,e)},useMemo:function(t,e){var n=Jn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=OR.bind(null,We,t),[r.memoizedState,t]},useRef:function(t){var e=Jn();return t={current:t},e.memoizedState=t},useState:z0,useDebugValue:My,useDeferredValue:function(t){return Jn().memoizedState=t},useTransition:function(){var t=z0(!1),e=t[0];return t=DR.bind(null,t[1]),Jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=We,i=Jn();if(Le){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),_t===null)throw Error(B(349));Ls&30||GE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,$0(YE.bind(null,r,s,t),[t]),r.flags|=2048,Zl(9,KE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Jn(),e=_t.identifierPrefix;if(Le){var n=Tr,r=Er;n=(r&~(1<<32-Un(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=NR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},VR={readContext:An,useCallback:rT,useContext:An,useEffect:Oy,useImperativeHandle:nT,useInsertionEffect:ZE,useLayoutEffect:eT,useMemo:iT,useReducer:gp,useRef:JE,useState:function(){return gp(Jl)},useDebugValue:My,useDeferredValue:function(t){var e=Pn();return sT(e,at.memoizedState,t)},useTransition:function(){var t=gp(Jl)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:HE,useSyncExternalStore:qE,useId:oT,unstable_isNewReconciler:!1},jR={readContext:An,useCallback:rT,useContext:An,useEffect:Oy,useImperativeHandle:nT,useInsertionEffect:ZE,useLayoutEffect:eT,useMemo:iT,useReducer:mp,useRef:JE,useState:function(){return mp(Jl)},useDebugValue:My,useDeferredValue:function(t){var e=Pn();return at===null?e.memoizedState=t:sT(e,at.memoizedState,t)},useTransition:function(){var t=mp(Jl)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:HE,useSyncExternalStore:qE,useId:oT,unstable_isNewReconciler:!1};function On(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Rg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qd={isMounted:function(t){return(t=t._reactInternals)?qs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=ki(t),s=Rr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ti(t,s,i),e!==null&&(Bn(e,t,i,r),lh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=ki(t),s=Rr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ti(t,s,i),e!==null&&(Bn(e,t,i,r),lh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kt(),r=ki(t),i=Rr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ti(t,i,r),e!==null&&(Bn(e,t,r,n),lh(e,t,r))}};function W0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Hl(n,r)||!Hl(i,s):!0}function uT(t,e,n){var r=!1,i=Oi,s=e.contextType;return typeof s=="object"&&s!==null?s=An(s):(i=on(e)?Os:Ut.current,r=e.contextTypes,s=(r=r!=null)?$o(t,i):Oi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function H0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qd.enqueueReplaceState(e,e.state,null)}function Ng(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Iy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=An(s):(s=on(e)?Os:Ut.current,i.context=$o(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Rg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&qd.enqueueReplaceState(i,i.state,null),Qh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Go(t,e){try{var n="",r=e;do n+=dP(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function yp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Dg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var FR=typeof WeakMap=="function"?WeakMap:Map;function hT(t,e,n){n=Rr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){td||(td=!0,$g=r),Dg(t,e)},n}function dT(t,e,n){n=Rr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Dg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Dg(t,e),typeof r!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function q0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new FR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ZR.bind(null,t,e,n),e.then(t,t))}function G0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function K0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Rr(-1,1),e.tag=2,Ti(n,e,1))),n.lanes|=1),t)}var UR=$r.ReactCurrentOwner,rn=!1;function qt(t,e,n,r){e.child=t===null?BE(e,null,n,r):Ho(e,t.child,n,r)}function Y0(t,e,n,r,i){n=n.render;var s=e.ref;return Mo(e,i),r=Ny(t,e,n,r,s,i),n=Dy(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lr(t,e,i)):(Le&&n&&wy(e),e.flags|=1,qt(t,e,r,i),e.child)}function Q0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!$y(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,fT(t,e,s,r,i)):(t=ph(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Hl,n(o,r)&&t.ref===e.ref)return Lr(t,e,i)}return e.flags|=1,t=Ii(s,r),t.ref=e.ref,t.return=e,e.child=t}function fT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Hl(s,r)&&t.ref===e.ref)if(rn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,Lr(t,e,i)}return Og(t,e,n,r,i)}function pT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Io,hn),hn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(Io,hn),hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Pe(Io,hn),hn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Pe(Io,hn),hn|=r;return qt(t,e,i,n),e.child}function gT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Og(t,e,n,r,i){var s=on(n)?Os:Ut.current;return s=$o(e,s),Mo(e,i),n=Ny(t,e,n,r,s,i),r=Dy(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lr(t,e,i)):(Le&&r&&wy(e),e.flags|=1,qt(t,e,n,i),e.child)}function X0(t,e,n,r,i){if(on(n)){var s=!0;Hh(e)}else s=!1;if(Mo(e,i),e.stateNode===null)hh(t,e),uT(e,n,r),Ng(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=An(c):(c=on(n)?Os:Ut.current,c=$o(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&H0(e,o,r,c),ri=!1;var f=e.memoizedState;o.state=f,Qh(e,r,o,i),l=e.memoizedState,a!==r||f!==l||sn.current||ri?(typeof h=="function"&&(Rg(e,n,h,r),l=e.memoizedState),(a=ri||W0(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$E(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:On(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=An(l):(l=on(n)?Os:Ut.current,l=$o(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&H0(e,o,r,l),ri=!1,f=e.memoizedState,o.state=f,Qh(e,r,o,i);var y=e.memoizedState;a!==d||f!==y||sn.current||ri?(typeof g=="function"&&(Rg(e,n,g,r),y=e.memoizedState),(c=ri||W0(e,n,c,r,f,y,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Mg(t,e,n,r,s,i)}function Mg(t,e,n,r,i,s){gT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&L0(e,n,!1),Lr(t,e,s);r=e.stateNode,UR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ho(e,t.child,null,s),e.child=Ho(e,null,a,s)):qt(t,e,a,s),e.memoizedState=r.state,i&&L0(e,n,!0),e.child}function mT(t){var e=t.stateNode;e.pendingContext?M0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&M0(t,e.context,!1),Cy(t,e.containerInfo)}function J0(t,e,n,r,i){return Wo(),by(i),e.flags|=256,qt(t,e,n,r),e.child}var Lg={dehydrated:null,treeContext:null,retryLane:0};function Vg(t){return{baseLanes:t,cachePool:null,transitions:null}}function yT(t,e,n){var r=e.pendingProps,i=$e.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pe($e,i&1),t===null)return Ag(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Yd(o,r,0,null),t=ks(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Vg(n),e.memoizedState=Lg,t):Ly(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return BR(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ii(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ii(a,s):(s=ks(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Vg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Lg,r}return s=t.child,t=s.sibling,r=Ii(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ly(t,e){return e=Yd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Iu(t,e,n,r){return r!==null&&by(r),Ho(e,t.child,null,n),t=Ly(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function BR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=yp(Error(B(422))),Iu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Yd({mode:"visible",children:r.children},i,0,null),s=ks(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ho(e,t.child,null,o),e.child.memoizedState=Vg(o),e.memoizedState=Lg,s);if(!(e.mode&1))return Iu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=yp(s,r,void 0),Iu(t,e,o,r)}if(a=(o&t.childLanes)!==0,rn||a){if(r=_t,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Mr(t,i),Bn(r,t,i,-1))}return zy(),r=yp(Error(B(421))),Iu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=e2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,fn=Ei(i.nextSibling),yn=e,Le=!0,Ln=null,t!==null&&(Tn[Sn++]=Er,Tn[Sn++]=Tr,Tn[Sn++]=Ms,Er=t.id,Tr=t.overflow,Ms=e),e=Ly(e,r.children),e.flags|=4096,e)}function Z0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Pg(t.return,e,n)}function vp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function vT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(qt(t,e,r.children,n),r=$e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Z0(t,n,e);else if(t.tag===19)Z0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe($e,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),vp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}vp(e,!0,n,null,s);break;case"together":vp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Lr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Ii(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ii(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zR(t,e,n){switch(e.tag){case 3:mT(e),Wo();break;case 5:WE(e);break;case 1:on(e.type)&&Hh(e);break;case 4:Cy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pe(Kh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe($e,$e.current&1),e.flags|=128,null):n&e.child.childLanes?yT(t,e,n):(Pe($e,$e.current&1),t=Lr(t,e,n),t!==null?t.sibling:null);Pe($e,$e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return vT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe($e,$e.current),r)break;return null;case 22:case 23:return e.lanes=0,pT(t,e,n)}return Lr(t,e,n)}var _T,jg,wT,xT;_T=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jg=function(){};wT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,bs(nr.current);var s=null;switch(n){case"input":i=og(t,i),r=og(t,r),s=[];break;case"select":i=He({},i,{value:void 0}),r=He({},r,{value:void 0}),s=[];break;case"textarea":i=cg(t,i),r=cg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$h)}hg(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(jl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(jl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ne("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};xT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ga(t,e){if(!Le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $R(t,e,n){var r=e.pendingProps;switch(xy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(e),null;case 1:return on(e.type)&&Wh(),Dt(e),null;case 3:return r=e.stateNode,qo(),De(sn),De(Ut),Py(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Su(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ln!==null&&(qg(Ln),Ln=null))),jg(t,e),Dt(e),null;case 5:Ay(e);var i=bs(Ql.current);if(n=e.type,t!==null&&e.stateNode!=null)wT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Dt(e),null}if(t=bs(nr.current),Su(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[er]=e,r[Kl]=s,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<il.length;i++)Ne(il[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":l0(r,s),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ne("invalid",r);break;case"textarea":u0(r,s),Ne("invalid",r)}hg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Tu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Tu(r.textContent,a,t),i=["children",""+a]):jl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":mu(r),c0(r,s,!0);break;case"textarea":mu(r),h0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=$h)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Y1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[er]=e,t[Kl]=r,_T(t,e,!1,!1),e.stateNode=t;e:{switch(o=dg(n,r),n){case"dialog":Ne("cancel",t),Ne("close",t),i=r;break;case"iframe":case"object":case"embed":Ne("load",t),i=r;break;case"video":case"audio":for(i=0;i<il.length;i++)Ne(il[i],t);i=r;break;case"source":Ne("error",t),i=r;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),i=r;break;case"details":Ne("toggle",t),i=r;break;case"input":l0(t,r),i=og(t,r),Ne("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=He({},r,{value:void 0}),Ne("invalid",t);break;case"textarea":u0(t,r),i=cg(t,r),Ne("invalid",t);break;default:i=r}hg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?J1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Q1(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fl(t,l):typeof l=="number"&&Fl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(jl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ne("scroll",t):l!=null&&oy(t,s,l,o))}switch(n){case"input":mu(t),c0(t,r,!1);break;case"textarea":mu(t),h0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Di(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ro(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ro(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=$h)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dt(e),null;case 6:if(t&&e.stateNode!=null)xT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=bs(Ql.current),bs(nr.current),Su(e)){if(r=e.stateNode,n=e.memoizedProps,r[er]=e,(s=r.nodeValue!==n)&&(t=yn,t!==null))switch(t.tag){case 3:Tu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Tu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[er]=e,e.stateNode=r}return Dt(e),null;case 13:if(De($e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Le&&fn!==null&&e.mode&1&&!(e.flags&128))FE(),Wo(),e.flags|=98560,s=!1;else if(s=Su(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[er]=e}else Wo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dt(e),s=!1}else Ln!==null&&(qg(Ln),Ln=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$e.current&1?ct===0&&(ct=3):zy())),e.updateQueue!==null&&(e.flags|=4),Dt(e),null);case 4:return qo(),jg(t,e),t===null&&ql(e.stateNode.containerInfo),Dt(e),null;case 10:return Sy(e.type._context),Dt(e),null;case 17:return on(e.type)&&Wh(),Dt(e),null;case 19:if(De($e),s=e.memoizedState,s===null)return Dt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ga(s,!1);else{if(ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xh(t),o!==null){for(e.flags|=128,Ga(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe($e,$e.current&1|2),e.child}t=t.sibling}s.tail!==null&&tt()>Ko&&(e.flags|=128,r=!0,Ga(s,!1),e.lanes=4194304)}else{if(!r)if(t=Xh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ga(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Le)return Dt(e),null}else 2*tt()-s.renderingStartTime>Ko&&n!==1073741824&&(e.flags|=128,r=!0,Ga(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=tt(),e.sibling=null,n=$e.current,Pe($e,r?n&1|2:n&1),e):(Dt(e),null);case 22:case 23:return By(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hn&1073741824&&(Dt(e),e.subtreeFlags&6&&(e.flags|=8192)):Dt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function WR(t,e){switch(xy(e),e.tag){case 1:return on(e.type)&&Wh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qo(),De(sn),De(Ut),Py(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ay(e),null;case 13:if(De($e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Wo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De($e),null;case 4:return qo(),null;case 10:return Sy(e.type._context),null;case 22:case 23:return By(),null;case 24:return null;default:return null}}var Cu=!1,Vt=!1,HR=typeof WeakSet=="function"?WeakSet:Set,G=null;function ko(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ye(t,e,r)}else n.current=null}function Fg(t,e,n){try{n()}catch(r){Ye(t,e,r)}}var ew=!1;function qR(t,e){if(bg=Uh,t=kE(),_y(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,f=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++h===r&&(l=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Eg={focusedElem:t,selectionRange:n},Uh=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,b=y.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:On(e.type,v),b);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(I){Ye(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return y=ew,ew=!1,y}function bl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Fg(e,n,s)}i=i.next}while(i!==r)}}function Gd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ug(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bT(t){var e=t.alternate;e!==null&&(t.alternate=null,bT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[er],delete e[Kl],delete e[kg],delete e[CR],delete e[AR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ET(t){return t.tag===5||t.tag===3||t.tag===4}function tw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ET(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$h));else if(r!==4&&(t=t.child,t!==null))for(Bg(t,e,n),t=t.sibling;t!==null;)Bg(t,e,n),t=t.sibling}function zg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(zg(t,e,n),t=t.sibling;t!==null;)zg(t,e,n),t=t.sibling}var Et=null,Mn=!1;function Jr(t,e,n){for(n=n.child;n!==null;)TT(t,e,n),n=n.sibling}function TT(t,e,n){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(Fd,n)}catch{}switch(n.tag){case 5:Vt||ko(n,e);case 6:var r=Et,i=Mn;Et=null,Jr(t,e,n),Et=r,Mn=i,Et!==null&&(Mn?(t=Et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(Mn?(t=Et,n=n.stateNode,t.nodeType===8?hp(t.parentNode,n):t.nodeType===1&&hp(t,n),$l(t)):hp(Et,n.stateNode));break;case 4:r=Et,i=Mn,Et=n.stateNode.containerInfo,Mn=!0,Jr(t,e,n),Et=r,Mn=i;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Fg(n,e,o),i=i.next}while(i!==r)}Jr(t,e,n);break;case 1:if(!Vt&&(ko(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ye(n,e,a)}Jr(t,e,n);break;case 21:Jr(t,e,n);break;case 22:n.mode&1?(Vt=(r=Vt)||n.memoizedState!==null,Jr(t,e,n),Vt=r):Jr(t,e,n);break;default:Jr(t,e,n)}}function nw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new HR),e.forEach(function(r){var i=t2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Et=a.stateNode,Mn=!1;break e;case 3:Et=a.stateNode.containerInfo,Mn=!0;break e;case 4:Et=a.stateNode.containerInfo,Mn=!0;break e}a=a.return}if(Et===null)throw Error(B(160));TT(s,o,i),Et=null,Mn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ye(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ST(e,t),e=e.sibling}function ST(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dn(e,t),Yn(t),r&4){try{bl(3,t,t.return),Gd(3,t)}catch(v){Ye(t,t.return,v)}try{bl(5,t,t.return)}catch(v){Ye(t,t.return,v)}}break;case 1:Dn(e,t),Yn(t),r&512&&n!==null&&ko(n,n.return);break;case 5:if(Dn(e,t),Yn(t),r&512&&n!==null&&ko(n,n.return),t.flags&32){var i=t.stateNode;try{Fl(i,"")}catch(v){Ye(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&G1(i,s),dg(a,o);var c=dg(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?J1(i,d):h==="dangerouslySetInnerHTML"?Q1(i,d):h==="children"?Fl(i,d):oy(i,h,d,c)}switch(a){case"input":ag(i,s);break;case"textarea":K1(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ro(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ro(i,!!s.multiple,s.defaultValue,!0):Ro(i,!!s.multiple,s.multiple?[]:"",!1))}i[Kl]=s}catch(v){Ye(t,t.return,v)}}break;case 6:if(Dn(e,t),Yn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Ye(t,t.return,v)}}break;case 3:if(Dn(e,t),Yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$l(e.containerInfo)}catch(v){Ye(t,t.return,v)}break;case 4:Dn(e,t),Yn(t);break;case 13:Dn(e,t),Yn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fy=tt())),r&4&&nw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Vt=(c=Vt)||h,Dn(e,t),Vt=c):Dn(e,t),Yn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(G=t,h=t.child;h!==null;){for(d=G=h;G!==null;){switch(f=G,g=f.child,f.tag){case 0:case 11:case 14:case 15:bl(4,f,f.return);break;case 1:ko(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){Ye(r,n,v)}}break;case 5:ko(f,f.return);break;case 22:if(f.memoizedState!==null){iw(d);continue}}g!==null?(g.return=f,G=g):iw(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=X1("display",o))}catch(v){Ye(t,t.return,v)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Ye(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Dn(e,t),Yn(t),r&4&&nw(t);break;case 21:break;default:Dn(e,t),Yn(t)}}function Yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ET(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fl(i,""),r.flags&=-33);var s=tw(t);zg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=tw(t);Bg(t,a,o);break;default:throw Error(B(161))}}catch(l){Ye(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GR(t,e,n){G=t,kT(t)}function kT(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Cu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Vt;a=Cu;var c=Vt;if(Cu=o,(Vt=l)&&!c)for(G=i;G!==null;)o=G,l=o.child,o.tag===22&&o.memoizedState!==null?sw(i):l!==null?(l.return=o,G=l):sw(i);for(;s!==null;)G=s,kT(s),s=s.sibling;G=i,Cu=a,Vt=c}rw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):rw(t)}}function rw(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||Gd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:On(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&B0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}B0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&$l(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Vt||e.flags&512&&Ug(e)}catch(f){Ye(e,e.return,f)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function iw(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function sw(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gd(4,e)}catch(l){Ye(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ye(e,i,l)}}var s=e.return;try{Ug(e)}catch(l){Ye(e,s,l)}break;case 5:var o=e.return;try{Ug(e)}catch(l){Ye(e,o,l)}}}catch(l){Ye(e,e.return,l)}if(e===t){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var KR=Math.ceil,ed=$r.ReactCurrentDispatcher,Vy=$r.ReactCurrentOwner,Cn=$r.ReactCurrentBatchConfig,ye=0,_t=null,ot=null,It=0,hn=0,Io=Wi(0),ct=0,ec=null,Vs=0,Kd=0,jy=0,El=null,en=null,Fy=0,Ko=1/0,wr=null,td=!1,$g=null,Si=null,Au=!1,di=null,nd=0,Tl=0,Wg=null,dh=-1,fh=0;function Kt(){return ye&6?tt():dh!==-1?dh:dh=tt()}function ki(t){return t.mode&1?ye&2&&It!==0?It&-It:RR.transition!==null?(fh===0&&(fh=uE()),fh):(t=Se,t!==0||(t=window.event,t=t===void 0?16:yE(t.type)),t):1}function Bn(t,e,n,r){if(50<Tl)throw Tl=0,Wg=null,Error(B(185));Tc(t,n,r),(!(ye&2)||t!==_t)&&(t===_t&&(!(ye&2)&&(Kd|=n),ct===4&&si(t,It)),an(t,r),n===1&&ye===0&&!(e.mode&1)&&(Ko=tt()+500,Wd&&Hi()))}function an(t,e){var n=t.callbackNode;RP(t,e);var r=Fh(t,t===_t?It:0);if(r===0)n!==null&&p0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&p0(n),e===1)t.tag===0?PR(ow.bind(null,t)):LE(ow.bind(null,t)),kR(function(){!(ye&6)&&Hi()}),n=null;else{switch(hE(r)){case 1:n=hy;break;case 4:n=lE;break;case 16:n=jh;break;case 536870912:n=cE;break;default:n=jh}n=OT(n,IT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function IT(t,e){if(dh=-1,fh=0,ye&6)throw Error(B(327));var n=t.callbackNode;if(Lo()&&t.callbackNode!==n)return null;var r=Fh(t,t===_t?It:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rd(t,r);else{e=r;var i=ye;ye|=2;var s=AT();(_t!==t||It!==e)&&(wr=null,Ko=tt()+500,Ss(t,e));do try{XR();break}catch(a){CT(t,a)}while(!0);Ty(),ed.current=s,ye=i,ot!==null?e=0:(_t=null,It=0,e=ct)}if(e!==0){if(e===2&&(i=yg(t),i!==0&&(r=i,e=Hg(t,i))),e===1)throw n=ec,Ss(t,0),si(t,r),an(t,tt()),n;if(e===6)si(t,r);else{if(i=t.current.alternate,!(r&30)&&!YR(i)&&(e=rd(t,r),e===2&&(s=yg(t),s!==0&&(r=s,e=Hg(t,s))),e===1))throw n=ec,Ss(t,0),si(t,r),an(t,tt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:ms(t,en,wr);break;case 3:if(si(t,r),(r&130023424)===r&&(e=Fy+500-tt(),10<e)){if(Fh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Kt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Sg(ms.bind(null,t,en,wr),e);break}ms(t,en,wr);break;case 4:if(si(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Un(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KR(r/1960))-r,10<r){t.timeoutHandle=Sg(ms.bind(null,t,en,wr),r);break}ms(t,en,wr);break;case 5:ms(t,en,wr);break;default:throw Error(B(329))}}}return an(t,tt()),t.callbackNode===n?IT.bind(null,t):null}function Hg(t,e){var n=El;return t.current.memoizedState.isDehydrated&&(Ss(t,e).flags|=256),t=rd(t,e),t!==2&&(e=en,en=n,e!==null&&qg(e)),t}function qg(t){en===null?en=t:en.push.apply(en,t)}function YR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Wn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function si(t,e){for(e&=~jy,e&=~Kd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Un(e),r=1<<n;t[n]=-1,e&=~r}}function ow(t){if(ye&6)throw Error(B(327));Lo();var e=Fh(t,0);if(!(e&1))return an(t,tt()),null;var n=rd(t,e);if(t.tag!==0&&n===2){var r=yg(t);r!==0&&(e=r,n=Hg(t,r))}if(n===1)throw n=ec,Ss(t,0),si(t,e),an(t,tt()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ms(t,en,wr),an(t,tt()),null}function Uy(t,e){var n=ye;ye|=1;try{return t(e)}finally{ye=n,ye===0&&(Ko=tt()+500,Wd&&Hi())}}function js(t){di!==null&&di.tag===0&&!(ye&6)&&Lo();var e=ye;ye|=1;var n=Cn.transition,r=Se;try{if(Cn.transition=null,Se=1,t)return t()}finally{Se=r,Cn.transition=n,ye=e,!(ye&6)&&Hi()}}function By(){hn=Io.current,De(Io)}function Ss(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,SR(n)),ot!==null)for(n=ot.return;n!==null;){var r=n;switch(xy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wh();break;case 3:qo(),De(sn),De(Ut),Py();break;case 5:Ay(r);break;case 4:qo();break;case 13:De($e);break;case 19:De($e);break;case 10:Sy(r.type._context);break;case 22:case 23:By()}n=n.return}if(_t=t,ot=t=Ii(t.current,null),It=hn=e,ct=0,ec=null,jy=Kd=Vs=0,en=El=null,xs!==null){for(e=0;e<xs.length;e++)if(n=xs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}xs=null}return t}function CT(t,e){do{var n=ot;try{if(Ty(),ch.current=Zh,Jh){for(var r=We.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jh=!1}if(Ls=0,yt=at=We=null,xl=!1,Xl=0,Vy.current=null,n===null||n.return===null){ct=1,ec=e,ot=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=It,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=G0(o);if(g!==null){g.flags&=-257,K0(g,o,a,s,e),g.mode&1&&q0(s,c,e),e=g,l=c;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){q0(s,c,e),zy();break e}l=Error(B(426))}}else if(Le&&a.mode&1){var b=G0(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),K0(b,o,a,s,e),by(Go(l,a));break e}}s=l=Go(l,a),ct!==4&&(ct=2),El===null?El=[s]:El.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=hT(s,l,e);U0(s,w);break e;case 1:a=l;var _=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Si===null||!Si.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=dT(s,a,e);U0(s,I);break e}}s=s.return}while(s!==null)}RT(n)}catch(N){e=N,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(!0)}function AT(){var t=ed.current;return ed.current=Zh,t===null?Zh:t}function zy(){(ct===0||ct===3||ct===2)&&(ct=4),_t===null||!(Vs&268435455)&&!(Kd&268435455)||si(_t,It)}function rd(t,e){var n=ye;ye|=2;var r=AT();(_t!==t||It!==e)&&(wr=null,Ss(t,e));do try{QR();break}catch(i){CT(t,i)}while(!0);if(Ty(),ye=n,ed.current=r,ot!==null)throw Error(B(261));return _t=null,It=0,ct}function QR(){for(;ot!==null;)PT(ot)}function XR(){for(;ot!==null&&!bP();)PT(ot)}function PT(t){var e=DT(t.alternate,t,hn);t.memoizedProps=t.pendingProps,e===null?RT(t):ot=e,Vy.current=null}function RT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WR(n,e),n!==null){n.flags&=32767,ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ct=6,ot=null;return}}else if(n=$R(n,e,hn),n!==null){ot=n;return}if(e=e.sibling,e!==null){ot=e;return}ot=e=t}while(e!==null);ct===0&&(ct=5)}function ms(t,e,n){var r=Se,i=Cn.transition;try{Cn.transition=null,Se=1,JR(t,e,n,r)}finally{Cn.transition=i,Se=r}return null}function JR(t,e,n,r){do Lo();while(di!==null);if(ye&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(NP(t,s),t===_t&&(ot=_t=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Au||(Au=!0,OT(jh,function(){return Lo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Cn.transition,Cn.transition=null;var o=Se;Se=1;var a=ye;ye|=4,Vy.current=null,qR(t,n),ST(n,t),vR(Eg),Uh=!!bg,Eg=bg=null,t.current=n,GR(n),EP(),ye=a,Se=o,Cn.transition=s}else t.current=n;if(Au&&(Au=!1,di=t,nd=i),s=t.pendingLanes,s===0&&(Si=null),kP(n.stateNode),an(t,tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(td)throw td=!1,t=$g,$g=null,t;return nd&1&&t.tag!==0&&Lo(),s=t.pendingLanes,s&1?t===Wg?Tl++:(Tl=0,Wg=t):Tl=0,Hi(),null}function Lo(){if(di!==null){var t=hE(nd),e=Cn.transition,n=Se;try{if(Cn.transition=null,Se=16>t?16:t,di===null)var r=!1;else{if(t=di,di=null,nd=0,ye&6)throw Error(B(331));var i=ye;for(ye|=4,G=t.current;G!==null;){var s=G,o=s.child;if(G.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(G=c;G!==null;){var h=G;switch(h.tag){case 0:case 11:case 15:bl(8,h,s)}var d=h.child;if(d!==null)d.return=h,G=d;else for(;G!==null;){h=G;var f=h.sibling,g=h.return;if(bT(h),h===c){G=null;break}if(f!==null){f.return=g,G=f;break}G=g}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}G=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,G=o;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bl(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,G=w;break e}G=s.return}}var _=t.current;for(G=_;G!==null;){o=G;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,G=T;else e:for(o=_;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gd(9,a)}}catch(N){Ye(a,a.return,N)}if(a===o){G=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,G=I;break e}G=a.return}}if(ye=i,Hi(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(Fd,t)}catch{}r=!0}return r}finally{Se=n,Cn.transition=e}}return!1}function aw(t,e,n){e=Go(n,e),e=hT(t,e,1),t=Ti(t,e,1),e=Kt(),t!==null&&(Tc(t,1,e),an(t,e))}function Ye(t,e,n){if(t.tag===3)aw(t,t,n);else for(;e!==null;){if(e.tag===3){aw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Si===null||!Si.has(r))){t=Go(n,t),t=dT(e,t,1),e=Ti(e,t,1),t=Kt(),e!==null&&(Tc(e,1,t),an(e,t));break}}e=e.return}}function ZR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kt(),t.pingedLanes|=t.suspendedLanes&n,_t===t&&(It&n)===n&&(ct===4||ct===3&&(It&130023424)===It&&500>tt()-Fy?Ss(t,0):jy|=n),an(t,e)}function NT(t,e){e===0&&(t.mode&1?(e=_u,_u<<=1,!(_u&130023424)&&(_u=4194304)):e=1);var n=Kt();t=Mr(t,e),t!==null&&(Tc(t,e,n),an(t,n))}function e2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NT(t,n)}function t2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),NT(t,n)}var DT;DT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rn=!1,zR(t,e,n);rn=!!(t.flags&131072)}else rn=!1,Le&&e.flags&1048576&&VE(e,Gh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hh(t,e),t=e.pendingProps;var i=$o(e,Ut.current);Mo(e,n),i=Ny(null,e,r,t,i,n);var s=Dy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(r)?(s=!0,Hh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Iy(e),i.updater=qd,e.stateNode=i,i._reactInternals=e,Ng(e,r,t,n),e=Mg(null,e,r,!0,s,n)):(e.tag=0,Le&&s&&wy(e),qt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=r2(r),t=On(r,t),i){case 0:e=Og(null,e,r,t,n);break e;case 1:e=X0(null,e,r,t,n);break e;case 11:e=Y0(null,e,r,t,n);break e;case 14:e=Q0(null,e,r,On(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),Og(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),X0(t,e,r,i,n);case 3:e:{if(mT(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,$E(t,e),Qh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Go(Error(B(423)),e),e=J0(t,e,r,n,i);break e}else if(r!==i){i=Go(Error(B(424)),e),e=J0(t,e,r,n,i);break e}else for(fn=Ei(e.stateNode.containerInfo.firstChild),yn=e,Le=!0,Ln=null,n=BE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wo(),r===i){e=Lr(t,e,n);break e}qt(t,e,r,n)}e=e.child}return e;case 5:return WE(e),t===null&&Ag(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Tg(r,i)?o=null:s!==null&&Tg(r,s)&&(e.flags|=32),gT(t,e),qt(t,e,o,n),e.child;case 6:return t===null&&Ag(e),null;case 13:return yT(t,e,n);case 4:return Cy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ho(e,null,r,n):qt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),Y0(t,e,r,i,n);case 7:return qt(t,e,e.pendingProps,n),e.child;case 8:return qt(t,e,e.pendingProps.children,n),e.child;case 12:return qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Pe(Kh,r._currentValue),r._currentValue=o,s!==null)if(Wn(s.value,o)){if(s.children===i.children&&!sn.current){e=Lr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Rr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Pg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Pg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}qt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Mo(e,n),i=An(i),r=r(i),e.flags|=1,qt(t,e,r,n),e.child;case 14:return r=e.type,i=On(r,e.pendingProps),i=On(r.type,i),Q0(t,e,r,i,n);case 15:return fT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),hh(t,e),e.tag=1,on(r)?(t=!0,Hh(e)):t=!1,Mo(e,n),uT(e,r,i),Ng(e,r,i,n),Mg(null,e,r,!0,t,n);case 19:return vT(t,e,n);case 22:return pT(t,e,n)}throw Error(B(156,e.tag))};function OT(t,e){return aE(t,e)}function n2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,e,n,r){return new n2(t,e,n,r)}function $y(t){return t=t.prototype,!(!t||!t.isReactComponent)}function r2(t){if(typeof t=="function")return $y(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ly)return 11;if(t===cy)return 14}return 2}function Ii(t,e){var n=t.alternate;return n===null?(n=kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ph(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")$y(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case yo:return ks(n.children,i,s,e);case ay:o=8,i|=8;break;case ng:return t=kn(12,n,e,i|2),t.elementType=ng,t.lanes=s,t;case rg:return t=kn(13,n,e,i),t.elementType=rg,t.lanes=s,t;case ig:return t=kn(19,n,e,i),t.elementType=ig,t.lanes=s,t;case W1:return Yd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z1:o=10;break e;case $1:o=9;break e;case ly:o=11;break e;case cy:o=14;break e;case ni:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=kn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ks(t,e,n,r){return t=kn(7,t,r,e),t.lanes=n,t}function Yd(t,e,n,r){return t=kn(22,t,r,e),t.elementType=W1,t.lanes=n,t.stateNode={isHidden:!1},t}function _p(t,e,n){return t=kn(6,t,null,e),t.lanes=n,t}function wp(t,e,n){return e=kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function i2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ep(0),this.expirationTimes=ep(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ep(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wy(t,e,n,r,i,s,o,a,l){return t=new i2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=kn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Iy(s),t}function s2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function MT(t){if(!t)return Oi;t=t._reactInternals;e:{if(qs(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(on(n))return ME(t,n,e)}return e}function LT(t,e,n,r,i,s,o,a,l){return t=Wy(n,r,!0,t,i,s,o,a,l),t.context=MT(null),n=t.current,r=Kt(),i=ki(n),s=Rr(r,i),s.callback=e??null,Ti(n,s,i),t.current.lanes=i,Tc(t,i,r),an(t,r),t}function Qd(t,e,n,r){var i=e.current,s=Kt(),o=ki(i);return n=MT(n),e.context===null?e.context=n:e.pendingContext=n,e=Rr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ti(i,e,o),t!==null&&(Bn(t,i,o,s),lh(t,i,o)),o}function id(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hy(t,e){lw(t,e),(t=t.alternate)&&lw(t,e)}function o2(){return null}var VT=typeof reportError=="function"?reportError:function(t){console.error(t)};function qy(t){this._internalRoot=t}Xd.prototype.render=qy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Qd(t,e,null,null)};Xd.prototype.unmount=qy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;js(function(){Qd(null,t,null,null)}),e[Or]=null}};function Xd(t){this._internalRoot=t}Xd.prototype.unstable_scheduleHydration=function(t){if(t){var e=pE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ii.length&&e!==0&&e<ii[n].priority;n++);ii.splice(n,0,t),n===0&&mE(t)}};function Gy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cw(){}function a2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=id(o);s.call(c)}}var o=LT(e,r,t,0,null,!1,!1,"",cw);return t._reactRootContainer=o,t[Or]=o.current,ql(t.nodeType===8?t.parentNode:t),js(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=id(l);a.call(c)}}var l=Wy(t,0,!1,null,null,!1,!1,"",cw);return t._reactRootContainer=l,t[Or]=l.current,ql(t.nodeType===8?t.parentNode:t),js(function(){Qd(e,l,n,r)}),l}function Zd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=id(o);a.call(l)}}Qd(e,o,t,i)}else o=a2(n,e,t,i,r);return id(o)}dE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rl(e.pendingLanes);n!==0&&(dy(e,n|1),an(e,tt()),!(ye&6)&&(Ko=tt()+500,Hi()))}break;case 13:js(function(){var r=Mr(t,1);if(r!==null){var i=Kt();Bn(r,t,1,i)}}),Hy(t,1)}};fy=function(t){if(t.tag===13){var e=Mr(t,134217728);if(e!==null){var n=Kt();Bn(e,t,134217728,n)}Hy(t,134217728)}};fE=function(t){if(t.tag===13){var e=ki(t),n=Mr(t,e);if(n!==null){var r=Kt();Bn(n,t,e,r)}Hy(t,e)}};pE=function(){return Se};gE=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};pg=function(t,e,n){switch(e){case"input":if(ag(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=$d(r);if(!i)throw Error(B(90));q1(r),ag(r,i)}}}break;case"textarea":K1(t,n);break;case"select":e=n.value,e!=null&&Ro(t,!!n.multiple,e,!1)}};tE=Uy;nE=js;var l2={usingClientEntryPoint:!1,Events:[kc,xo,$d,Z1,eE,Uy]},Ka={findFiberByHostInstance:ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c2={bundleType:Ka.bundleType,version:Ka.version,rendererPackageName:Ka.rendererPackageName,rendererConfig:Ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ka.findFiberByHostInstance||o2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{Fd=Pu.inject(c2),tr=Pu}catch{}}wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l2;wn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gy(e))throw Error(B(200));return s2(t,e,null,n)};wn.createRoot=function(t,e){if(!Gy(t))throw Error(B(299));var n=!1,r="",i=VT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Wy(t,1,!1,null,null,n,!1,r,i),t[Or]=e.current,ql(t.nodeType===8?t.parentNode:t),new qy(e)};wn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=sE(e),t=t===null?null:t.stateNode,t};wn.flushSync=function(t){return js(t)};wn.hydrate=function(t,e,n){if(!Jd(e))throw Error(B(200));return Zd(null,t,e,!0,n)};wn.hydrateRoot=function(t,e,n){if(!Gy(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=VT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=LT(e,null,t,1,n??null,i,!1,s,o),t[Or]=e.current,ql(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Xd(e)};wn.render=function(t,e,n){if(!Jd(e))throw Error(B(200));return Zd(null,t,e,!1,n)};wn.unmountComponentAtNode=function(t){if(!Jd(t))throw Error(B(40));return t._reactRootContainer?(js(function(){Zd(null,null,t,!1,function(){t._reactRootContainer=null,t[Or]=null})}),!0):!1};wn.unstable_batchedUpdates=Uy;wn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jd(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Zd(t,e,n,!1,r)};wn.version="18.3.1-next-f1338f8080-20240426";function jT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jT)}catch(t){console.error(t)}}jT(),j1.exports=wn;var u2=j1.exports,uw=u2;eg.createRoot=uw.createRoot,eg.hydrateRoot=uw.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tc(){return tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tc.apply(this,arguments)}var fi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fi||(fi={}));const hw="popstate";function h2(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Gg("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:sd(i)}return f2(e,n,null,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function FT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function d2(){return Math.random().toString(36).substr(2,8)}function dw(t,e){return{usr:t.state,key:t.key,idx:e}}function Gg(t,e,n,r){return n===void 0&&(n=null),tc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ha(e):e,{state:n,key:e&&e.key||r||d2()})}function sd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ha(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function f2(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=fi.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(tc({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=fi.Pop;let b=h(),w=b==null?null:b-c;c=b,l&&l({action:a,location:v.location,delta:w})}function f(b,w){a=fi.Push;let _=Gg(v.location,b,w);c=h()+1;let T=dw(_,c),I=v.createHref(_);try{o.pushState(T,"",I)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(I)}s&&l&&l({action:a,location:v.location,delta:1})}function g(b,w){a=fi.Replace;let _=Gg(v.location,b,w);c=h();let T=dw(_,c),I=v.createHref(_);o.replaceState(T,"",I),s&&l&&l({action:a,location:v.location,delta:0})}function y(b){let w=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof b=="string"?b:sd(b);return _=_.replace(/ $/,"%20"),rt(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let v={get action(){return a},get location(){return t(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(hw,d),l=b,()=>{i.removeEventListener(hw,d),l=null}},createHref(b){return e(i,b)},createURL:y,encodeLocation(b){let w=y(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:g,go(b){return o.go(b)}};return v}var fw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(fw||(fw={}));function p2(t,e,n){return n===void 0&&(n="/"),g2(t,e,n,!1)}function g2(t,e,n,r){let i=typeof e=="string"?ha(e):e,s=Ky(i.pathname||"/",n);if(s==null)return null;let o=UT(t);m2(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=I2(s);a=S2(o[l],c,r)}return a}function UT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(rt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ci([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(rt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),UT(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:E2(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of BT(s.path))i(s,o,l)}),e}function BT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=BT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function m2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:T2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const y2=/^:[\w-]+$/,v2=3,_2=2,w2=1,x2=10,b2=-2,pw=t=>t==="*";function E2(t,e){let n=t.split("/"),r=n.length;return n.some(pw)&&(r+=b2),e&&(r+=_2),n.filter(i=>!pw(i)).reduce((i,s)=>i+(y2.test(s)?v2:s===""?w2:x2),r)}function T2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function S2(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=gw({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=gw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Ci([s,d.pathname]),pathnameBase:R2(Ci([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Ci([s,d.pathnameBase]))}return o}function gw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=k2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:f,isOptional:g}=h;if(f==="*"){let v=a[d]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=a[d];return g&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function k2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),FT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function I2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return FT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ky(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function C2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ha(t):t;return{pathname:n?n.startsWith("/")?n:A2(n,e):e,search:N2(r),hash:D2(i)}}function A2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function P2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Yy(t,e){let n=P2(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Qy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ha(t):(i=tc({},t),rt(!i.pathname||!i.pathname.includes("?"),xp("?","pathname","search",i)),rt(!i.pathname||!i.pathname.includes("#"),xp("#","pathname","hash",i)),rt(!i.search||!i.search.includes("#"),xp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=C2(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const Ci=t=>t.join("/").replace(/\/\/+/g,"/"),R2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),N2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,D2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function O2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zT=["post","put","patch","delete"];new Set(zT);const M2=["get",...zT];new Set(M2);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nc(){return nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nc.apply(this,arguments)}const Xy=M.createContext(null),L2=M.createContext(null),qi=M.createContext(null),ef=M.createContext(null),Wr=M.createContext({outlet:null,matches:[],isDataRoute:!1}),$T=M.createContext(null);function V2(t,e){let{relative:n}=e===void 0?{}:e;da()||rt(!1);let{basename:r,navigator:i}=M.useContext(qi),{hash:s,pathname:o,search:a}=HT(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ci([r,o])),i.createHref({pathname:l,search:a,hash:s})}function da(){return M.useContext(ef)!=null}function Gi(){return da()||rt(!1),M.useContext(ef).location}function WT(t){M.useContext(qi).static||M.useLayoutEffect(t)}function Rn(){let{isDataRoute:t}=M.useContext(Wr);return t?X2():j2()}function j2(){da()||rt(!1);let t=M.useContext(Xy),{basename:e,future:n,navigator:r}=M.useContext(qi),{matches:i}=M.useContext(Wr),{pathname:s}=Gi(),o=JSON.stringify(Yy(i,n.v7_relativeSplatPath)),a=M.useRef(!1);return WT(()=>{a.current=!0}),M.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Qy(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ci([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,s,t])}function F2(){let{matches:t}=M.useContext(Wr),e=t[t.length-1];return e?e.params:{}}function HT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=M.useContext(qi),{matches:i}=M.useContext(Wr),{pathname:s}=Gi(),o=JSON.stringify(Yy(i,r.v7_relativeSplatPath));return M.useMemo(()=>Qy(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function U2(t,e){return B2(t,e)}function B2(t,e,n,r){da()||rt(!1);let{navigator:i}=M.useContext(qi),{matches:s}=M.useContext(Wr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Gi(),h;if(e){var d;let b=typeof e=="string"?ha(e):e;l==="/"||(d=b.pathname)!=null&&d.startsWith(l)||rt(!1),h=b}else h=c;let f=h.pathname||"/",g=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=p2(t,{pathname:g}),v=q2(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Ci([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Ci([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return e&&v?M.createElement(ef.Provider,{value:{location:nc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:fi.Pop}},v):v}function z2(){let t=Q2(),e=O2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,null)}const $2=M.createElement(z2,null);class W2 extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(Wr.Provider,{value:this.props.routeContext},M.createElement($T.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function H2(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext(Xy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(Wr.Provider,{value:e},r)}function q2(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||rt(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:f,errors:g}=n,y=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,f)=>{let g,y=!1,v=null,b=null;n&&(g=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||$2,l&&(c<0&&f===0?(y=!0,b=null):c===f&&(y=!0,b=d.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),_=()=>{let T;return g?T=v:y?T=b:d.route.Component?T=M.createElement(d.route.Component,null):d.route.element?T=d.route.element:T=h,M.createElement(H2,{match:d,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:T})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?M.createElement(W2,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}var qT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(qT||{}),od=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(od||{});function G2(t){let e=M.useContext(Xy);return e||rt(!1),e}function K2(t){let e=M.useContext(L2);return e||rt(!1),e}function Y2(t){let e=M.useContext(Wr);return e||rt(!1),e}function GT(t){let e=Y2(),n=e.matches[e.matches.length-1];return n.route.id||rt(!1),n.route.id}function Q2(){var t;let e=M.useContext($T),n=K2(od.UseRouteError),r=GT(od.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function X2(){let{router:t}=G2(qT.UseNavigateStable),e=GT(od.UseNavigateStable),n=M.useRef(!1);return WT(()=>{n.current=!0}),M.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,nc({fromRouteId:e},s)))},[t,e])}const mw={};function J2(t,e){mw[e]||(mw[e]=!0,console.warn(e))}const yw=(t,e,n)=>J2(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function Z2(t,e){t!=null&&t.v7_startTransition||yw("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&yw("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function eN(t){let{to:e,replace:n,state:r,relative:i}=t;da()||rt(!1);let{future:s,static:o}=M.useContext(qi),{matches:a}=M.useContext(Wr),{pathname:l}=Gi(),c=Rn(),h=Qy(e,Yy(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(h);return M.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function En(t){rt(!1)}function tN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=fi.Pop,navigator:s,static:o=!1,future:a}=t;da()&&rt(!1);let l=e.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:l,navigator:s,static:o,future:nc({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ha(r));let{pathname:h="/",search:d="",hash:f="",state:g=null,key:y="default"}=r,v=M.useMemo(()=>{let b=Ky(h,l);return b==null?null:{location:{pathname:b,search:d,hash:f,state:g,key:y},navigationType:i}},[l,h,d,f,g,y,i]);return v==null?null:M.createElement(qi.Provider,{value:c},M.createElement(ef.Provider,{children:n,value:v}))}function nN(t){let{children:e,location:n}=t;return U2(Kg(e),n)}new Promise(()=>{});function Kg(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let s=[...e,i];if(r.type===M.Fragment){n.push.apply(n,Kg(r.props.children,s));return}r.type!==En&&rt(!1),!r.props.index||!r.props.children||rt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Kg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yg(){return Yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yg.apply(this,arguments)}function rN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function iN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sN(t,e){return t.button===0&&(!e||e==="_self")&&!iN(t)}const oN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aN="6";try{window.__reactRouterVersion=aN}catch{}const lN="startTransition",vw=ZA[lN];function cN(t){let{basename:e,children:n,future:r,window:i}=t,s=M.useRef();s.current==null&&(s.current=h2({window:i,v5Compat:!0}));let o=s.current,[a,l]=M.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=M.useCallback(d=>{c&&vw?vw(()=>l(d)):l(d)},[l,c]);return M.useLayoutEffect(()=>o.listen(h),[o,h]),M.useEffect(()=>Z2(r),[r]),M.createElement(tN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const uN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,st=M.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:d}=e,f=rN(e,oN),{basename:g}=M.useContext(qi),y,v=!1;if(typeof c=="string"&&hN.test(c)&&(y=c,uN))try{let T=new URL(window.location.href),I=c.startsWith("//")?new URL(T.protocol+c):new URL(c),N=Ky(I.pathname,g);I.origin===T.origin&&N!=null?c=N+I.search+I.hash:v=!0}catch{}let b=V2(c,{relative:i}),w=dN(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:d});function _(T){r&&r(T),T.defaultPrevented||w(T)}return M.createElement("a",Yg({},f,{href:y||b,onClick:v||s?r:_,ref:n,target:l}))});var _w;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(_w||(_w={}));var ww;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ww||(ww={}));function dN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Rn(),c=Gi(),h=HT(t,{relative:o});return M.useCallback(d=>{if(sN(d,n)){d.preventDefault();let f=r!==void 0?r:sd(c)===sd(h);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,h,r,i,n,t,s,o,a])}const KT=M.createContext(),fN=({children:t})=>{const[e,n]=M.useState(null),r=s=>{n({name:s==="registered"?"Registered User":"Guest",role:s})},i=()=>{n(null)};return m.jsx(KT.Provider,{value:{user:e,login:r,logout:i},children:t})},YT=()=>M.useContext(KT);var QT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xw=ce.createContext&&ce.createContext(QT),pN=["attr","size","title"];function gN(t,e){if(t==null)return{};var n=mN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mN(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ad(){return ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ad.apply(this,arguments)}function bw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ld(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bw(Object(n),!0).forEach(function(r){yN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yN(t,e,n){return e=vN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vN(t){var e=_N(t,"string");return typeof e=="symbol"?e:e+""}function _N(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XT(t){return t&&t.map((e,n)=>ce.createElement(e.tag,ld({key:n},e.attr),XT(e.child)))}function Hr(t){return e=>ce.createElement(wN,ad({attr:ld({},t.attr)},e),XT(t.child))}function wN(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=gN(t,pN),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ce.createElement("svg",ad({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:ld(ld({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&ce.createElement("title",null,s),t.children)};return xw!==void 0?ce.createElement(xw.Consumer,null,n=>e(n)):e(QT)}function xN(t){return Hr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function JT(t){return Hr({tag:"svg",attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(t)}function bN(t){return Hr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function EN(t){return Hr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function Ew(t){return Hr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(t)}function ZT(t){return Hr({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M128 160h320v192H128V160zm400 96c0 26.51 21.49 48 48 48v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c26.51 0 48-21.49 48-48s-21.49-48-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v96c-26.51 0-48 21.49-48 48zm-48-104c0-13.255-10.745-24-24-24H120c-13.255 0-24 10.745-24 24v208c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V152z"},child:[]}]})(t)}function TN(t){return Hr({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Qg(t){return Hr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function eS(t){return Hr({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}const tS=({onClose:t})=>{const{login:e,register:n}=YT(),[r,i]=M.useState(!0),[s,o]=M.useState({email:"",password:"",username:""}),a=c=>{o({...s,[c.target.name]:c.target.value})},l=async c=>{c.preventDefault();try{r?await e(s.email,s.password):await n(s.email,s.password,s.username),t()}catch(h){console.error(r?"Login error:":"Registration error:",h),alert(r?"Invalid login credentials":"Registration failed")}};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-96",children:[m.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:r?"Login":"Register"}),m.jsxs("form",{onSubmit:l,className:"space-y-4",children:[!r&&m.jsxs("div",{className:"flex items-center border rounded px-3 py-2",children:[m.jsx(Qg,{className:"mr-2 text-gray-500"}),m.jsx("input",{type:"text",name:"username",placeholder:"Username",value:s.username,onChange:a,className:"text-gray-600 w-full focus:outline-none",required:!r})]}),m.jsxs("div",{className:"flex items-center border rounded px-3 py-2",children:[m.jsx(bN,{className:"mr-2 text-gray-800"}),m.jsx("input",{type:"email",name:"email",placeholder:"Email",value:s.email,onChange:a,className:"text-gray-600 w-full focus:outline-none",required:!0})]}),m.jsxs("div",{className:"flex items-center border rounded px-3 py-2",children:[m.jsx(EN,{className:"mr-2 text-gray-500"}),m.jsx("input",{type:"password",name:"password",placeholder:"Password",value:s.password,onChange:a,className:"text-gray-600 w-full focus:outline-none",required:!0})]}),m.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600",children:r?"Login":"Register"})]}),m.jsx("div",{className:"text-center mt-4",children:m.jsx("button",{className:"text-sm text-blue-500 hover:underline",onClick:()=>i(!r),children:r?"Don't have an account? Register":"Already have an account? Login"})}),m.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-800",onClick:t,children:"×"})]})})};function SN(){const[t,e]=M.useState(!1),[n,r]=M.useState(!1),[i,s]=M.useState(!1),[o,a]=M.useState(""),{user:l,logout:c}=YT(),h=()=>e(!t),d=()=>r(!n),f=()=>{e(!1),r(!1)},g=v=>{a(v),s(!0)},y=()=>s(!1);return m.jsxs("nav",{className:"sticky top-0 z-50 bg-gray-800 text-white shadow-md w-full",children:[m.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[m.jsx(st,{to:"/",className:"text-2xl font-bold hover:text-gray-300",onClick:f,children:"EventPlanner"}),m.jsx("div",{className:"text-2xl cursor-pointer lg:hidden",onClick:h,children:t?m.jsx(TN,{}):m.jsx(xN,{})}),m.jsxs("ul",{className:"hidden lg:flex lg:items-center lg:space-x-6",children:[m.jsx("li",{children:m.jsx(st,{to:"/",className:"hover:text-gray-300",onClick:f,children:"Home"})}),m.jsx("li",{children:m.jsx(st,{to:"/event",className:"hover:text-gray-300",onClick:f,children:"Search Events"})}),m.jsxs("li",{className:"relative group",children:[m.jsx(st,{to:"#",onClick:v=>{v.preventDefault(),d()},className:"hover:text-gray-300 flex items-center",children:"Manage"}),n&&m.jsxs("ul",{className:"absolute left-0 mt-2 bg-gray-700 text-white rounded shadow-lg py-2",children:[m.jsx("li",{children:m.jsx(st,{to:"/manage-events",className:"block px-4 py-2 hover:bg-gray-600",onClick:f,children:"Manage Events"})}),m.jsx("li",{children:m.jsx(st,{to:"/create-event",className:"block px-4 py-2 hover:bg-gray-600",onClick:f,children:"Create Events"})}),m.jsx("li",{children:m.jsx(st,{to:"/my-events",className:"block px-4 py-2 hover:bg-gray-600",onClick:f,children:"My Events"})})]})]}),m.jsx("li",{children:m.jsx(st,{to:"/favorites",className:"hover:text-gray-300",onClick:f,children:"Favorites"})}),m.jsx("li",{children:m.jsx(st,{to:"/calendar",className:"hover:text-gray-300",onClick:f,children:"Calendar"})})]}),m.jsx("div",{className:"hidden lg:flex items-center space-x-4",children:l?m.jsxs(m.Fragment,{children:[m.jsxs("span",{className:"text-gray-300",children:["Welcome, ",l.username||"Guest","!"]}),m.jsx("button",{onClick:c,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded",children:"Logout"})]}):m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:()=>g("login"),className:"flex items-center space-x-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded",children:[m.jsx(Ew,{}),m.jsx("span",{children:"Login"})]}),m.jsxs("button",{onClick:()=>g("register"),className:"flex items-center space-x-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",children:[m.jsx(Qg,{}),m.jsx("span",{children:"Register"})]})]})})]}),t&&m.jsxs("div",{className:"lg:hidden flex flex-col bg-gray-700 py-4 space-y-2",children:[m.jsxs("ul",{className:"flex flex-row flex-wrap justify-between text-sm",children:[m.jsx("li",{children:m.jsx(st,{to:"/",className:"hover:text-gray-300",onClick:f,children:"Home"})}),m.jsx("li",{children:m.jsx(st,{to:"/event",className:"hover:text-gray-300",onClick:f,children:"SearchEvents"})}),m.jsxs("li",{children:[m.jsx(st,{onClick:v=>{v.preventDefault(),d()},className:"hover:text-gray-300",children:"Manage"}),n&&m.jsxs("div",{className:"flex flex-row bg-gray-600 mt-2",children:[m.jsx(st,{to:"/create-event",className:"block px-4 py-2 hover:bg-gray-500",onClick:f,children:"Create Events"}),m.jsx(st,{to:"/my-events",className:"block px-4 py-2 hover:bg-gray-500",onClick:f,children:"My Events"})]})]}),m.jsx("li",{children:m.jsx(st,{to:"/favorites",className:"hover:text-gray-300",onClick:f,children:"Favorites"})}),m.jsx("li",{children:m.jsx(st,{to:"/calendar",className:"hover:text-gray-300",onClick:f,children:"Calendar"})})]}),!l&&m.jsxs("div",{className:"mt-4 flex flex-row space-x-4",children:[m.jsxs("button",{onClick:()=>g("login"),className:"flex items-center space-x-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded",children:[m.jsx(Ew,{}),m.jsx("span",{children:"Login"})]}),m.jsxs("button",{onClick:()=>g("register"),className:"flex items-center space-x-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",children:[m.jsx(Qg,{}),m.jsx("span",{children:"Register"})]})]})]}),i&&m.jsx(tS,{mode:o,onClose:y})]})}function kN(){const[t,e]=M.useState(!1),n=Rn(),r=()=>{e(!0)},i=()=>{n("/event")};return m.jsxs("div",{className:"bg-primary min-h-screen flex flex-col items-center justify-center text-center px-4 relative overflow-hidden",children:[t&&m.jsx(tS,{onClose:()=>e(!1)}),m.jsxs("div",{className:"hero-section animate-fadeIn bg-gray-200 p-20 rounded-full",children:[m.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold leading-tight mb-12",children:["Welcome to ",m.jsx("br",{}),m.jsx("span",{className:`relative inline-block text-transparent bg-clip-text bg-gradient-to-r 
                from-pink-500 via-purple-500 to-indigo-500 animate-textGlow`,children:"EventPlanner"})]}),m.jsx("p",{className:"text-lg md:text-xl text-textLight max-w-2xl mx-auto mb-8",children:"Your one-stop destination to discover, organize, and attend amazing events. Let’s make your events unforgettable."}),m.jsxs("div",{className:"flex justify-center space-x-4",children:[m.jsx("button",{onClick:r,className:"px-8 py-3 text-lg md:text-xl font-semibold text-white bg-blue-500 rounded-full hover:bg-blue-600 transition-transform transform hover:scale-105 shadow-lg",children:"Login"}),m.jsx("button",{onClick:i,className:"px-8 py-3 text-lg md:text-xl font-semibold text-gray-800 bg-gray-300 rounded-full hover:bg-gray-400 transition-transform transform hover:scale-105 shadow-lg",children:"Continue as Guest"})]})]}),m.jsxs("div",{className:"absolute inset-0 z-[-1]",children:[m.jsx("div",{className:"bg-gradient-to-b from-secondary to-primary h-full w-full opacity-50"}),m.jsx("div",{className:"absolute w-72 h-72 bg-accent rounded-full opacity-20 blur-2xl -top-10 -left-20 animate-pulse"}),m.jsx("div",{className:"absolute w-96 h-96 bg-secondary rounded-full opacity-20 blur-3xl -bottom-20 -right-20 animate-pulse"})]}),m.jsx("div",{className:"absolute top-20 left-10",children:m.jsx("div",{className:"w-6 h-6 bg-accent rounded-full animate-bounce"})}),m.jsx("div",{className:"absolute bottom-20 right-10",children:m.jsx("div",{className:"w-8 h-8 bg-secondary rounded-full animate-bounce"})})]})}const nS=M.createContext(),IN=({children:t})=>{const[e,n]=M.useState([]),[r,i]=M.useState(()=>JSON.parse(localStorage.getItem("favorites"))||[]),[s,o]=M.useState({}),[a,l]=M.useState(""),c=y=>{n(y)},h=y=>{i(v=>{if(v.some(w=>w.id===y.id))return v;const b=[...v,y];return localStorage.setItem("favorites",JSON.stringify(b)),console.log("Favorites saved to localStorage:",b),b})},d=y=>{i(v=>{const b=v.filter(w=>w.id!==y);return localStorage.setItem("favorites",JSON.stringify(b)),b})},f=(y,v)=>{const b={...s};b[y]||(b[y]=[]),b[y].push(v),o(b)},g=y=>{l(y)};return M.useEffect(()=>{const y=a?e.filter(v=>{var b;return v.name.toLowerCase().includes(a.toLowerCase())||((b=v.location)==null?void 0:b.toLowerCase().includes(a.toLowerCase()))}):e;n(y)},[a,e]),m.jsx(nS.Provider,{value:{searchResults:e,setSearchResults:n,setSearchData:c,favorites:r,addFavorite:h,removeFavorite:d,addAttendee:f,attendees:s,searchTerm:a,handleSearch:g},children:t})},Cc=()=>M.useContext(nS);function CN(){const{searchResults:t,setSearchData:e}=Cc(),[n,r]=M.useState({category:"",town:""}),[i,s]=M.useState(!1),[o,a]=M.useState(""),[l,c]=M.useState(8),h=y=>{const{name:v,value:b}=y.target;r({...n,[v]:b}),o&&a("")},d=async()=>{var _;const y="mOFr2N2LO0CuZBIXgKd9m8lJBRf1IFy7",{category:v,town:b}=n,w=`https://app.ticketmaster.com/discovery/v2/events.json?apikey=${y}&keyword=${encodeURIComponent(v)}&city=${encodeURIComponent(b)}`;try{s(!0),a("");const T=await fetch(w);if(!T.ok)throw new Error("Failed to fetch events");const N=((_=(await T.json())._embedded)==null?void 0:_.events)||[];e(N),c(8)}catch{a("Unable to fetch events. Please try again.")}finally{s(!1)}},f=y=>{if(y.preventDefault(),!n.category.trim()||!n.town.trim()){a("Both category and town fields are required.");return}d()},g=()=>{c(y=>y+8)};return m.jsxs("div",{className:"container mx-auto mt-10",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Find an Event!"}),m.jsxs("form",{onSubmit:f,className:"flex space-x-4 mb-6",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"block text-gray-300",children:"Category"}),m.jsx("input",{type:"text",name:"category",value:n.category,onChange:h,className:"w-full p-2 border text-gray-800 rounded",placeholder:"e.g., Music, Sports"})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"block text-gray-300",children:"Town"}),m.jsx("input",{type:"text",name:"town",value:n.town,onChange:h,className:"w-full p-2 border text-gray-800 rounded",placeholder:"e.g., New York, Los Angeles"})]}),m.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 self-center",children:"Search"})]}),i&&m.jsx("p",{className:"mt-4 text-blue-600",children:"Loading events..."}),o&&m.jsx("p",{className:"mt-4 text-red-600",children:o}),t.length>0&&!i&&m.jsxs("p",{className:"text-lg font-medium mb-4",children:[t.length," event",t.length!==1?"s":""," found"]}),t.length===0&&!i&&!o&&m.jsx("p",{className:"mt-4 text-gray-600",children:"No events found. Please try a different search."}),m.jsxs("div",{className:"mt-6",children:[m.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.slice(0,l).map((y,v)=>{var _,T,I,N,O,S,E;const b=((T=(_=y.images)==null?void 0:_[0])==null?void 0:T.url)||"placeholder.jpg",w=`${y.id}-${v}`;return m.jsxs("li",{className:"border p-4 rounded bg-gray-800",children:[m.jsx("h4",{className:"font-bold",children:y.name}),m.jsx("img",{src:b,alt:y.name,className:"w-full h-64 object-cover rounded mt-2"}),m.jsxs("p",{children:["Date: ",y.dates.start.localDate]}),m.jsxs("p",{children:["Venue: ",((N=(I=y._embedded)==null?void 0:I.venues[0])==null?void 0:N.name)||"Unknown"]}),m.jsxs("p",{children:["City: ",((E=(S=(O=y._embedded)==null?void 0:O.venues[0])==null?void 0:S.city)==null?void 0:E.name)||"Unknown"]}),m.jsx(st,{to:`/event/${y.id}`,state:{event:y},className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 mt-2 inline-block",children:"View Details"})]},w)})}),l<t.length&&m.jsx("button",{onClick:g,className:"mt-4 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Load More"})]})]})}function AN(){const{searchResults:t}=Cc(),[e,n]=M.useState({}),[r,i]=M.useState([]),[s,o]=M.useState(4),[a,l]=M.useState(!0);return M.useEffect(()=>{const c=t.reduce((h,d)=>{const f=new Date(d.dates.start.localDate).toDateString();return h[f]||(h[f]=[]),h[f].push(d),h},{});n(c)},[t]),M.useEffect(()=>{(async()=>{var y;const h=localStorage.getItem("lastSearch");if(!h)return;const{category:d,town:f}=JSON.parse(h),g="mOFr2N2LO0CuZBIXgKd9m8lJBRf1IFy7";try{const v=`https://app.ticketmaster.com/discovery/v2/events.json?apikey=${g}&keyword=${encodeURIComponent(d)}&city=${encodeURIComponent(f)}`,_=((y=(await(await fetch(v)).json())._embedded)==null?void 0:y.events)||[];i(_),l(!1)}catch(v){console.error("Failed to fetch event suggestions:",v),l(!1)}})()},[]),m.jsx("div",{className:"eventcontainer",children:m.jsxs("div",{className:"container mx-auto mt-10 px-4 py-6 bg-primary text-white min-h-screen relative overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-0 z-[-1]",children:[m.jsx("div",{className:"bg-gradient-to-br from-purple-600 via-pink-500 to-indigo-500 h-full w-full opacity-40"}),m.jsx("div",{className:"absolute w-96 h-96 bg-accent opacity-30 blur-3xl -top-20 -left-10 animate-pulse"}),m.jsx("div",{className:"absolute w-72 h-72 bg-secondary opacity-30 blur-2xl -bottom-10 -right-20 animate-pulse"})]}),m.jsxs("div",{className:"bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 py-10 rounded-lg shadow-lg mb-8",children:[m.jsxs("h1",{className:"text-4xl font-extrabold text-center text-white tracking-wide animate-fadeIn",children:["Find Your Next ",m.jsx("span",{className:"text-accent",children:"Event"})]}),m.jsx("p",{className:"text-center mt-2 text-lg text-light",children:"Browse, search, and plan your perfect day out."})]}),m.jsx(CN,{}),a?m.jsxs("div",{className:"mt-8 text-center",children:[m.jsx("div",{className:"animate-spin inline-block w-12 h-12 border-4 border-solid border-accent border-t-transparent rounded-full"}),m.jsx("p",{className:"mt-4 text-light",children:"Loading event suggestions..."})]}):m.jsxs("div",{className:"mt-12",children:[m.jsx("h2",{className:"text-3xl font-bold text-accent mb-6",children:"Event Suggestions"}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:r.slice(0,s).map(c=>{var h,d,f;return m.jsxs("div",{className:"bg-gradient-to-b from-secondary via-primary to-secondary p-4 rounded-lg shadow-lg hover:shadow-xl transition-transform transform hover:scale-105",children:[((h=c.images)==null?void 0:h[0])&&m.jsx("img",{src:c.images[0].url,alt:c.name,className:"w-full h-48 object-cover rounded-md mb-4"}),m.jsx("h4",{className:"text-xl font-bold text-accent mb-2",children:c.name}),m.jsxs("p",{className:"text-light mb-1",children:[m.jsx("span",{className:"font-semibold",children:"Venue:"})," ",((f=(d=c._embedded)==null?void 0:d.venues[0])==null?void 0:f.name)||"Unknown Venue"]}),m.jsxs("p",{className:"text-light mb-2",children:[m.jsx("span",{className:"font-semibold",children:"Date:"})," ",new Date(c.dates.start.localDate).toLocaleDateString()]}),m.jsx(st,{to:`/event/${c.id}`,state:{event:c},className:"block mt-2 text-center px-4 py-2 bg-accent text-white rounded-lg hover:bg-opacity-80",children:"View Details"})]},c.id)})}),s<r.length&&m.jsx("div",{className:"text-center mt-6",children:m.jsx("button",{onClick:()=>o(c=>c+4),className:"mt-4 px-6 py-3 bg-gradient-to-r from-gray-600 to-gray-800 text-white rounded hover:opacity-90 shadow-md",children:"Show More"})})]})]})})}var Tw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},PN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},iS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),r.push(n[h],n[d],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new RN;const f=s<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),d!==64){const y=c<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class RN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NN=function(t){const e=rS(t);return iS.encodeByteArray(e,!0)},cd=function(t){return NN(t).replace(/\./g,"")},sS=function(t){try{return iS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=()=>DN().__FIREBASE_DEFAULTS__,MN=()=>{if(typeof process>"u"||typeof Tw>"u")return;const t=Tw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sS(t[1]);return e&&JSON.parse(e)},tf=()=>{try{return ON()||MN()||LN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oS=t=>{var e,n;return(n=(e=tf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},aS=t=>{const e=oS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lS=()=>{var t;return(t=tf())===null||t===void 0?void 0:t.config},cS=t=>{var e;return(e=tf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[cd(JSON.stringify(n)),cd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function FN(){var t;const e=(t=tf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $N(){const t=Bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WN(){return!FN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HN(){try{return typeof indexedDB=="object"}catch{return!1}}function qN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="FirebaseError";class hr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=GN,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ac.prototype.create)}}class Ac{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?KN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new hr(i,a,r)}}function KN(t,e){return t.replace(YN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const YN=/\{\$([^}]+)}/g;function QN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ud(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Sw(s)&&Sw(o)){if(!ud(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Sw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function XN(t,e){const n=new JN(t,e);return n.subscribe.bind(n)}class JN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ZN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=bp),i.error===void 0&&(i.error=bp),i.complete===void 0&&(i.complete=bp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t){return t&&t._delegate?t._delegate:t}class Mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nD(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ys){return this.instances.has(e)}getOptions(e=ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ys){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tD(t){return t===ys?void 0:t}function nD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const iD={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},sD=he.INFO,oD={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},aD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=oD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jy{constructor(e){this.name=e,this._logLevel=sD,this._logHandler=aD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const lD=(t,e)=>e.some(n=>t instanceof n);let kw,Iw;function cD(){return kw||(kw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uD(){return Iw||(Iw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hS=new WeakMap,Xg=new WeakMap,dS=new WeakMap,Ep=new WeakMap,Zy=new WeakMap;function hD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ai(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hS.set(n,t)}).catch(()=>{}),Zy.set(e,t),e}function dD(t){if(Xg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Xg.set(t,e)}let Jg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ai(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fD(t){Jg=t(Jg)}function pD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Tp(this),e,...n);return dS.set(r,e.sort?e.sort():[e]),Ai(r)}:uD().includes(t)?function(...e){return t.apply(Tp(this),e),Ai(hS.get(this))}:function(...e){return Ai(t.apply(Tp(this),e))}}function gD(t){return typeof t=="function"?pD(t):(t instanceof IDBTransaction&&dD(t),lD(t,cD())?new Proxy(t,Jg):t)}function Ai(t){if(t instanceof IDBRequest)return hD(t);if(Ep.has(t))return Ep.get(t);const e=gD(t);return e!==t&&(Ep.set(t,e),Zy.set(e,t)),e}const Tp=t=>Zy.get(t);function mD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ai(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ai(o.result),l.oldVersion,l.newVersion,Ai(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const yD=["get","getKey","getAll","getAllKeys","count"],vD=["put","add","delete","clear"],Sp=new Map;function Cw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sp.get(e))return Sp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=vD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yD.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Sp.set(e,s),s}fD(t=>({...t,get:(e,n,r)=>Cw(e,n)||t.get(e,n,r),has:(e,n)=>!!Cw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zg="@firebase/app",Aw="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=new Jy("@firebase/app"),xD="@firebase/app-compat",bD="@firebase/analytics-compat",ED="@firebase/analytics",TD="@firebase/app-check-compat",SD="@firebase/app-check",kD="@firebase/auth",ID="@firebase/auth-compat",CD="@firebase/database",AD="@firebase/data-connect",PD="@firebase/database-compat",RD="@firebase/functions",ND="@firebase/functions-compat",DD="@firebase/installations",OD="@firebase/installations-compat",MD="@firebase/messaging",LD="@firebase/messaging-compat",VD="@firebase/performance",jD="@firebase/performance-compat",FD="@firebase/remote-config",UD="@firebase/remote-config-compat",BD="@firebase/storage",zD="@firebase/storage-compat",$D="@firebase/firestore",WD="@firebase/vertexai",HD="@firebase/firestore-compat",qD="firebase",GD="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="[DEFAULT]",KD={[Zg]:"fire-core",[xD]:"fire-core-compat",[ED]:"fire-analytics",[bD]:"fire-analytics-compat",[SD]:"fire-app-check",[TD]:"fire-app-check-compat",[kD]:"fire-auth",[ID]:"fire-auth-compat",[CD]:"fire-rtdb",[AD]:"fire-data-connect",[PD]:"fire-rtdb-compat",[RD]:"fire-fn",[ND]:"fire-fn-compat",[DD]:"fire-iid",[OD]:"fire-iid-compat",[MD]:"fire-fcm",[LD]:"fire-fcm-compat",[VD]:"fire-perf",[jD]:"fire-perf-compat",[FD]:"fire-rc",[UD]:"fire-rc-compat",[BD]:"fire-gcs",[zD]:"fire-gcs-compat",[$D]:"fire-fst",[HD]:"fire-fst-compat",[WD]:"fire-vertex","fire-js":"fire-js",[qD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=new Map,YD=new Map,tm=new Map;function Pw(t,e){try{t.container.addComponent(e)}catch(n){Vr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fs(t){const e=t.name;if(tm.has(e))return Vr.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,t);for(const n of hd.values())Pw(n,t);for(const n of YD.values())Pw(n,t);return!0}function nf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pi=new Ac("app","Firebase",QD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=GD;function fS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:em,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Pi.create("bad-app-name",{appName:String(i)});if(n||(n=lS()),!n)throw Pi.create("no-options");const s=hd.get(i);if(s){if(ud(n,s.options)&&ud(r,s.config))return s;throw Pi.create("duplicate-app",{appName:i})}const o=new rD(i);for(const l of tm.values())o.addComponent(l);const a=new XD(n,r,o);return hd.set(i,a),a}function ev(t=em){const e=hd.get(t);if(!e&&t===em&&lS())return fS();if(!e)throw Pi.create("no-app",{appName:t});return e}function rr(t,e,n){var r;let i=(r=KD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vr.warn(a.join(" "));return}Fs(new Mi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="firebase-heartbeat-database",ZD=1,rc="firebase-heartbeat-store";let kp=null;function pS(){return kp||(kp=mD(JD,ZD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pi.create("idb-open",{originalErrorMessage:t.message})})),kp}async function eO(t){try{const n=(await pS()).transaction(rc),r=await n.objectStore(rc).get(gS(t));return await n.done,r}catch(e){if(e instanceof hr)Vr.warn(e.message);else{const n=Pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vr.warn(n.message)}}}async function Rw(t,e){try{const r=(await pS()).transaction(rc,"readwrite");await r.objectStore(rc).put(e,gS(t)),await r.done}catch(n){if(n instanceof hr)Vr.warn(n.message);else{const r=Pi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vr.warn(r.message)}}}function gS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=1024,nO=30*24*60*60*1e3;class rO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Nw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=nO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Vr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Nw(),{heartbeatsToSend:r,unsentEntries:i}=iO(this._heartbeatsCache.heartbeats),s=cd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Vr.warn(n),""}}}function Nw(){return new Date().toISOString().substring(0,10)}function iO(t,e=tO){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Dw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Dw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HN()?qN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Rw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Rw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Dw(t){return cd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(t){Fs(new Mi("platform-logger",e=>new _D(e),"PRIVATE")),Fs(new Mi("heartbeat",e=>new rO(e),"PRIVATE")),rr(Zg,Aw,t),rr(Zg,Aw,"esm2017"),rr("fire-js","")}oO("");var Ow=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,mS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function k(){}k.prototype=E.prototype,S.D=E.prototype,S.prototype=new k,S.prototype.constructor=S,S.C=function(A,R,D){for(var P=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)P[oe-2]=arguments[oe];return E.prototype[R].apply(A,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,E,k){k||(k=0);var A=Array(16);if(typeof E=="string")for(var R=0;16>R;++R)A[R]=E.charCodeAt(k++)|E.charCodeAt(k++)<<8|E.charCodeAt(k++)<<16|E.charCodeAt(k++)<<24;else for(R=0;16>R;++R)A[R]=E[k++]|E[k++]<<8|E[k++]<<16|E[k++]<<24;E=S.g[0],k=S.g[1],R=S.g[2];var D=S.g[3],P=E+(D^k&(R^D))+A[0]+3614090360&4294967295;E=k+(P<<7&4294967295|P>>>25),P=D+(R^E&(k^R))+A[1]+3905402710&4294967295,D=E+(P<<12&4294967295|P>>>20),P=R+(k^D&(E^k))+A[2]+606105819&4294967295,R=D+(P<<17&4294967295|P>>>15),P=k+(E^R&(D^E))+A[3]+3250441966&4294967295,k=R+(P<<22&4294967295|P>>>10),P=E+(D^k&(R^D))+A[4]+4118548399&4294967295,E=k+(P<<7&4294967295|P>>>25),P=D+(R^E&(k^R))+A[5]+1200080426&4294967295,D=E+(P<<12&4294967295|P>>>20),P=R+(k^D&(E^k))+A[6]+2821735955&4294967295,R=D+(P<<17&4294967295|P>>>15),P=k+(E^R&(D^E))+A[7]+4249261313&4294967295,k=R+(P<<22&4294967295|P>>>10),P=E+(D^k&(R^D))+A[8]+1770035416&4294967295,E=k+(P<<7&4294967295|P>>>25),P=D+(R^E&(k^R))+A[9]+2336552879&4294967295,D=E+(P<<12&4294967295|P>>>20),P=R+(k^D&(E^k))+A[10]+4294925233&4294967295,R=D+(P<<17&4294967295|P>>>15),P=k+(E^R&(D^E))+A[11]+2304563134&4294967295,k=R+(P<<22&4294967295|P>>>10),P=E+(D^k&(R^D))+A[12]+1804603682&4294967295,E=k+(P<<7&4294967295|P>>>25),P=D+(R^E&(k^R))+A[13]+4254626195&4294967295,D=E+(P<<12&4294967295|P>>>20),P=R+(k^D&(E^k))+A[14]+2792965006&4294967295,R=D+(P<<17&4294967295|P>>>15),P=k+(E^R&(D^E))+A[15]+1236535329&4294967295,k=R+(P<<22&4294967295|P>>>10),P=E+(R^D&(k^R))+A[1]+4129170786&4294967295,E=k+(P<<5&4294967295|P>>>27),P=D+(k^R&(E^k))+A[6]+3225465664&4294967295,D=E+(P<<9&4294967295|P>>>23),P=R+(E^k&(D^E))+A[11]+643717713&4294967295,R=D+(P<<14&4294967295|P>>>18),P=k+(D^E&(R^D))+A[0]+3921069994&4294967295,k=R+(P<<20&4294967295|P>>>12),P=E+(R^D&(k^R))+A[5]+3593408605&4294967295,E=k+(P<<5&4294967295|P>>>27),P=D+(k^R&(E^k))+A[10]+38016083&4294967295,D=E+(P<<9&4294967295|P>>>23),P=R+(E^k&(D^E))+A[15]+3634488961&4294967295,R=D+(P<<14&4294967295|P>>>18),P=k+(D^E&(R^D))+A[4]+3889429448&4294967295,k=R+(P<<20&4294967295|P>>>12),P=E+(R^D&(k^R))+A[9]+568446438&4294967295,E=k+(P<<5&4294967295|P>>>27),P=D+(k^R&(E^k))+A[14]+3275163606&4294967295,D=E+(P<<9&4294967295|P>>>23),P=R+(E^k&(D^E))+A[3]+4107603335&4294967295,R=D+(P<<14&4294967295|P>>>18),P=k+(D^E&(R^D))+A[8]+1163531501&4294967295,k=R+(P<<20&4294967295|P>>>12),P=E+(R^D&(k^R))+A[13]+2850285829&4294967295,E=k+(P<<5&4294967295|P>>>27),P=D+(k^R&(E^k))+A[2]+4243563512&4294967295,D=E+(P<<9&4294967295|P>>>23),P=R+(E^k&(D^E))+A[7]+1735328473&4294967295,R=D+(P<<14&4294967295|P>>>18),P=k+(D^E&(R^D))+A[12]+2368359562&4294967295,k=R+(P<<20&4294967295|P>>>12),P=E+(k^R^D)+A[5]+4294588738&4294967295,E=k+(P<<4&4294967295|P>>>28),P=D+(E^k^R)+A[8]+2272392833&4294967295,D=E+(P<<11&4294967295|P>>>21),P=R+(D^E^k)+A[11]+1839030562&4294967295,R=D+(P<<16&4294967295|P>>>16),P=k+(R^D^E)+A[14]+4259657740&4294967295,k=R+(P<<23&4294967295|P>>>9),P=E+(k^R^D)+A[1]+2763975236&4294967295,E=k+(P<<4&4294967295|P>>>28),P=D+(E^k^R)+A[4]+1272893353&4294967295,D=E+(P<<11&4294967295|P>>>21),P=R+(D^E^k)+A[7]+4139469664&4294967295,R=D+(P<<16&4294967295|P>>>16),P=k+(R^D^E)+A[10]+3200236656&4294967295,k=R+(P<<23&4294967295|P>>>9),P=E+(k^R^D)+A[13]+681279174&4294967295,E=k+(P<<4&4294967295|P>>>28),P=D+(E^k^R)+A[0]+3936430074&4294967295,D=E+(P<<11&4294967295|P>>>21),P=R+(D^E^k)+A[3]+3572445317&4294967295,R=D+(P<<16&4294967295|P>>>16),P=k+(R^D^E)+A[6]+76029189&4294967295,k=R+(P<<23&4294967295|P>>>9),P=E+(k^R^D)+A[9]+3654602809&4294967295,E=k+(P<<4&4294967295|P>>>28),P=D+(E^k^R)+A[12]+3873151461&4294967295,D=E+(P<<11&4294967295|P>>>21),P=R+(D^E^k)+A[15]+530742520&4294967295,R=D+(P<<16&4294967295|P>>>16),P=k+(R^D^E)+A[2]+3299628645&4294967295,k=R+(P<<23&4294967295|P>>>9),P=E+(R^(k|~D))+A[0]+4096336452&4294967295,E=k+(P<<6&4294967295|P>>>26),P=D+(k^(E|~R))+A[7]+1126891415&4294967295,D=E+(P<<10&4294967295|P>>>22),P=R+(E^(D|~k))+A[14]+2878612391&4294967295,R=D+(P<<15&4294967295|P>>>17),P=k+(D^(R|~E))+A[5]+4237533241&4294967295,k=R+(P<<21&4294967295|P>>>11),P=E+(R^(k|~D))+A[12]+1700485571&4294967295,E=k+(P<<6&4294967295|P>>>26),P=D+(k^(E|~R))+A[3]+2399980690&4294967295,D=E+(P<<10&4294967295|P>>>22),P=R+(E^(D|~k))+A[10]+4293915773&4294967295,R=D+(P<<15&4294967295|P>>>17),P=k+(D^(R|~E))+A[1]+2240044497&4294967295,k=R+(P<<21&4294967295|P>>>11),P=E+(R^(k|~D))+A[8]+1873313359&4294967295,E=k+(P<<6&4294967295|P>>>26),P=D+(k^(E|~R))+A[15]+4264355552&4294967295,D=E+(P<<10&4294967295|P>>>22),P=R+(E^(D|~k))+A[6]+2734768916&4294967295,R=D+(P<<15&4294967295|P>>>17),P=k+(D^(R|~E))+A[13]+1309151649&4294967295,k=R+(P<<21&4294967295|P>>>11),P=E+(R^(k|~D))+A[4]+4149444226&4294967295,E=k+(P<<6&4294967295|P>>>26),P=D+(k^(E|~R))+A[11]+3174756917&4294967295,D=E+(P<<10&4294967295|P>>>22),P=R+(E^(D|~k))+A[2]+718787259&4294967295,R=D+(P<<15&4294967295|P>>>17),P=k+(D^(R|~E))+A[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(R+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+R&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var k=E-this.blockSize,A=this.B,R=this.h,D=0;D<E;){if(R==0)for(;D<=k;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<E;)if(A[R++]=S.charCodeAt(D++),R==this.blockSize){i(this,A),R=0;break}}else for(;D<E;)if(A[R++]=S[D++],R==this.blockSize){i(this,A),R=0;break}}this.h=R,this.o+=E},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var k=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=k&255,k/=256;for(this.u(S),S=Array(16),E=k=0;4>E;++E)for(var A=0;32>A;A+=8)S[k++]=this.g[E]>>>A&255;return S};function s(S,E){var k=a;return Object.prototype.hasOwnProperty.call(k,S)?k[S]:k[S]=E(S)}function o(S,E){this.h=E;for(var k=[],A=!0,R=S.length-1;0<=R;R--){var D=S[R]|0;A&&D==E||(k[R]=D,A=!1)}this.g=k}var a={};function l(S){return-128<=S&&128>S?s(S,function(E){return new o([E|0],0>E?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return b(c(-S));for(var E=[],k=1,A=0;S>=k;A++)E[A]=S/k|0,k*=4294967296;return new o(E,0)}function h(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return b(h(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(E,8)),A=d,R=0;R<S.length;R+=8){var D=Math.min(8,S.length-R),P=parseInt(S.substring(R,R+D),E);8>D?(D=c(Math.pow(E,D)),A=A.j(D).add(c(P))):(A=A.j(k),A=A.add(c(P)))}return A}var d=l(0),f=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-b(this).m();for(var S=0,E=1,k=0;k<this.g.length;k++){var A=this.i(k);S+=(0<=A?A:4294967296+A)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(y(this))return"0";if(v(this))return"-"+b(this).toString(S);for(var E=c(Math.pow(S,6)),k=this,A="";;){var R=I(k,E).g;k=w(k,R.j(E));var D=((0<k.g.length?k.g[0]:k.h)>>>0).toString(S);if(k=R,y(k))return D+A;for(;6>D.length;)D="0"+D;A=D+A}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function y(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function v(S){return S.h==-1}t.l=function(S){return S=w(this,S),v(S)?-1:y(S)?0:1};function b(S){for(var E=S.g.length,k=[],A=0;A<E;A++)k[A]=~S.g[A];return new o(k,~S.h).add(f)}t.abs=function(){return v(this)?b(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),k=[],A=0,R=0;R<=E;R++){var D=A+(this.i(R)&65535)+(S.i(R)&65535),P=(D>>>16)+(this.i(R)>>>16)+(S.i(R)>>>16);A=P>>>16,D&=65535,P&=65535,k[R]=P<<16|D}return new o(k,k[k.length-1]&-2147483648?-1:0)};function w(S,E){return S.add(b(E))}t.j=function(S){if(y(this)||y(S))return d;if(v(this))return v(S)?b(this).j(b(S)):b(b(this).j(S));if(v(S))return b(this.j(b(S)));if(0>this.l(g)&&0>S.l(g))return c(this.m()*S.m());for(var E=this.g.length+S.g.length,k=[],A=0;A<2*E;A++)k[A]=0;for(A=0;A<this.g.length;A++)for(var R=0;R<S.g.length;R++){var D=this.i(A)>>>16,P=this.i(A)&65535,oe=S.i(R)>>>16,J=S.i(R)&65535;k[2*A+2*R]+=P*J,_(k,2*A+2*R),k[2*A+2*R+1]+=D*J,_(k,2*A+2*R+1),k[2*A+2*R+1]+=P*oe,_(k,2*A+2*R+1),k[2*A+2*R+2]+=D*oe,_(k,2*A+2*R+2)}for(A=0;A<E;A++)k[A]=k[2*A+1]<<16|k[2*A];for(A=E;A<2*E;A++)k[A]=0;return new o(k,0)};function _(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function T(S,E){this.g=S,this.h=E}function I(S,E){if(y(E))throw Error("division by zero");if(y(S))return new T(d,d);if(v(S))return E=I(b(S),E),new T(b(E.g),b(E.h));if(v(E))return E=I(S,b(E)),new T(b(E.g),E.h);if(30<S.g.length){if(v(S)||v(E))throw Error("slowDivide_ only works with positive integers.");for(var k=f,A=E;0>=A.l(S);)k=N(k),A=N(A);var R=O(k,1),D=O(A,1);for(A=O(A,2),k=O(k,2);!y(A);){var P=D.add(A);0>=P.l(S)&&(R=R.add(k),D=P),A=O(A,1),k=O(k,1)}return E=w(S,R.j(E)),new T(R,E)}for(R=d;0<=S.l(E);){for(k=Math.max(1,Math.floor(S.m()/E.m())),A=Math.ceil(Math.log(k)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),D=c(k),P=D.j(E);v(P)||0<P.l(S);)k-=A,D=c(k),P=D.j(E);y(D)&&(D=f),R=R.add(D),S=w(S,P)}return new T(R,S)}t.A=function(S){return I(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),k=[],A=0;A<E;A++)k[A]=this.i(A)&S.i(A);return new o(k,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),k=[],A=0;A<E;A++)k[A]=this.i(A)|S.i(A);return new o(k,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),k=[],A=0;A<E;A++)k[A]=this.i(A)^S.i(A);return new o(k,this.h^S.h)};function N(S){for(var E=S.g.length+1,k=[],A=0;A<E;A++)k[A]=S.i(A)<<1|S.i(A-1)>>>31;return new o(k,S.h)}function O(S,E){var k=E>>5;E%=32;for(var A=S.g.length-k,R=[],D=0;D<A;D++)R[D]=0<E?S.i(D+k)>>>E|S.i(D+k+1)<<32-E:S.i(D+k);return new o(R,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,mS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Is=o}).apply(typeof Ow<"u"?Ow:typeof self<"u"?self:typeof window<"u"?window:{});var Ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yS,sl,vS,gh,nm,_S,wS,xS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,x){return u==Array.prototype||u==Object.prototype||(u[p]=x.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ru=="object"&&Ru];for(var p=0;p<u.length;++p){var x=u[p];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var x=r;u=u.split(".");for(var C=0;C<u.length-1;C++){var L=u[C];if(!(L in x))break e;x=x[L]}u=u[u.length-1],C=x[u],p=p(C),p!=C&&p!=null&&e(x,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var x=0,C=!1,L={next:function(){if(!C&&x<u.length){var V=x++;return{value:p(V,u[V]),done:!1}}return C=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,x){return u.call.apply(u.bind,arguments)}function d(u,p,x){if(!u)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,C),u.apply(p,L)}}return function(){return u.apply(p,arguments)}}function f(u,p,x){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function g(u,p){var x=Array.prototype.slice.call(arguments,1);return function(){var C=x.slice();return C.push.apply(C,arguments),u.apply(this,C)}}function y(u,p){function x(){}x.prototype=p.prototype,u.aa=p.prototype,u.prototype=new x,u.prototype.constructor=u,u.Qb=function(C,L,V){for(var z=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)z[Ie-2]=arguments[Ie];return p.prototype[L].apply(C,z)}}function v(u){const p=u.length;if(0<p){const x=Array(p);for(let C=0;C<p;C++)x[C]=u[C];return x}return[]}function b(u,p){for(let x=1;x<arguments.length;x++){const C=arguments[x];if(l(C)){const L=u.length||0,V=C.length||0;u.length=L+V;for(let z=0;z<V;z++)u[L+z]=C[z]}else u.push(C)}}class w{constructor(p,x){this.i=p,this.j=x,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function _(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function I(u){return I[" "](u),u}I[" "]=function(){};var N=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function O(u,p,x){for(const C in u)p.call(x,u[C],C,u)}function S(u,p){for(const x in u)p.call(void 0,u[x],x,u)}function E(u){const p={};for(const x in u)p[x]=u[x];return p}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,p){let x,C;for(let L=1;L<arguments.length;L++){C=arguments[L];for(x in C)u[x]=C[x];for(let V=0;V<k.length;V++)x=k[V],Object.prototype.hasOwnProperty.call(C,x)&&(u[x]=C[x])}}function R(u){var p=1;u=u.split(":");const x=[];for(;0<p&&u.length;)x.push(u.shift()),p--;return u.length&&x.push(u.join(":")),x}function D(u){a.setTimeout(()=>{throw u},0)}function P(){var u=W;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class oe{constructor(){this.h=this.g=null}add(p,x){const C=J.get();C.set(p,x),this.h?this.h.next=C:this.g=C,this.h=C}}var J=new w(()=>new X,u=>u.reset());class X{constructor(){this.next=this.g=this.h=null}set(p,x){this.h=p,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,U=!1,W=new oe,H=()=>{const u=a.Promise.resolve(void 0);ne=()=>{u.then(re)}};var re=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(x){D(x)}var p=J;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}U=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};a.addEventListener("test",x,p),a.removeEventListener("test",x,p)}catch{}return u}();function xe(u,p){if(ee.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var x=this.type=u.type,C=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(N){e:{try{I(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else x=="mouseover"?p=u.fromElement:x=="mouseout"&&(p=u.toElement);this.relatedTarget=p,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&xe.aa.h.call(this)}}y(xe,ee);var be={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ze="closure_listenable_"+(1e6*Math.random()|0),dr=0;function qn(u,p,x,C,L){this.listener=u,this.proxy=null,this.src=p,this.type=x,this.capture=!!C,this.ha=L,this.key=++dr,this.da=this.fa=!1}function Gr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Kr(u){this.src=u,this.g={},this.h=0}Kr.prototype.add=function(u,p,x,C,L){var V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);var z=Zi(u,p,C,L);return-1<z?(p=u[z],x||(p.fa=!1)):(p=new qn(p,this.src,V,!!C,L),p.fa=x,u.push(p)),p};function Yr(u,p){var x=p.type;if(x in u.g){var C=u.g[x],L=Array.prototype.indexOf.call(C,p,void 0),V;(V=0<=L)&&Array.prototype.splice.call(C,L,1),V&&(Gr(p),u.g[x].length==0&&(delete u.g[x],u.h--))}}function Zi(u,p,x,C){for(var L=0;L<u.length;++L){var V=u[L];if(!V.da&&V.listener==p&&V.capture==!!x&&V.ha==C)return L}return-1}var Be="closure_lm_"+(1e6*Math.random()|0),fr={};function $t(u,p,x,C,L){if(Array.isArray(p)){for(var V=0;V<p.length;V++)$t(u,p[V],x,C,L);return null}return x=Gc(x),u&&u[Ze]?u.K(p,x,c(C)?!!C.capture:!!C,L):Zs(u,p,x,!1,C,L)}function Zs(u,p,x,C,L,V){if(!p)throw Error("Invalid event type");var z=c(L)?!!L.capture:!!L,Ie=eo(u);if(Ie||(u[Be]=Ie=new Kr(u)),x=Ie.add(p,x,C,z,V),x.proxy)return x;if(C=Hc(),x.proxy=C,C.src=u,C.listener=x,u.addEventListener)ge||(L=z),L===void 0&&(L=!1),u.addEventListener(p.toString(),C,L);else if(u.attachEvent)u.attachEvent(qc(p.toString()),C);else if(u.addListener&&u.removeListener)u.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Hc(){function u(x){return p.call(u.src,u.listener,x)}const p=jf;return u}function xa(u,p,x,C,L){if(Array.isArray(p))for(var V=0;V<p.length;V++)xa(u,p[V],x,C,L);else C=c(C)?!!C.capture:!!C,x=Gc(x),u&&u[Ze]?(u=u.i,p=String(p).toString(),p in u.g&&(V=u.g[p],x=Zi(V,x,C,L),-1<x&&(Gr(V[x]),Array.prototype.splice.call(V,x,1),V.length==0&&(delete u.g[p],u.h--)))):u&&(u=eo(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Zi(p,x,C,L)),(x=-1<u?p[u]:null)&&ba(x))}function ba(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Ze])Yr(p.i,u);else{var x=u.type,C=u.proxy;p.removeEventListener?p.removeEventListener(x,C,u.capture):p.detachEvent?p.detachEvent(qc(x),C):p.addListener&&p.removeListener&&p.removeListener(C),(x=eo(p))?(Yr(x,u),x.h==0&&(x.src=null,p[Be]=null)):Gr(u)}}}function qc(u){return u in fr?fr[u]:fr[u]="on"+u}function jf(u,p){if(u.da)u=!0;else{p=new xe(p,this);var x=u.listener,C=u.ha||u.src;u.fa&&ba(u),u=x.call(C,p)}return u}function eo(u){return u=u[Be],u instanceof Kr?u:null}var Ea="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gc(u){return typeof u=="function"?u:(u[Ea]||(u[Ea]=function(p){return u.handleEvent(p)}),u[Ea])}function ft(){Y.call(this),this.i=new Kr(this),this.M=this,this.F=null}y(ft,Y),ft.prototype[Ze]=!0,ft.prototype.removeEventListener=function(u,p,x,C){xa(this,u,p,x,C)};function xt(u,p){var x,C=u.F;if(C)for(x=[];C;C=C.F)x.push(C);if(u=u.M,C=p.type||p,typeof p=="string")p=new ee(p,u);else if(p instanceof ee)p.target=p.target||u;else{var L=p;p=new ee(C,u),A(p,L)}if(L=!0,x)for(var V=x.length-1;0<=V;V--){var z=p.g=x[V];L=to(z,C,!0,p)&&L}if(z=p.g=u,L=to(z,C,!0,p)&&L,L=to(z,C,!1,p)&&L,x)for(V=0;V<x.length;V++)z=p.g=x[V],L=to(z,C,!1,p)&&L}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var x=u.g[p],C=0;C<x.length;C++)Gr(x[C]);delete u.g[p],u.h--}}this.F=null},ft.prototype.K=function(u,p,x,C){return this.i.add(String(u),p,!1,x,C)},ft.prototype.L=function(u,p,x,C){return this.i.add(String(u),p,!0,x,C)};function to(u,p,x,C){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,V=0;V<p.length;++V){var z=p[V];if(z&&!z.da&&z.capture==x){var Ie=z.listener,bt=z.ha||z.src;z.fa&&Yr(u.i,z),L=Ie.call(bt,C)!==!1&&L}}return L&&!C.defaultPrevented}function no(u,p,x){if(typeof u=="function")x&&(u=f(u,x));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function Ta(u){u.g=no(()=>{u.g=null,u.i&&(u.i=!1,Ta(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Kc extends Y{constructor(p,x){super(),this.m=p,this.l=x,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Ta(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(u){Y.call(this),this.h=u,this.g={}}y(es,Y);var ts=[];function Sa(u){O(u.g,function(p,x){this.g.hasOwnProperty(x)&&ba(p)},u),u.g={}}es.prototype.N=function(){es.aa.N.call(this),Sa(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ka=a.JSON.stringify,Yc=a.JSON.parse,Qc=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function ns(){}ns.prototype.h=null;function Xc(u){return u.h||(u.h=u.i())}function Ia(){}var rs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ro(){ee.call(this,"d")}y(ro,ee);function pt(){ee.call(this,"c")}y(pt,ee);var Ge={},is=null;function ke(){return is=is||new ft}Ge.La="serverreachability";function ln(u){ee.call(this,Ge.La,u)}y(ln,ee);function ss(u){const p=ke();xt(p,new ln(p))}Ge.STAT_EVENT="statevent";function io(u,p){ee.call(this,Ge.STAT_EVENT,u),this.stat=p}y(io,ee);function gt(u){const p=ke();xt(p,new io(p,u))}Ge.Ma="timingevent";function Ca(u,p){ee.call(this,Ge.Ma,u),this.size=p}y(Ca,ee);function pr(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function Gn(){this.g=!0}Gn.prototype.xa=function(){this.g=!1};function Aa(u,p,x,C,L,V){u.info(function(){if(u.g)if(V)for(var z="",Ie=V.split("&"),bt=0;bt<Ie.length;bt++){var _e=Ie[bt].split("=");if(1<_e.length){var Pt=_e[0];_e=_e[1];var Rt=Pt.split("_");z=2<=Rt.length&&Rt[1]=="type"?z+(Pt+"="+_e+"&"):z+(Pt+"=redacted&")}}else z=null;else z=V;return"XMLHTTP REQ ("+C+") [attempt "+L+"]: "+p+`
`+x+`
`+z})}function Pa(u,p,x,C,L,V,z){u.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+L+"]: "+p+`
`+x+`
`+V+" "+z})}function Kn(u,p,x,C){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Ra(u,x)+(C?" "+C:"")})}function Ff(u,p){u.info(function(){return"TIMEOUT: "+p})}Gn.prototype.info=function(){};function Ra(u,p){if(!u.g)return p;if(!p)return null;try{var x=JSON.parse(p);if(x){for(u=0;u<x.length;u++)if(Array.isArray(x[u])){var C=x[u];if(!(2>C.length)){var L=C[1];if(Array.isArray(L)&&!(1>L.length)){var V=L[0];if(V!="noop"&&V!="stop"&&V!="close")for(var z=1;z<L.length;z++)L[z]=""}}}}return ka(x)}catch{return p}}var os={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Na;function le(){}y(le,ns),le.prototype.g=function(){return new XMLHttpRequest},le.prototype.i=function(){return{}},Na=new le;function we(u,p,x,C){this.j=u,this.i=p,this.l=x,this.R=C||1,this.U=new es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ze}function ze(){this.i=null,this.g="",this.h=!1}var Xt={},Wt={};function as(u,p,x){u.L=1,u.v=iu(gr(p)),u.m=x,u.P=!0,Zc(u,null)}function Zc(u,p){u.F=Date.now(),tu(u),u.A=gr(u.v);var x=u.A,C=u.R;Array.isArray(C)||(C=[String(C)]),O_(x.i,"t",C),u.C=0,x=u.j.J,u.h=new ze,u.g=J_(u.j,x?p:null,!u.m),0<u.O&&(u.M=new Kc(f(u.Y,u,u.g),u.O)),p=u.U,x=u.g,C=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(ts[0]=L.toString()),L=ts);for(var V=0;V<L.length;V++){var z=$t(x,L[V],C||p.handleEvent,!1,p.h||p);if(!z)break;p.g[z.key]=z}p=u.H?E(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),ss(),Aa(u.i,u.u,u.A,u.l,u.R,u.m)}we.prototype.ca=function(u){u=u.target;const p=this.M;p&&mr(u)==3?p.j():this.Y(u)},we.prototype.Y=function(u){try{if(u==this.g)e:{const Rt=mr(this.g);var p=this.g.Ba();const ao=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||B_(this.g)))){this.J||Rt!=4||p==7||(p==8||0>=ao?ss(3):ss(2)),Uf(this);var x=this.g.Z();this.X=x;t:if(eu(this)){var C=B_(this.g);u="";var L=C.length,V=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ls(this),Da(this);var z="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,u+=this.h.i.decode(C[p],{stream:!(V&&p==L-1)});C.length=0,this.h.g+=u,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=x==200,Pa(this.i,this.u,this.A,this.l,this.R,Rt,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,bt=this.g;if((Ie=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ie)){var _e=Ie;break t}}_e=null}if(x=_e)Kn(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bf(this,x);else{this.o=!1,this.s=3,gt(12),ls(this),Da(this);break e}}if(this.P){x=!0;let Nn;for(;!this.J&&this.C<z.length;)if(Nn=mA(this,z),Nn==Wt){Rt==4&&(this.s=4,gt(14),x=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==Xt){this.s=4,gt(15),Kn(this.i,this.l,z,"[Invalid Chunk]"),x=!1;break}else Kn(this.i,this.l,Nn,null),Bf(this,Nn);if(eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||z.length!=0||this.h.h||(this.s=1,gt(16),x=!1),this.o=this.o&&x,!x)Kn(this.i,this.l,z,"[Invalid Chunked Response]"),ls(this),Da(this);else if(0<z.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Gf(Pt),Pt.M=!0,gt(11))}}else Kn(this.i,this.l,z,null),Bf(this,z);Rt==4&&ls(this),this.o&&!this.J&&(Rt==4?K_(this.j,this):(this.o=!1,tu(this)))}else DA(this.g),x==400&&0<z.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),ls(this),Da(this)}}}catch{}finally{}};function eu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function mA(u,p){var x=u.C,C=p.indexOf(`
`,x);return C==-1?Wt:(x=Number(p.substring(x,C)),isNaN(x)?Xt:(C+=1,C+x>p.length?Wt:(p=p.slice(C,C+x),u.C=C+x,p)))}we.prototype.cancel=function(){this.J=!0,ls(this)};function tu(u){u.S=Date.now()+u.I,b_(u,u.I)}function b_(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=pr(f(u.ba,u),p)}function Uf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}we.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ff(this.i,this.A),this.L!=2&&(ss(),gt(17)),ls(this),this.s=2,Da(this)):b_(this,this.S-u)};function Da(u){u.j.G==0||u.J||K_(u.j,u)}function ls(u){Uf(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Sa(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Bf(u,p){try{var x=u.j;if(x.G!=0&&(x.g==u||zf(x.h,u))){if(!u.K&&zf(x.h,u)&&x.G==3){try{var C=x.Da.g.parse(p)}catch{C=null}if(Array.isArray(C)&&C.length==3){var L=C;if(L[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<u.F)uu(x),lu(x);else break e;qf(x),gt(18)}}else x.za=L[1],0<x.za-x.T&&37500>L[2]&&x.F&&x.v==0&&!x.C&&(x.C=pr(f(x.Za,x),6e3));if(1>=S_(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else us(x,11)}else if((u.K||x.g==u)&&uu(x),!_(p))for(L=x.Da.g.parse(p),p=0;p<L.length;p++){let _e=L[p];if(x.T=_e[0],_e=_e[1],x.G==2)if(_e[0]=="c"){x.K=_e[1],x.ia=_e[2];const Pt=_e[3];Pt!=null&&(x.la=Pt,x.j.info("VER="+x.la));const Rt=_e[4];Rt!=null&&(x.Aa=Rt,x.j.info("SVER="+x.Aa));const ao=_e[5];ao!=null&&typeof ao=="number"&&0<ao&&(C=1.5*ao,x.L=C,x.j.info("backChannelRequestTimeoutMs_="+C)),C=x;const Nn=u.g;if(Nn){const du=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(du){var V=C.h;V.g||du.indexOf("spdy")==-1&&du.indexOf("quic")==-1&&du.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&($f(V,V.h),V.h=null))}if(C.D){const Kf=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Kf&&(C.ya=Kf,Re(C.I,C.D,Kf))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-u.F,x.j.info("Handshake RTT: "+x.R+"ms")),C=x;var z=u;if(C.qa=X_(C,C.J?C.ia:null,C.W),z.K){k_(C.h,z);var Ie=z,bt=C.L;bt&&(Ie.I=bt),Ie.B&&(Uf(Ie),tu(Ie)),C.g=z}else q_(C);0<x.i.length&&cu(x)}else _e[0]!="stop"&&_e[0]!="close"||us(x,7);else x.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?us(x,7):Hf(x):_e[0]!="noop"&&x.l&&x.l.ta(_e),x.v=0)}}ss(4)}catch{}}var yA=class{constructor(u,p){this.g=u,this.map=p}};function E_(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function T_(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function S_(u){return u.h?1:u.g?u.g.size:0}function zf(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function $f(u,p){u.g?u.g.add(p):u.h=p}function k_(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}E_.prototype.cancel=function(){if(this.i=I_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function I_(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const x of u.g.values())p=p.concat(x.D);return p}return v(u.i)}function vA(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],x=u.length,C=0;C<x;C++)p.push(u[C]);return p}p=[],x=0;for(C in u)p[x++]=u[C];return p}function _A(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var x=0;x<u;x++)p.push(x);return p}p=[],x=0;for(const C in u)p[x++]=C;return p}}}function C_(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var x=_A(u),C=vA(u),L=C.length,V=0;V<L;V++)p.call(void 0,C[V],x&&x[V],u)}var A_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wA(u,p){if(u){u=u.split("&");for(var x=0;x<u.length;x++){var C=u[x].indexOf("="),L=null;if(0<=C){var V=u[x].substring(0,C);L=u[x].substring(C+1)}else V=u[x];p(V,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function cs(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof cs){this.h=u.h,nu(this,u.j),this.o=u.o,this.g=u.g,ru(this,u.s),this.l=u.l;var p=u.i,x=new La;x.i=p.i,p.g&&(x.g=new Map(p.g),x.h=p.h),P_(this,x),this.m=u.m}else u&&(p=String(u).match(A_))?(this.h=!1,nu(this,p[1]||"",!0),this.o=Oa(p[2]||""),this.g=Oa(p[3]||"",!0),ru(this,p[4]),this.l=Oa(p[5]||"",!0),P_(this,p[6]||"",!0),this.m=Oa(p[7]||"")):(this.h=!1,this.i=new La(null,this.h))}cs.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Ma(p,R_,!0),":");var x=this.g;return(x||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Ma(p,R_,!0),"@"),u.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&u.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(Ma(x,x.charAt(0)=="/"?EA:bA,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",Ma(x,SA)),u.join("")};function gr(u){return new cs(u)}function nu(u,p,x){u.j=x?Oa(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function ru(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function P_(u,p,x){p instanceof La?(u.i=p,kA(u.i,u.h)):(x||(p=Ma(p,TA)),u.i=new La(p,u.h))}function Re(u,p,x){u.i.set(p,x)}function iu(u){return Re(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Oa(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ma(u,p,x){return typeof u=="string"?(u=encodeURI(u).replace(p,xA),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function xA(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var R_=/[#\/\?@]/g,bA=/[#\?:]/g,EA=/[#\?]/g,TA=/[#\?@]/g,SA=/#/g;function La(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Qr(u){u.g||(u.g=new Map,u.h=0,u.i&&wA(u.i,function(p,x){u.add(decodeURIComponent(p.replace(/\+/g," ")),x)}))}t=La.prototype,t.add=function(u,p){Qr(this),this.i=null,u=so(this,u);var x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(p),this.h+=1,this};function N_(u,p){Qr(u),p=so(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function D_(u,p){return Qr(u),p=so(u,p),u.g.has(p)}t.forEach=function(u,p){Qr(this),this.g.forEach(function(x,C){x.forEach(function(L){u.call(p,L,C,this)},this)},this)},t.na=function(){Qr(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),x=[];for(let C=0;C<p.length;C++){const L=u[C];for(let V=0;V<L.length;V++)x.push(p[C])}return x},t.V=function(u){Qr(this);let p=[];if(typeof u=="string")D_(this,u)&&(p=p.concat(this.g.get(so(this,u))));else{u=Array.from(this.g.values());for(let x=0;x<u.length;x++)p=p.concat(u[x])}return p},t.set=function(u,p){return Qr(this),this.i=null,u=so(this,u),D_(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function O_(u,p,x){N_(u,p),0<x.length&&(u.i=null,u.g.set(so(u,p),v(x)),u.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var x=0;x<p.length;x++){var C=p[x];const V=encodeURIComponent(String(C)),z=this.V(C);for(C=0;C<z.length;C++){var L=V;z[C]!==""&&(L+="="+encodeURIComponent(String(z[C]))),u.push(L)}}return this.i=u.join("&")};function so(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function kA(u,p){p&&!u.j&&(Qr(u),u.i=null,u.g.forEach(function(x,C){var L=C.toLowerCase();C!=L&&(N_(this,C),O_(this,L,x))},u)),u.j=p}function IA(u,p){const x=new Gn;if(a.Image){const C=new Image;C.onload=g(Xr,x,"TestLoadImage: loaded",!0,p,C),C.onerror=g(Xr,x,"TestLoadImage: error",!1,p,C),C.onabort=g(Xr,x,"TestLoadImage: abort",!1,p,C),C.ontimeout=g(Xr,x,"TestLoadImage: timeout",!1,p,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=u}else p(!1)}function CA(u,p){const x=new Gn,C=new AbortController,L=setTimeout(()=>{C.abort(),Xr(x,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:C.signal}).then(V=>{clearTimeout(L),V.ok?Xr(x,"TestPingServer: ok",!0,p):Xr(x,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Xr(x,"TestPingServer: error",!1,p)})}function Xr(u,p,x,C,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),C(x)}catch{}}function AA(){this.g=new Qc}function PA(u,p,x){const C=x||"";try{C_(u,function(L,V){let z=L;c(L)&&(z=ka(L)),p.push(C+V+"="+encodeURIComponent(z))})}catch(L){throw p.push(C+"type="+encodeURIComponent("_badmap")),L}}function su(u){this.l=u.Ub||null,this.j=u.eb||!1}y(su,ns),su.prototype.g=function(){return new ou(this.l,this.j)},su.prototype.i=function(u){return function(){return u}}({});function ou(u,p){ft.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(ou,ft),t=ou.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,ja(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Va(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ja(this)),this.g&&(this.readyState=3,ja(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;M_(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function M_(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Va(this):ja(this),this.readyState==3&&M_(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Va(this))},t.Qa=function(u){this.g&&(this.response=u,Va(this))},t.ga=function(){this.g&&Va(this)};function Va(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ja(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var x=p.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=p.next();return u.join(`\r
`)};function ja(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ou.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function L_(u){let p="";return O(u,function(x,C){p+=C,p+=":",p+=x,p+=`\r
`}),p}function Wf(u,p,x){e:{for(C in x){var C=!1;break e}C=!0}C||(x=L_(x),typeof u=="string"?x!=null&&encodeURIComponent(String(x)):Re(u,p,x))}function Ke(u){ft.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Ke,ft);var RA=/^https?$/i,NA=["POST","PUT"];t=Ke.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,x,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Na.g(),this.v=this.o?Xc(this.o):Xc(Na),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(V){V_(this,V);return}if(u=x||"",x=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var L in C)x.set(L,C[L]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const V of C.keys())x.set(V,C.get(V));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(x.keys()).find(V=>V.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(NA,p,void 0))||C||L||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,z]of x)this.g.setRequestHeader(V,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{U_(this),this.u=!0,this.g.send(u),this.u=!1}catch(V){V_(this,V)}};function V_(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,j_(u),au(u)}function j_(u){u.A||(u.A=!0,xt(u,"complete"),xt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,xt(this,"complete"),xt(this,"abort"),au(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),au(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?F_(this):this.bb())},t.bb=function(){F_(this)};function F_(u){if(u.h&&typeof o<"u"&&(!u.v[1]||mr(u)!=4||u.Z()!=2)){if(u.u&&mr(u)==4)no(u.Ea,0,u);else if(xt(u,"readystatechange"),mr(u)==4){u.h=!1;try{const z=u.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var x;if(!(x=p)){var C;if(C=z===0){var L=String(u.D).match(A_)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),C=!RA.test(L?L.toLowerCase():"")}x=C}if(x)xt(u,"complete"),xt(u,"success");else{u.m=6;try{var V=2<mr(u)?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.Z()+"]",j_(u)}}finally{au(u)}}}}function au(u,p){if(u.g){U_(u);const x=u.g,C=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||xt(u,"ready");try{x.onreadystatechange=C}catch{}}}function U_(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function mr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Yc(p)}};function B_(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function DA(u){const p={};u=(u.g&&2<=mr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<u.length;C++){if(_(u[C]))continue;var x=R(u[C]);const L=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const V=p[L]||[];p[L]=V,V.push(x)}S(p,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fa(u,p,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||p}function z_(u){this.Aa=0,this.i=[],this.j=new Gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fa("baseRetryDelayMs",5e3,u),this.cb=Fa("retryDelaySeedMs",1e4,u),this.Wa=Fa("forwardChannelMaxRetries",2,u),this.wa=Fa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new E_(u&&u.concurrentRequestLimit),this.Da=new AA,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=z_.prototype,t.la=8,t.G=1,t.connect=function(u,p,x,C){gt(0),this.W=u,this.H=p||{},x&&C!==void 0&&(this.H.OSID=x,this.H.OAID=C),this.F=this.X,this.I=X_(this,null,this.W),cu(this)};function Hf(u){if($_(u),u.G==3){var p=u.U++,x=gr(u.I);if(Re(x,"SID",u.K),Re(x,"RID",p),Re(x,"TYPE","terminate"),Ua(u,x),p=new we(u,u.j,p),p.L=2,p.v=iu(gr(x)),x=!1,a.navigator&&a.navigator.sendBeacon)try{x=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!x&&a.Image&&(new Image().src=p.v,x=!0),x||(p.g=J_(p.j,null),p.g.ea(p.v)),p.F=Date.now(),tu(p)}Q_(u)}function lu(u){u.g&&(Gf(u),u.g.cancel(),u.g=null)}function $_(u){lu(u),u.u&&(a.clearTimeout(u.u),u.u=null),uu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function cu(u){if(!T_(u.h)&&!u.s){u.s=!0;var p=u.Ga;ne||H(),U||(ne(),U=!0),W.add(p,u),u.B=0}}function OA(u,p){return S_(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=pr(f(u.Ga,u,p),Y_(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new we(this,this.j,u);let V=this.o;if(this.S&&(V?(V=E(V),A(V,this.S)):V=this.S),this.m!==null||this.O||(L.H=V,V=null),this.P)e:{for(var p=0,x=0;x<this.i.length;x++){t:{var C=this.i[x];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(p+=C,4096<p){p=x;break e}if(p===4096||x===this.i.length-1){p=x+1;break e}}p=1e3}else p=1e3;p=H_(this,L,p),x=gr(this.I),Re(x,"RID",u),Re(x,"CVER",22),this.D&&Re(x,"X-HTTP-Session-Id",this.D),Ua(this,x),V&&(this.O?p="headers="+encodeURIComponent(String(L_(V)))+"&"+p:this.m&&Wf(x,this.m,V)),$f(this.h,L),this.Ua&&Re(x,"TYPE","init"),this.P?(Re(x,"$req",p),Re(x,"SID","null"),L.T=!0,as(L,x,null)):as(L,x,p),this.G=2}}else this.G==3&&(u?W_(this,u):this.i.length==0||T_(this.h)||W_(this))};function W_(u,p){var x;p?x=p.l:x=u.U++;const C=gr(u.I);Re(C,"SID",u.K),Re(C,"RID",x),Re(C,"AID",u.T),Ua(u,C),u.m&&u.o&&Wf(C,u.m,u.o),x=new we(u,u.j,x,u.B+1),u.m===null&&(x.H=u.o),p&&(u.i=p.D.concat(u.i)),p=H_(u,x,1e3),x.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),$f(u.h,x),as(x,C,p)}function Ua(u,p){u.H&&O(u.H,function(x,C){Re(p,C,x)}),u.l&&C_({},function(x,C){Re(p,C,x)})}function H_(u,p,x){x=Math.min(u.i.length,x);var C=u.l?f(u.l.Na,u.l,u):null;e:{var L=u.i;let V=-1;for(;;){const z=["count="+x];V==-1?0<x?(V=L[0].g,z.push("ofs="+V)):V=0:z.push("ofs="+V);let Ie=!0;for(let bt=0;bt<x;bt++){let _e=L[bt].g;const Pt=L[bt].map;if(_e-=V,0>_e)V=Math.max(0,L[bt].g-100),Ie=!1;else try{PA(Pt,z,"req"+_e+"_")}catch{C&&C(Pt)}}if(Ie){C=z.join("&");break e}}}return u=u.i.splice(0,x),p.D=u,C}function q_(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;ne||H(),U||(ne(),U=!0),W.add(p,u),u.v=0}}function qf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=pr(f(u.Fa,u),Y_(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,G_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=pr(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),lu(this),G_(this))};function Gf(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function G_(u){u.g=new we(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=gr(u.qa);Re(p,"RID","rpc"),Re(p,"SID",u.K),Re(p,"AID",u.T),Re(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Re(p,"TO",u.ja),Re(p,"TYPE","xmlhttp"),Ua(u,p),u.m&&u.o&&Wf(p,u.m,u.o),u.L&&(u.g.I=u.L);var x=u.g;u=u.ia,x.L=1,x.v=iu(gr(p)),x.m=null,x.P=!0,Zc(x,u)}t.Za=function(){this.C!=null&&(this.C=null,lu(this),qf(this),gt(19))};function uu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function K_(u,p){var x=null;if(u.g==p){uu(u),Gf(u),u.g=null;var C=2}else if(zf(u.h,p))x=p.D,k_(u.h,p),C=1;else return;if(u.G!=0){if(p.o)if(C==1){x=p.m?p.m.length:0,p=Date.now()-p.F;var L=u.B;C=ke(),xt(C,new Ca(C,x)),cu(u)}else q_(u);else if(L=p.s,L==3||L==0&&0<p.X||!(C==1&&OA(u,p)||C==2&&qf(u)))switch(x&&0<x.length&&(p=u.h,p.i=p.i.concat(x)),L){case 1:us(u,5);break;case 4:us(u,10);break;case 3:us(u,6);break;default:us(u,2)}}}function Y_(u,p){let x=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(x*=2),x*p}function us(u,p){if(u.j.info("Error code "+p),p==2){var x=f(u.fb,u),C=u.Xa;const L=!C;C=new cs(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||nu(C,"https"),iu(C),L?IA(C.toString(),x):CA(C.toString(),x)}else gt(2);u.G=0,u.l&&u.l.sa(p),Q_(u),$_(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Q_(u){if(u.G=0,u.ka=[],u.l){const p=I_(u.h);(p.length!=0||u.i.length!=0)&&(b(u.ka,p),b(u.ka,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.ra()}}function X_(u,p,x){var C=x instanceof cs?gr(x):new cs(x);if(C.g!="")p&&(C.g=p+"."+C.g),ru(C,C.s);else{var L=a.location;C=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var V=new cs(null);C&&nu(V,C),p&&(V.g=p),L&&ru(V,L),x&&(V.l=x),C=V}return x=u.D,p=u.ya,x&&p&&Re(C,x,p),Re(C,"VER",u.la),Ua(u,C),C}function J_(u,p,x){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Ke(new su({eb:x})):new Ke(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Z_(){}t=Z_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function hu(){}hu.prototype.g=function(u,p){return new cn(u,p)};function cn(u,p){ft.call(this),this.g=new z_(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!_(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!_(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new oo(this)}y(cn,ft),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Hf(this.g)},cn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.u&&(x={},x.__data__=ka(u),u=x);p.i.push(new yA(p.Ya++,u)),p.G==3&&cu(p)},cn.prototype.N=function(){this.g.l=null,delete this.j,Hf(this.g),delete this.g,cn.aa.N.call(this)};function e0(u){ro.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const x in p){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}y(e0,ro);function t0(){pt.call(this),this.status=1}y(t0,pt);function oo(u){this.g=u}y(oo,Z_),oo.prototype.ua=function(){xt(this.g,"a")},oo.prototype.ta=function(u){xt(this.g,new e0(u))},oo.prototype.sa=function(u){xt(this.g,new t0)},oo.prototype.ra=function(){xt(this.g,"b")},hu.prototype.createWebChannel=hu.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,xS=function(){return new hu},wS=function(){return ke()},_S=Ge,nm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},os.NO_ERROR=0,os.TIMEOUT=8,os.HTTP_ERROR=6,gh=os,Jc.COMPLETE="complete",vS=Jc,Ia.EventType=rs,rs.OPEN="a",rs.CLOSE="b",rs.ERROR="c",rs.MESSAGE="d",ft.prototype.listen=ft.prototype.K,sl=Ia,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,yS=Ke}).apply(typeof Ru<"u"?Ru:typeof self<"u"?self:typeof window<"u"?window:{});const Mw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fa="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Jy("@firebase/firestore");function ho(){return Us.logLevel}function q(t,...e){if(Us.logLevel<=he.DEBUG){const n=e.map(tv);Us.debug(`Firestore (${fa}): ${t}`,...n)}}function jr(t,...e){if(Us.logLevel<=he.ERROR){const n=e.map(tv);Us.error(`Firestore (${fa}): ${t}`,...n)}}function Yo(t,...e){if(Us.logLevel<=he.WARN){const n=e.map(tv);Us.warn(`Firestore (${fa}): ${t}`,...n)}}function tv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t="Unexpected state"){const e=`FIRESTORE (${fa}) INTERNAL ASSERTION FAILED: `+t;throw jr(e),new Error(e)}function Ee(t,e){t||Z()}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class lO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cO{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ee(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Nr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Nr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string"),new bS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string"),new Lt(e)}}class uO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class hO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new uO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ee(this.o===void 0);const r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string"),this.R=n.token,new dO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=pO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function pe(t,e){return t<e?-1:t>e?1:0}function Qo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ht(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{static fromTimestamp(e){return new ie(e)}static min(){return new ie(new ht(0,0))}static max(){return new ie(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ic.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ic?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ve extends ic{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const gO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends ic{construct(e,n,r){return new St(e,n,r)}static isValidIdentifier(e){return gO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new St(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new K(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new K(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(n)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Ve.fromString(e))}static fromName(e){return new Q(Ve.fromString(e).popFirst(5))}static empty(){return new Q(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Ve(e.slice()))}}function mO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new ht(n+1,0):new ht(n,r));return new Li(i,Q.empty(),e)}function yO(t){return new Li(t.readTime,t.key,-1)}class Li{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Li(ie.min(),Q.empty(),-1)}static max(){return new Li(ie.max(),Q.empty(),-1)}}function vO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==_O)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new j((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function xO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ga(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}rf.oe=-1;function sf(t){return t==null}function dd(t){return t===0&&1/t==-1/0}function bO(t){return typeof t=="number"&&Number.isInteger(t)&&!dd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Lw(e)),e=TO(t.get(n),e);return Lw(e)}function TO(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function Lw(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ki(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){this.comparator=e,this.root=n||Tt.EMPTY}insert(e,n){return new qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nu(this.root,e,this.comparator,!0)}}class Nu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Tt.RED,this.left=i??Tt.EMPTY,this.right=s??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Tt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Tt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1;Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Tt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jw(this.data.getIterator())}getIteratorFrom(e){return new jw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dt(this.comparator);return n.data=e,n}}class jw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new pn([])}unionWith(e){let n=new dt(St.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new SS("Invalid base64 string: "+s):s}}(e);return new At(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new At(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}At.EMPTY_BYTE_STRING=new At("");const SO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vi(t){if(Ee(!!t),typeof t=="string"){let e=0;const n=SO.exec(t);if(Ee(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ji(t){return typeof t=="string"?At.fromBase64String(t):At.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function of(t){const e=t.mapValue.fields.__previous_value__;return nv(e)?of(e):e}function sc(t){const e=Vi(t.mapValue.fields.__local_write_time__.timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class oc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new oc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof oc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nv(t)?4:CO(t)?9007199254740991:IO(t)?10:11:Z()}function cr(t,e){if(t===e)return!0;const n=Fi(t);if(n!==Fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sc(t).isEqual(sc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Vi(i.timestampValue),a=Vi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ji(i.bytesValue).isEqual(ji(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return et(i.geoPointValue.latitude)===et(s.geoPointValue.latitude)&&et(i.geoPointValue.longitude)===et(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return et(i.integerValue)===et(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=et(i.doubleValue),a=et(s.doubleValue);return o===a?dd(o)===dd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Qo(t.arrayValue.values||[],e.arrayValue.values||[],cr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Vw(o)!==Vw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!cr(o[l],a[l])))return!1;return!0}(t,e);default:return Z()}}function ac(t,e){return(t.values||[]).find(n=>cr(n,e))!==void 0}function Xo(t,e){if(t===e)return 0;const n=Fi(t),r=Fi(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=et(s.integerValue||s.doubleValue),l=et(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Fw(t.timestampValue,e.timestampValue);case 4:return Fw(sc(t),sc(e));case 5:return pe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ji(s),l=ji(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=pe(a[c],l[c]);if(h!==0)return h}return pe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=pe(et(s.latitude),et(o.latitude));return a!==0?a:pe(et(s.longitude),et(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Uw(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,h;const d=s.fields||{},f=o.fields||{},g=(a=d.value)===null||a===void 0?void 0:a.arrayValue,y=(l=f.value)===null||l===void 0?void 0:l.arrayValue,v=pe(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=y==null?void 0:y.values)===null||h===void 0?void 0:h.length)||0);return v!==0?v:Uw(g,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Du.mapValue&&o===Du.mapValue)return 0;if(s===Du.mapValue)return 1;if(o===Du.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=pe(l[d],h[d]);if(f!==0)return f;const g=Xo(a[l[d]],c[h[d]]);if(g!==0)return g}return pe(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Z()}}function Fw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);const n=Vi(t),r=Vi(e),i=pe(n.seconds,r.seconds);return i!==0?i:pe(n.nanos,r.nanos)}function Uw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Xo(n[i],r[i]);if(s)return s}return pe(n.length,r.length)}function Jo(t){return rm(t)}function rm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Vi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ji(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=rm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${rm(n.fields[o])}`;return i+"}"}(t.mapValue):Z()}function mh(t){switch(Fi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=of(t);return e?16+mh(e):16;case 5:return 2*t.stringValue.length;case 6:return ji(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+mh(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ki(r.fields,(s,o)=>{i+=s.length+mh(o)}),i}(t.mapValue);default:throw Z()}}function im(t){return!!t&&"integerValue"in t}function rv(t){return!!t&&"arrayValue"in t}function Bw(t){return!!t&&"nullValue"in t}function zw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yh(t){return!!t&&"mapValue"in t}function IO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Sl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ki(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!yh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sl(n)}setAll(e){let n=St.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Sl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());yh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];yh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ki(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new tn(Sl(this.value))}}function kS(t){const e=[];return Ki(t.fields,(n,r)=>{const i=new St([n]);if(yh(r)){const s=kS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new jt(e,0,ie.min(),ie.min(),ie.min(),tn.empty(),0)}static newFoundDocument(e,n,r,i){return new jt(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new jt(e,2,n,ie.min(),ie.min(),tn.empty(),0)}static newUnknownDocument(e,n){return new jt(e,3,n,ie.min(),ie.min(),tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n){this.position=e,this.inclusive=n}}function $w(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=Xo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ww(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!cr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n="asc"){this.field=e,this.dir=n}}function AO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{}class lt extends IS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new RO(e,n,r):n==="array-contains"?new OO(e,r):n==="in"?new MO(e,r):n==="not-in"?new LO(e,r):n==="array-contains-any"?new VO(e,r):new lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new NO(e,r):new DO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xo(n,this.value)):n!==null&&Fi(this.value)===Fi(n)&&this.matchesComparison(Xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends IS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ur(e,n)}matches(e){return CS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function CS(t){return t.op==="and"}function AS(t){return PO(t)&&CS(t)}function PO(t){for(const e of t.filters)if(e instanceof ur)return!1;return!0}function sm(t){if(t instanceof lt)return t.field.canonicalString()+t.op.toString()+Jo(t.value);if(AS(t))return t.filters.map(e=>sm(e)).join(",");{const e=t.filters.map(n=>sm(n)).join(",");return`${t.op}(${e})`}}function PS(t,e){return t instanceof lt?function(r,i){return i instanceof lt&&r.op===i.op&&r.field.isEqual(i.field)&&cr(r.value,i.value)}(t,e):t instanceof ur?function(r,i){return i instanceof ur&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&PS(o,i.filters[a]),!0):!1}(t,e):void Z()}function RS(t){return t instanceof lt?function(n){return`${n.field.canonicalString()} ${n.op} ${Jo(n.value)}`}(t):t instanceof ur?function(n){return n.op.toString()+" {"+n.getFilters().map(RS).join(" ,")+"}"}(t):"Filter"}class RO extends lt{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class NO extends lt{constructor(e,n){super(e,"in",n),this.keys=NS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class DO extends lt{constructor(e,n){super(e,"not-in",n),this.keys=NS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function NS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class OO extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rv(n)&&ac(n.arrayValue,this.value)}}class MO extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ac(this.value.arrayValue,n)}}class LO extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ac(this.value.arrayValue,n)}}class VO extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ac(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Hw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new jO(t,e,n,r,i,s,o)}function iv(t){const e=se(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),sf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Jo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Jo(r)).join(",")),e.ue=n}return e.ue}function sv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!AO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ww(t.startAt,e.startAt)&&Ww(t.endAt,e.endAt)}function om(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function FO(t,e,n,r,i,s,o,a){return new af(t,e,n,r,i,s,o,a)}function ov(t){return new af(t)}function qw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function UO(t){return t.collectionGroup!==null}function kl(t){const e=se(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new dt(St.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new pd(s,r))}),n.has(St.keyField().canonicalString())||e.ce.push(new pd(St.keyField(),r))}return e.ce}function ir(t){const e=se(t);return e.le||(e.le=BO(e,kl(t))),e.le}function BO(t,e){if(t.limitType==="F")return Hw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new pd(i.field,s)});const n=t.endAt?new fd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fd(t.startAt.position,t.startAt.inclusive):null;return Hw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function am(t,e,n){return new af(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lf(t,e){return sv(ir(t),ir(e))&&t.limitType===e.limitType}function DS(t){return`${iv(ir(t))}|lt:${t.limitType}`}function fo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>RS(i)).join(", ")}]`),sf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Jo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Jo(i)).join(",")),`Target(${r})`}(ir(t))}; limitType=${t.limitType})`}function cf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of kl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=$w(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,kl(r),i)||r.endAt&&!function(o,a,l){const c=$w(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,kl(r),i))}(t,e)}function zO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OS(t){return(e,n)=>{let r=!1;for(const i of kl(t)){const s=$O(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function $O(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Xo(l,c):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ki(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return TS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=new qe(Q.comparator);function Fr(){return WO}const MS=new qe(Q.comparator);function ol(...t){let e=MS;for(const n of t)e=e.insert(n.key,n);return e}function LS(t){let e=MS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Es(){return Il()}function VS(){return Il()}function Il(){return new Ks(t=>t.toString(),(t,e)=>t.isEqual(e))}const HO=new qe(Q.comparator),qO=new dt(Q.comparator);function de(...t){let e=qO;for(const n of t)e=e.add(n);return e}const GO=new dt(pe);function KO(){return GO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dd(e)?"-0":e}}function jS(t){return{integerValue:""+t}}function YO(t,e){return bO(e)?jS(e):av(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this._=void 0}}function QO(t,e,n){return t instanceof gd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&nv(s)&&(s=of(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof lc?US(t,e):t instanceof cc?BS(t,e):function(i,s){const o=FS(i,s),a=Gw(o)+Gw(i.Pe);return im(o)&&im(i.Pe)?jS(a):av(i.serializer,a)}(t,e)}function XO(t,e,n){return t instanceof lc?US(t,e):t instanceof cc?BS(t,e):n}function FS(t,e){return t instanceof md?function(r){return im(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class gd extends uf{}class lc extends uf{constructor(e){super(),this.elements=e}}function US(t,e){const n=zS(e);for(const r of t.elements)n.some(i=>cr(i,r))||n.push(r);return{arrayValue:{values:n}}}class cc extends uf{constructor(e){super(),this.elements=e}}function BS(t,e){let n=zS(e);for(const r of t.elements)n=n.filter(i=>!cr(i,r));return{arrayValue:{values:n}}}class md extends uf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Gw(t){return et(t.integerValue||t.doubleValue)}function zS(t){return rv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function JO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof lc&&i instanceof lc||r instanceof cc&&i instanceof cc?Qo(r.elements,i.elements,cr):r instanceof md&&i instanceof md?cr(r.Pe,i.Pe):r instanceof gd&&i instanceof gd}(t.transform,e.transform)}class ZO{constructor(e,n){this.version=e,this.transformResults=n}}class zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hf{}function $S(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lv(t.key,zn.none()):new Rc(t.key,t.data,zn.none());{const n=t.data,r=tn.empty();let i=new dt(St.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Yi(t.key,r,new pn(i.toArray()),zn.none())}}function eM(t,e,n){t instanceof Rc?function(i,s,o){const a=i.value.clone(),l=Yw(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Yi?function(i,s,o){if(!vh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Yw(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(WS(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Cl(t,e,n,r){return t instanceof Rc?function(s,o,a,l){if(!vh(s.precondition,o))return a;const c=s.value.clone(),h=Qw(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yi?function(s,o,a,l){if(!vh(s.precondition,o))return a;const c=Qw(s.fieldTransforms,l,o),h=o.data;return h.setAll(WS(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return vh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function tM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=FS(r.transform,i||null);s!=null&&(n===null&&(n=tn.empty()),n.set(r.field,s))}return n||null}function Kw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qo(r,i,(s,o)=>JO(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rc extends hf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Yi extends hf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function WS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Yw(t,e,n){const r=new Map;Ee(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,XO(o,a,n[i]))}return r}function Qw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,QO(s,o,e))}return r}class lv extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nM extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&eM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=$S(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&Qo(this.mutations,e.mutations,(n,r)=>Kw(n,r))&&Qo(this.baseMutations,e.baseMutations,(n,r)=>Kw(n,r))}}class cv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ee(e.mutations.length===r.length);let i=function(){return HO}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new cv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,me;function oM(t){switch(t){default:return Z();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function HS(t){if(t===void 0)return jr("GRPC error has no .code"),F.UNKNOWN;switch(t){case it.OK:return F.OK;case it.CANCELLED:return F.CANCELLED;case it.UNKNOWN:return F.UNKNOWN;case it.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case it.INTERNAL:return F.INTERNAL;case it.UNAVAILABLE:return F.UNAVAILABLE;case it.UNAUTHENTICATED:return F.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case it.NOT_FOUND:return F.NOT_FOUND;case it.ALREADY_EXISTS:return F.ALREADY_EXISTS;case it.PERMISSION_DENIED:return F.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case it.ABORTED:return F.ABORTED;case it.OUT_OF_RANGE:return F.OUT_OF_RANGE;case it.UNIMPLEMENTED:return F.UNIMPLEMENTED;case it.DATA_LOSS:return F.DATA_LOSS;default:return Z()}}(me=it||(it={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=new Is([4294967295,4294967295],0);function Xw(t){const e=aM().encode(t),n=new mS;return n.update(e),new Uint8Array(n.digest())}function Jw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Is([n,r],0),new Is([i,s],0)]}class uv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new al(`Invalid padding: ${n}`);if(r<0)throw new al(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new al(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new al(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Is.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(Is.fromNumber(r)));return i.compare(lM)===1&&(i=new Is([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Xw(e),[r,i]=Jw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new uv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=Xw(e),[r,i]=Jw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Nc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new df(ie.min(),i,new qe(pe),Fr(),de())}}class Nc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Nc(r,n,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class qS{constructor(e,n){this.targetId=e,this.me=n}}class GS{constructor(e,n,r=At.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Zw{constructor(){this.fe=0,this.ge=ex(),this.pe=At.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=de(),n=de(),r=de();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new Nc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=ex()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ee(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class cM{constructor(e){this.Le=e,this.Be=new Map,this.ke=Fr(),this.qe=Ou(),this.Qe=Ou(),this.Ke=new qe(pe)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const s=i.target;if(om(s))if(r===0){const o=new Q(s.path);this.We(n,o,jt.newNoDocument(o,ie.min()))}else Ee(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ji(r).toUint8Array()}catch(l){if(l instanceof SS)return Yo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new uv(o,i,s)}catch(l){return Yo(l instanceof al?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&om(a.target)){const l=new Q(a.target.path);this.st(l).has(o)||this.ot(o,l)||this.We(o,l,jt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=de();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new df(e,n,this.Ke,this.ke,r);return this.ke=Fr(),this.qe=Ou(),this.Qe=Ou(),this.Ke=new qe(pe),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new Zw,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new dt(pe),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new dt(pe),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Zw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Ou(){return new qe(Q.comparator)}function ex(){return new qe(Q.comparator)}const uM={asc:"ASCENDING",desc:"DESCENDING"},hM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dM={and:"AND",or:"OR"};class fM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lm(t,e){return t.useProto3Json||sf(e)?e:{value:e}}function yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pM(t,e){return yd(t,e.toTimestamp())}function sr(t){return Ee(!!t),ie.fromTimestamp(function(n){const r=Vi(n);return new ht(r.seconds,r.nanos)}(t))}function hv(t,e){return cm(t,e).canonicalString()}function cm(t,e){const n=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function YS(t){const e=Ve.fromString(t);return Ee(ek(e)),e}function um(t,e){return hv(t.databaseId,e.path)}function Ip(t,e){const n=YS(e);if(n.get(1)!==t.databaseId.projectId)throw new K(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(XS(n))}function QS(t,e){return hv(t.databaseId,e)}function gM(t){const e=YS(t);return e.length===4?Ve.emptyPath():XS(e)}function hm(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XS(t){return Ee(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function tx(t,e,n){return{name:um(t,e),fields:n.value.mapValue.fields}}function mM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Ee(h===void 0||typeof h=="string"),At.fromBase64String(h||"")):(Ee(h===void 0||h instanceof Buffer||h instanceof Uint8Array),At.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?F.UNKNOWN:HS(c.code);return new K(h,c.message||"")}(o);n=new GS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ip(t,r.document.name),s=sr(r.document.updateTime),o=r.document.createTime?sr(r.document.createTime):ie.min(),a=new tn({mapValue:{fields:r.document.fields}}),l=jt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new _h(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ip(t,r.document),s=r.readTime?sr(r.readTime):ie.min(),o=jt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new _h([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ip(t,r.document),s=r.removedTargetIds||[];n=new _h([],s,i,null)}else{if(!("filter"in e))return Z();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new sM(i,s),a=r.targetId;n=new qS(a,o)}}return n}function yM(t,e){let n;if(e instanceof Rc)n={update:tx(t,e.key,e.value)};else if(e instanceof lv)n={delete:um(t,e.key)};else if(e instanceof Yi)n={update:tx(t,e.key,e.data),updateMask:kM(e.fieldMask)};else{if(!(e instanceof nM))return Z();n={verify:um(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof gd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof lc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof cc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof md)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:pM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Z()}(t,e.precondition)),n}function vM(t,e){return t&&t.length>0?(Ee(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?sr(i.updateTime):sr(s);return o.isEqual(ie.min())&&(o=sr(s)),new ZO(o,i.transformResults||[])}(n,e))):[]}function _M(t,e){return{documents:[QS(t,e.path)]}}function wM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QS(t,i);const s=function(c){if(c.length!==0)return ZS(ur.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(f){return{field:po(f.field),direction:EM(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=lm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ct:n,parent:i}}function xM(t){let e=gM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ee(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=JS(d);return f instanceof ur&&AS(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(y){return new pd(go(y.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,sf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,g=d.values||[];return new fd(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,g=d.values||[];return new fd(g,f)}(n.endAt)),FO(e,i,o,s,a,"F",l,c)}function bM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=go(n.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=go(n.unaryFilter.field);return lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=go(n.unaryFilter.field);return lt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=go(n.unaryFilter.field);return lt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return lt.create(go(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ur.create(n.compositeFilter.filters.map(r=>JS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function EM(t){return uM[t]}function TM(t){return hM[t]}function SM(t){return dM[t]}function po(t){return{fieldPath:t.canonicalString()}}function go(t){return St.fromServerFormat(t.fieldPath)}function ZS(t){return t instanceof lt?function(n){if(n.op==="=="){if(zw(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NAN"}};if(Bw(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zw(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NAN"}};if(Bw(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(n.field),op:TM(n.op),value:n.value}}}(t):t instanceof ur?function(n){const r=n.getFilters().map(i=>ZS(i));return r.length===1?r[0]:{compositeFilter:{op:SM(n.op),filters:r}}}(t):Z()}function kM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ek(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n,r,i,s=ie.min(),o=ie.min(),a=At.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.ht=e}}function CM(t){const e=xM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?am(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.ln=new PM}addToCollectionParentIndex(e,n){return this.ln.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Li.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Li.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class PM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new dt(Ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dt(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zt{static withCacheSize(e){return new Zt(e,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zt.DEFAULT_COLLECTION_PERCENTILE=10,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zt.DEFAULT=new Zt(41943040,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zt.DISABLED=new Zt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Zo(0)}static Qn(){return new Zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx([t,e],[n,r]){const i=pe(t,n);return i===0?pe(e,r):i}class RM{constructor(e){this.Gn=e,this.buffer=new dt(rx),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();rx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){q("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ga(n)?q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await pa(n)}await this.Yn(3e5)})}}class DM{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve(rf.oe);const r=new RM(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(nx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nx):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,s,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),ho()<=he.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function OM(t,e){return new DM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this.changes=new Ks(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Cl(r.mutation,i,pn.empty(),ht.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){const i=Es();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ol();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Es();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Fr();const o=Il(),a=function(){return Il()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Yi)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Cl(h.mutation,c,h.mutation.getFieldMask(),ht.now())):o.set(c.key,pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var d;return a.set(c,new LM(h,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Il();let i=new qe((o,a)=>o-a),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||pn.empty();h=a.applyToLocalView(c,h),r.set(l,h);const d=(i.get(a.batchId)||de()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=VS();h.forEach(f=>{if(!s.has(f)){const g=$S(n.get(f),r.get(f));g!==null&&d.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):j.resolve(Es());let a=-1,l=s;return o.next(c=>j.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,de())).next(h=>({batchId:a,changes:LS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=ol();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ol();return this.indexManager.getCollectionParents(e,s).next(a=>j.forEach(a,l=>{const c=function(d,f){return new af(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,jt.newInvalidDocument(h)))});let a=ol();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&Cl(h.mutation,c,pn.empty(),ht.now()),cf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return j.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:sr(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:CM(i.bundledQuery),readTime:sr(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this.overlays=new qe(Q.comparator),this.Er=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Es();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Tt(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Er.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=Es(),s=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new qe((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Es(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Es(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return j.resolve(a)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new iM(n,r));let s=this.Er.get(n);s===void 0&&(s=de(),this.Er.set(n,s)),this.Er.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this.sessionToken=At.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(){this.dr=new dt(mt.Ar),this.Rr=new dt(mt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new mt(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new mt(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new Q(new Ve([])),r=new mt(n,e),i=new mt(n,e+1),s=[];return this.Rr.forEachInRange([r,i],o=>{this.gr(o),s.push(o.key)}),s}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Q(new Ve([])),r=new mt(n,e),i=new mt(n,e+1);let s=de();return this.Rr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new mt(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Q.comparator(e.key,n.key)||pe(e.br,n.br)}static Vr(e,n){return pe(e.br,n.br)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new dt(mt.Ar)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.vr=this.vr.add(new mt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mt(n,0),i=new mt(n,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,i],o=>{const a=this.Cr(o.br);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dt(pe);return n.forEach(i=>{const s=new mt(i,0),o=new mt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,o],a=>{r=r.add(a.br)})}),j.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const o=new mt(new Q(s),0);let a=new dt(pe);return this.vr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.br)),!0)},o),j.resolve(this.Mr(a))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ee(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return j.forEach(n.mutations,i=>{const s=new mt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new mt(n,0),i=this.vr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.Nr=e,this.docs=function(){return new qe(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let r=Fr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():jt.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Fr();const o=n.path,a=new Q(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||vO(yO(h),r)<=0||(i.has(h.key)||cf(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Z()}Lr(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $M(this)}getSize(e){return j.resolve(this.size)}}class $M extends MM{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.persistence=e,this.Br=new Ks(n=>iv(n),sv),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.kr=0,this.qr=new dv,this.targetCount=0,this.Qr=Zo.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),j.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Zo(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Un(n),j.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Br.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Br.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,n){this.Kr={},this.overlays={},this.$r=new rf(0),this.Ur=!1,this.Ur=!0,this.Wr=new UM,this.referenceDelegate=e(this),this.Gr=new WM(this),this.indexManager=new AM,this.remoteDocumentCache=function(i){return new zM(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new IM(n),this.jr=new jM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new BM(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new HM(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(s=>this.referenceDelegate.Jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Yr(e,n){return j.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class HM extends wO{constructor(e){super(),this.currentSequenceNumber=e}}class fv{constructor(e){this.persistence=e,this.Zr=new dv,this.Xr=null}static ei(e){return new fv(e)}get ti(){if(this.Xr)return this.Xr;throw Z()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),j.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.ti,r=>{const i=Q.fromPath(r);return this.ni(e,i).next(s=>{s||n.removeEntry(i,ie.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return j.or([()=>j.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class vd{constructor(e,n){this.persistence=e,this.ri=new Ks(r=>EO(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=OM(this,n)}static ei(e,n){return new vd(e,n)}Hr(){}Jr(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return j.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(s=>s?j.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Lr(e,o=>this.ir(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ie.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),j.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mh(e.data.value)),n}ir(e,n,r){return j.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return j.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=de(),i=de();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new pv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return WN()?8:xO(Bt())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Xi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.es(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new qM;return this.ts(e,n,o).next(a=>{if(s.result=a,this.Hi)return this.ns(e,n,o,a.size)})}).next(()=>s.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(ho()<=he.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),j.resolve()):(ho()<=he.DEBUG&&q("QueryEngine","Query:",fo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(ho()<=he.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ir(n))):j.resolve())}Xi(e,n){if(qw(n))return j.resolve(null);let r=ir(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=am(n,null,"F"),r=ir(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=de(...s);return this.Zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.rs(n,a);return this.ss(n,c,o,l.readTime)?this.Xi(e,am(n,null,"F")):this.os(e,c,n,l)}))})))}es(e,n,r,i){return qw(n)||i.isEqual(ie.min())?j.resolve(null):this.Zi.getDocuments(e,r).next(s=>{const o=this.rs(n,s);return this.ss(n,o,r,i)?j.resolve(null):(ho()<=he.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fo(n)),this.os(e,o,n,mO(i,-1)).next(a=>a))})}rs(e,n){let r=new dt(OS(e));return n.forEach((i,s)=>{cf(e,s)&&(r=r.add(s))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ts(e,n,r){return ho()<=he.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",fo(n)),this.Zi.getDocumentsMatchingQuery(e,n,Li.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new qe(pe),this.cs=new Ks(s=>iv(s),sv),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VM(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function YM(t,e,n,r){return new KM(t,e,n,r)}async function nk(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=de();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ts:c,removedBatchIds:o,addedBatchIds:a}))})})}function QM(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,f=d.keys();let g=j.resolve();return f.forEach(y=>{g=g.next(()=>h.getEntry(l,y)).next(v=>{const b=c.docVersions.get(y);Ee(b!==null),v.version.compareTo(b)<0&&(d.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),h.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=de();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function rk(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function XM(t,e){const n=se(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const a=[];e.targetChanges.forEach((h,d)=>{const f=i.get(d);if(!f)return;a.push(n.Gr.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Gr.addMatchingKeys(s,h.addedDocuments,d)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(At.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(d,g),function(v,b,w){return v.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,g,h)&&a.push(n.Gr.updateTargetData(s,g))});let l=Fr(),c=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(JM(s,o,e.documentUpdates).next(h=>{l=h.Is,c=h.Es})),!r.isEqual(ie.min())){const h=n.Gr.getLastRemoteSnapshotVersion(s).next(d=>n.Gr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.us=i,s))}function JM(t,e,n){let r=de(),i=de();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Fr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ie.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Is:o,Es:i}})}function ZM(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function eL(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):n.Gr.allocateTargetId(r).next(o=>(i=new gi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function dm(t,e,n){const r=se(t),i=r.us.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ga(o))throw o;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function ix(t,e,n){const r=se(t);let i=ie.min(),s=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=se(l),f=d.cs.get(h);return f!==void 0?j.resolve(d.us.get(f)):d.Gr.getTargetData(c,h)}(r,o,ir(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r._s.getDocumentsMatchingQuery(o,e,n?i:ie.min(),n?s:de())).next(a=>(tL(r,zO(e),a),{documents:a,ds:s})))}function tL(t,e,n){let r=t.ls.get(e)||ie.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ls.set(e,r)}class sx{constructor(){this.activeTargetIds=KO()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nL{constructor(){this._o=new sx,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new sx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu=null;function Cp(){return Mu===null?Mu=function(){return 268435456+Math.round(2147483648*Math.random())}():Mu++,"0x"+Mu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class oL extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Oo(n,r,i,s,o){const a=Cp(),l=this.No(n,r.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(c,s,o),this.Bo(n,l,c,i).then(h=>(q("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Yo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}ko(n,r,i,s,o,a){return this.Oo(n,r,i,s,o)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}No(n,r){const i=iL[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const s=Cp();return new Promise((o,a)=>{const l=new yS;l.setWithCredentials(!0),l.listenOnce(vS.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case gh.NO_ERROR:const h=l.getResponseJson();q(Ot,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case gh.TIMEOUT:q(Ot,`RPC '${e}' ${s} timed out`),a(new K(F.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const d=l.getStatus();if(q(Ot,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const y=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(w)>=0?w:F.UNKNOWN}(g.status);a(new K(y,g.message))}else a(new K(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new K(F.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{q(Ot,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);q(Ot,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}qo(e,n,r){const i=Cp(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=xS(),a=wS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Lo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");q(Ot,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);let f=!1,g=!1;const y=new sL({Eo:b=>{g?q(Ot,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(f||(q(Ot,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),q(Ot,`RPC '${e}' stream ${i} sending:`,b),d.send(b))},Ao:()=>d.close()}),v=(b,w,_)=>{b.listen(w,T=>{try{_(T)}catch(I){setTimeout(()=>{throw I},0)}})};return v(d,sl.EventType.OPEN,()=>{g||(q(Ot,`RPC '${e}' stream ${i} transport opened.`),y.So())}),v(d,sl.EventType.CLOSE,()=>{g||(g=!0,q(Ot,`RPC '${e}' stream ${i} transport closed`),y.Do())}),v(d,sl.EventType.ERROR,b=>{g||(g=!0,Yo(Ot,`RPC '${e}' stream ${i} transport errored:`,b),y.Do(new K(F.UNAVAILABLE,"The operation could not be completed")))}),v(d,sl.EventType.MESSAGE,b=>{var w;if(!g){const _=b.data[0];Ee(!!_);const T=_,I=(T==null?void 0:T.error)||((w=T[0])===null||w===void 0?void 0:w.error);if(I){q(Ot,`RPC '${e}' stream ${i} received error:`,I);const N=I.status;let O=function(k){const A=it[k];if(A!==void 0)return HS(A)}(N),S=I.message;O===void 0&&(O=F.INTERNAL,S="Unknown error status: "+N+" with message "+I.message),g=!0,y.Do(new K(O,S)),d.close()}else q(Ot,`RPC '${e}' stream ${i} received:`,_),y.vo(_)}}),v(a,_S.STAT_EVENT,b=>{b.stat===nm.PROXY?q(Ot,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===nm.NOPROXY&&q(Ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.bo()},0),y}}function Ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t){return new fM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,n,r=1e3,i=1.5,s=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n,r,i,s,o,a,l){this.li=e,this.Yo=r,this.Zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new ik(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(jr(n.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new K(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aL extends sk{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=mM(this.serializer,e),r=function(s){if(!("targetChange"in s))return ie.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?sr(o.readTime):ie.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=hm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=om(l)?{documents:_M(s,l)}:{query:wM(s,l).ct},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=KS(s,o.resumeToken);const c=lm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ie.min())>0){a.readTime=yd(s,o.snapshotVersion.toTimestamp());const c=lm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=bM(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=hm(this.serializer),n.removeTarget=e,this.c_(n)}}class lL extends sk{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Ee(!!e.streamToken),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=vM(e.writeResults,e.commitTime),r=sr(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=hm(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yM(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new K(F.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Oo(e,cm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(F.UNKNOWN,s.toString())})}ko(e,n,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.ko(e,cm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(F.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class uL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(jr(n),this.C_=!1):q("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(o=>{r.enqueueAndForget(async()=>{Ys(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=se(l);c.k_.add(4),await Dc(c),c.K_.set("Unknown"),c.k_.delete(4),await pf(c)}(this))})}),this.K_=new uL(r,i)}}async function pf(t){if(Ys(t))for(const e of t.q_)await e(!0)}async function Dc(t){for(const e of t.q_)await e(!1)}function ok(t,e){const n=se(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),vv(n)?yv(n):ma(n).s_()&&mv(n,e))}function gv(t,e){const n=se(t),r=ma(n);n.B_.delete(e),r.s_()&&ak(n,e),n.B_.size===0&&(r.s_()?r.a_():Ys(n)&&n.K_.set("Unknown"))}function mv(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ma(t).V_(e)}function ak(t,e){t.U_.xe(e),ma(t).m_(e)}function yv(t){t.U_=new cM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ma(t).start(),t.K_.F_()}function vv(t){return Ys(t)&&!ma(t).i_()&&t.B_.size>0}function Ys(t){return se(t).k_.size===0}function lk(t){t.U_=void 0}async function dL(t){t.K_.set("Online")}async function fL(t){t.B_.forEach((e,n)=>{mv(t,e)})}async function pL(t,e){lk(t),vv(t)?(t.K_.O_(e),yv(t)):t.K_.set("Unknown")}async function gL(t,e,n){if(t.K_.set("Online"),e instanceof GS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.B_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.B_.delete(a),i.U_.removeTarget(a))}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _d(t,r)}else if(e instanceof _h?t.U_.$e(e):e instanceof qS?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(ie.min()))try{const r=await rk(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.U_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.B_.get(c);h&&s.B_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.B_.get(l);if(!h)return;s.B_.set(l,h.withResumeToken(At.EMPTY_BYTE_STRING,h.snapshotVersion)),ak(s,l);const d=new gi(h.target,l,c,h.sequenceNumber);mv(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q("RemoteStore","Failed to raise snapshot:",r),await _d(t,r)}}async function _d(t,e,n){if(!ga(e))throw e;t.k_.add(1),await Dc(t),t.K_.set("Offline"),n||(n=()=>rk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await pf(t)})}function ck(t,e){return e().catch(n=>_d(t,n,e))}async function gf(t){const e=se(t),n=Ui(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;mL(e);)try{const i=await ZM(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,yL(e,i)}catch(i){await _d(e,i)}uk(e)&&hk(e)}function mL(t){return Ys(t)&&t.L_.length<10}function yL(t,e){t.L_.push(e);const n=Ui(t);n.s_()&&n.f_&&n.g_(e.mutations)}function uk(t){return Ys(t)&&!Ui(t).i_()&&t.L_.length>0}function hk(t){Ui(t).start()}async function vL(t){Ui(t).w_()}async function _L(t){const e=Ui(t);for(const n of t.L_)e.g_(n.mutations)}async function wL(t,e,n){const r=t.L_.shift(),i=cv.from(r,e,n);await ck(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await gf(t)}async function xL(t,e){e&&Ui(t).f_&&await async function(r,i){if(function(o){return oM(o)&&o!==F.ABORTED}(i.code)){const s=r.L_.shift();Ui(r).__(),await ck(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await gf(r)}}(t,e),uk(t)&&hk(t)}async function ax(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const r=Ys(n);n.k_.add(3),await Dc(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await pf(n)}async function bL(t,e){const n=se(t);e?(n.k_.delete(2),await pf(n)):e||(n.k_.add(2),await Dc(n),n.K_.set("Unknown"))}function ma(t){return t.W_||(t.W_=function(n,r,i){const s=se(n);return s.b_(),new aL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:dL.bind(null,t),mo:fL.bind(null,t),po:pL.bind(null,t),R_:gL.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),vv(t)?yv(t):t.K_.set("Unknown")):(await t.W_.stop(),lk(t))})),t.W_}function Ui(t){return t.G_||(t.G_=function(n,r,i){const s=se(n);return s.b_(),new lL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:vL.bind(null,t),po:xL.bind(null,t),p_:_L.bind(null,t),y_:wL.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await gf(t)):(await t.G_.stop(),t.L_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new _v(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wv(t,e){if(jr("AsyncQueue",`${e}: ${t}`),ga(t))return new K(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{static emptySet(e){return new Vo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=ol(),this.sortedSet=new qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.z_=new qe(Q.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Z():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ea{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ea(e,n,Vo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class TL{constructor(){this.queries=cx(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=se(n),s=i.queries;i.queries=cx(),s.forEach((o,a)=>{for(const l of a.J_)l.onError(r)})})(this,new K(F.ABORTED,"Firestore shutting down"))}}function cx(){return new Ks(t=>DS(t),lf)}async function dk(t,e){const n=se(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Y_()&&e.Z_()&&(r=2):(s=new EL,r=e.Z_()?0:1);try{switch(r){case 0:s.H_=await n.onListen(i,!0);break;case 1:s.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=wv(o,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.J_.push(e),e.ea(n.onlineState),s.H_&&e.ta(s.H_)&&xv(n)}async function fk(t,e){const n=se(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.J_.indexOf(e);o>=0&&(s.J_.splice(o,1),s.J_.length===0?i=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function SL(t,e){const n=se(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.J_)a.ta(i)&&(r=!0);o.H_=i}}r&&xv(n)}function kL(t,e,n){const r=se(t),i=r.queries.get(e);if(i)for(const s of i.J_)s.onError(n);r.queries.delete(e)}function xv(t){t.X_.forEach(e=>{e.next()})}var fm,ux;(ux=fm||(fm={})).na="default",ux.Cache="cache";class pk{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ea(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==fm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.key=e}}class mk{constructor(e){this.key=e}}class IL{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=de(),this.mutatedKeys=de(),this.Va=OS(e),this.ma=new Vo(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new lx,i=n?n.ma:this.ma;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const f=i.get(h),g=cf(this.query,d)?d:null,y=!!f&&this.mutatedKeys.has(f.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let b=!1;f&&g?f.data.isEqual(g.data)?y!==v&&(r.track({type:3,doc:g}),b=!0):this.ya(f,g)||(r.track({type:2,doc:g}),b=!0,(l&&this.Va(g,l)>0||c&&this.Va(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),b=!0):f&&!g&&(r.track({type:1,doc:f}),b=!0,(l||c)&&(a=!0)),b&&(g?(o=o.add(g),s=v?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{ma:o,pa:r,ss:a,mutatedKeys:s}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort((h,d)=>function(g,y){const v=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return v(g)-v(y)}(h.type,d.type)||this.Va(h.doc,d.doc)),this.wa(r),i=i!=null&&i;const a=n&&!i?this.Sa():[],l=this.Ra.size===0&&this.current&&!i?1:0,c=l!==this.Aa;return this.Aa=l,o.length!==0||c?{snapshot:new ea(this.query,e.ma,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new lx,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=de(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new mk(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new gk(r))}),n}va(e){this.da=e.ds,this.Ra=de();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return ea.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class CL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class AL{constructor(e){this.key=e,this.Fa=!1}}class PL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new Ks(a=>DS(a),lf),this.Oa=new Map,this.Na=new Set,this.La=new qe(Q.comparator),this.Ba=new Map,this.ka=new dv,this.qa={},this.Qa=new Map,this.Ka=Zo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function RL(t,e,n=!0){const r=bk(t);let i;const s=r.xa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await yk(r,e,n,!0),i}async function NL(t,e){const n=bk(t);await yk(n,e,!0,!1)}async function yk(t,e,n,r){const i=await eL(t.localStore,ir(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await DL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&ok(t.remoteStore,i),a}async function DL(t,e,n,r,i){t.Ua=(d,f,g)=>async function(v,b,w,_){let T=b.view.ga(w);T.ss&&(T=await ix(v.localStore,b.query,!1).then(({documents:S})=>b.view.ga(S,T)));const I=_&&_.targetChanges.get(b.targetId),N=_&&_.targetMismatches.get(b.targetId)!=null,O=b.view.applyChanges(T,v.isPrimaryClient,I,N);return dx(v,b.targetId,O.ba),O.snapshot}(t,d,f,g);const s=await ix(t.localStore,e,!0),o=new IL(e,s.ds),a=o.ga(s.documents),l=Nc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);dx(t,n,c.ba);const h=new CL(e,n,o);return t.xa.set(e,h),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),c.snapshot}async function OL(t,e,n){const r=se(t),i=r.xa.get(e),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter(o=>!lf(o,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await dm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&gv(r.remoteStore,i.targetId),pm(r,i.targetId)}).catch(pa)):(pm(r,i.targetId),await dm(r.localStore,i.targetId,!0))}async function ML(t,e){const n=se(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gv(n.remoteStore,r.targetId))}async function LL(t,e,n){const r=$L(t);try{const i=await function(o,a){const l=se(o),c=ht.now(),h=a.reduce((g,y)=>g.add(y.key),de());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=Fr(),v=de();return l.hs.getEntries(g,h).next(b=>{y=b,y.forEach((w,_)=>{_.isValidDocument()||(v=v.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,y)).next(b=>{d=b;const w=[];for(const _ of a){const T=tM(_,d.get(_.key).overlayedDocument);T!=null&&w.push(new Yi(_.key,T,kS(T.value.mapValue),zn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,w,a)}).next(b=>{f=b;const w=b.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(g,b.batchId,w)})}).then(()=>({batchId:f.batchId,changes:LS(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.qa[o.currentUser.toKey()];c||(c=new qe(pe)),c=c.insert(a,l),o.qa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Oc(r,i.changes),await gf(r.remoteStore)}catch(i){const s=wv(i,"Failed to persist write");n.reject(s)}}async function vk(t,e){const n=se(t);try{const r=await XM(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ba.get(s);o&&(Ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Fa=!0:i.modifiedDocuments.size>0?Ee(o.Fa):i.removedDocuments.size>0&&(Ee(o.Fa),o.Fa=!1))}),await Oc(n,r,e)}catch(r){await pa(r)}}function hx(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((s,o)=>{const a=o.view.ea(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=se(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const f of d.J_)f.ea(a)&&(c=!0)}),c&&xv(l)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VL(t,e,n){const r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),s=i&&i.key;if(s){let o=new qe(Q.comparator);o=o.insert(s,jt.newNoDocument(s,ie.min()));const a=de().add(s),l=new df(ie.min(),new Map,new qe(pe),o,a);await vk(r,l),r.La=r.La.remove(s),r.Ba.delete(e),bv(r)}else await dm(r.localStore,e,!1).then(()=>pm(r,e,n)).catch(pa)}async function jL(t,e){const n=se(t),r=e.batch.batchId;try{const i=await QM(n.localStore,e);wk(n,r,null),_k(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Oc(n,i)}catch(i){await pa(i)}}async function FL(t,e,n){const r=se(t);try{const i=await function(o,a){const l=se(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Ee(d!==null),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);wk(r,e,n),_k(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Oc(r,i)}catch(i){await pa(i)}}function _k(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function wk(t,e,n){const r=se(t);let i=r.qa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function pm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||xk(t,r)})}function xk(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(gv(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),bv(t))}function dx(t,e,n){for(const r of n)r instanceof gk?(t.ka.addReference(r.key,e),UL(t,r)):r instanceof mk?(q("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||xk(t,r.key)):Z()}function UL(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(q("SyncEngine","New document in limbo: "+n),t.Na.add(r),bv(t))}function bv(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new Q(Ve.fromString(e)),r=t.Ka.next();t.Ba.set(r,new AL(n)),t.La=t.La.insert(n,r),ok(t.remoteStore,new gi(ir(ov(n.path)),r,"TargetPurposeLimboResolution",rf.oe))}}async function Oc(t,e,n){const r=se(t),i=[],s=[],o=[];r.xa.isEmpty()||(r.xa.forEach((a,l)=>{o.push(r.Ua(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=pv.zi(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Ma.R_(i),await async function(l,c){const h=se(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>j.forEach(c,f=>j.forEach(f.Wi,g=>h.persistence.referenceDelegate.addReference(d,f.targetId,g)).next(()=>j.forEach(f.Gi,g=>h.persistence.referenceDelegate.removeReference(d,f.targetId,g)))))}catch(d){if(!ga(d))throw d;q("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const g=h.us.get(f),y=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(y);h.us=h.us.insert(f,v)}}}(r.localStore,s))}async function BL(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());const r=await nk(n.localStore,e);n.currentUser=e,function(s,o){s.Qa.forEach(a=>{a.forEach(l=>{l.reject(new K(F.CANCELLED,o))})}),s.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Oc(n,r.Ts)}}function zL(t,e){const n=se(t),r=n.Ba.get(e);if(r&&r.Fa)return de().add(r.key);{let i=de();const s=n.Oa.get(e);if(!s)return i;for(const o of s){const a=n.xa.get(o);i=i.unionWith(a.view.fa)}return i}}function bk(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VL.bind(null,e),e.Ma.R_=SL.bind(null,e.eventManager),e.Ma.Wa=kL.bind(null,e.eventManager),e}function $L(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FL.bind(null,e),e}class wd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ff(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return YM(this.persistence,new GM,e.initialUser,this.serializer)}ja(e){return new tk(fv.ei,this.serializer)}za(e){return new nL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wd.provider={build:()=>new wd};class WL extends wd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Ee(this.persistence.referenceDelegate instanceof vd);const r=this.persistence.referenceDelegate.garbageCollector;return new NM(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Zt.withCacheSize(this.cacheSizeBytes):Zt.DEFAULT;return new tk(r=>vd.ei(r,n),this.serializer)}}class gm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BL.bind(null,this.syncEngine),await bL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TL}()}createDatastore(e){const n=ff(e.databaseInfo.databaseId),r=function(s){return new oL(s)}(e.databaseInfo);return function(s,o,a,l){return new cL(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new hL(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>hx(this.syncEngine,n,0),function(){return ox.p()?new ox:new rL}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const d=new PL(i,s,o,a,l,c);return h&&(d.$a=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=se(i);q("RemoteStore","RemoteStore shutting down."),s.k_.add(5),await Dc(s),s.Q_.shutdown(),s.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}gm.provider={build:()=>new gm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Lt.UNAUTHENTICATED,this.clientId=ES.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{q("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Pp(t,e){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await nk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qL(t);q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ax(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ax(e.remoteStore,i)),t._onlineComponents=e}async function qL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Pp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Yo("Error using user provided cache. Falling back to memory cache: "+n),await Pp(t,new wd)}}else q("FirestoreClient","Using default OfflineComponentProvider"),await Pp(t,new WL(void 0));return t._offlineComponents}async function Tk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),await fx(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),await fx(t,new gm))),t._onlineComponents}function GL(t){return Tk(t).then(e=>e.syncEngine)}async function Sk(t){const e=await Tk(t),n=e.eventManager;return n.onListen=RL.bind(null,e.syncEngine),n.onUnlisten=OL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ML.bind(null,e.syncEngine),n}function KL(t,e,n={}){const r=new Nr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new Ek({next:f=>{h.eu(),o.enqueueAndForget(()=>fk(s,d));const g=f.docs.has(a);!g&&f.fromCache?c.reject(new K(F.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&l&&l.source==="server"?c.reject(new K(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new pk(ov(a.path),h,{includeMetadataChanges:!0,ua:!0});return dk(s,d)}(await Sk(t),t.asyncQueue,e,n,r)),r.promise}function YL(t,e,n={}){const r=new Nr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new Ek({next:f=>{h.eu(),o.enqueueAndForget(()=>fk(s,d)),f.fromCache&&l.source==="server"?c.reject(new K(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new pk(a,h,{includeMetadataChanges:!0,ua:!0});return dk(s,d)}(await Sk(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t,e,n){if(!n)throw new K(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QL(t,e,n,r){if(e===!0&&r===!0)throw new K(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gx(t){if(!Q.isDocumentKey(t))throw new K(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mx(t){if(Q.isDocumentKey(t))throw new K(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ev(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function Ur(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ev(t);throw new K(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new aO;switch(r.type){case"firstParty":return new hO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=px.get(n);r&&(q("ComponentProvider","Removing Datastore"),px.delete(n),r.terminate())}(this),Promise.resolve()}}function XL(t,e,n,r={}){var i;const s=(t=Ur(t,mf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Lt.MOCK_USER;else{a=uS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new K(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Lt(c)}t._authCredentials=new lO(new bS(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yf(this.firestore,e,this._query)}}class vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class Ri extends yf{constructor(e,n,r){super(e,n,ov(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new Q(e))}withConverter(e){return new Ri(this.firestore,e,this._path)}}function ta(t,e,...n){if(t=wt(t),Ik("collection","path",e),t instanceof mf){const r=Ve.fromString(e,...n);return mx(r),new Ri(t,null,r)}{if(!(t instanceof vn||t instanceof Ri))throw new K(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return mx(r),new Ri(t.firestore,null,r)}}function na(t,e,...n){if(t=wt(t),arguments.length===1&&(e=ES.newId()),Ik("doc","path",e),t instanceof mf){const r=Ve.fromString(e,...n);return gx(r),new vn(t,null,new Q(r))}{if(!(t instanceof vn||t instanceof Ri))throw new K(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return gx(r),new vn(t.firestore,t instanceof Ri?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new ik(this,"async_queue_retry"),this.fu=()=>{const r=Ap();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=Ap();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Nr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ga(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw jr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=_v.createAndSchedule(this,e,n,r,s=>this.Su(s));return this.du.push(i),i}pu(){this.Au&&Z()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class ya extends mf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vx(e),this._firestoreClient=void 0,await e}}}function JL(t,e){const n=typeof t=="object"?t:ev(),r=typeof t=="string"?t:"(default)",i=nf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=aS("firestore");s&&XL(i,...s)}return i}function Tv(t){if(t._terminated)throw new K(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ZL(t),t._firestoreClient}function ZL(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,h){return new kO(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,kk(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new HL(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ra(At.fromBase64String(e))}catch(n){throw new K(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ra(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=/^__.*__$/;class t4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rc(e,this.data,n,this.fieldTransforms)}}class Ck{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ak(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class Cv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Cv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return xd(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Ak(this.Mu)&&e4.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class n4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ff(e)}$u(e,n,r,i=!1){return new Cv({Mu:e,methodName:n,Ku:r,path:St.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pk(t){const e=t._freezeSettings(),n=ff(t._databaseId);return new n4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function r4(t,e,n,r,i,s={}){const o=t.$u(s.merge||s.mergeFields?2:0,e,n,i);Av("Data must be an object, but it was:",o,r);const a=Rk(r,o);let l,c;if(s.merge)l=new pn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=mm(e,d,n);if(!o.contains(f))throw new K(F.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Dk(h,f)||h.push(f)}l=new pn(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new t4(new tn(a),l,c)}class _f extends Sv{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _f}}function i4(t,e,n,r){const i=t.$u(1,e,n);Av("Data must be an object, but it was:",i,r);const s=[],o=tn.empty();Ki(r,(l,c)=>{const h=Pv(e,l,n);c=wt(c);const d=i.Bu(h);if(c instanceof _f)s.push(h);else{const f=wf(c,d);f!=null&&(s.push(h),o.set(h,f))}});const a=new pn(s);return new Ck(o,a,i.fieldTransforms)}function s4(t,e,n,r,i,s){const o=t.$u(1,e,n),a=[mm(e,r,n)],l=[i];if(s.length%2!=0)throw new K(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(mm(e,s[f])),l.push(s[f+1]);const c=[],h=tn.empty();for(let f=a.length-1;f>=0;--f)if(!Dk(c,a[f])){const g=a[f];let y=l[f];y=wt(y);const v=o.Bu(g);if(y instanceof _f)c.push(g);else{const b=wf(y,v);b!=null&&(c.push(g),h.set(g,b))}}const d=new pn(c);return new Ck(h,d,o.fieldTransforms)}function wf(t,e){if(Nk(t=wt(t)))return Av("Unsupported field value:",e,t),Rk(t,e);if(t instanceof Sv)return function(r,i){if(!Ak(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=wf(a,i.ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ht.fromDate(r);return{timestampValue:yd(i.serializer,s)}}if(r instanceof ht){const s=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yd(i.serializer,s)}}if(r instanceof kv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ra)return{bytesValue:KS(i.serializer,r._byteString)};if(r instanceof vn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:hv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Iv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.qu("VectorValues must only contain numeric values.");return av(a.serializer,l)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Ev(r)}`)}(t,e)}function Rk(t,e){const n={};return TS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ki(t,(r,i)=>{const s=wf(i,e.Ou(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Nk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof kv||t instanceof ra||t instanceof vn||t instanceof Sv||t instanceof Iv)}function Av(t,e,n){if(!Nk(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ev(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function mm(t,e,n){if((e=wt(e))instanceof vf)return e._internalPath;if(typeof e=="string")return Pv(t,e);throw xd("Field path arguments must be of type string or ",t,!1,void 0,n)}const o4=new RegExp("[~\\*/\\[\\]]");function Pv(t,e,n){if(e.search(o4)>=0)throw xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vf(...e.split("."))._internalPath}catch{throw xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new K(F.INVALID_ARGUMENT,a+t+l)}function Dk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new a4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class a4 extends Ok{data(){return super.data()}}function Mk(t,e){return typeof e=="string"?Pv(t,e):e instanceof vf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class c4{convertValue(e,n="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ki(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>et(o.doubleValue));return new Iv(s)}convertGeoPoint(e){return new kv(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=of(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sc(e));default:return null}}convertTimestamp(e){const n=Vi(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);Ee(ek(r));const i=new oc(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||jr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lk extends Ok{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Mk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class wh extends Lk{data(e={}){return super.data(e)}}class h4{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ll(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new wh(this._firestore,this._userDataWriter,r.key,r,new ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new wh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ll(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new wh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ll(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:d4(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function d4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t){t=Ur(t,vn);const e=Ur(t.firestore,ya);return KL(Tv(e),t._key).then(n=>p4(e,t,n))}class jk extends c4{constructor(e){super(),this.firestore=e}convertBytes(e){return new ra(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function xf(t){t=Ur(t,yf);const e=Ur(t.firestore,ya),n=Tv(e),r=new jk(e);return l4(t._query),YL(n,t._query).then(i=>new h4(e,r,t,i))}function f4(t,e,n,...r){t=Ur(t,vn);const i=Ur(t.firestore,ya),s=Pk(i);let o;return o=typeof(e=wt(e))=="string"||e instanceof vf?s4(s,"updateDoc",t._key,e,n,r):i4(s,"updateDoc",t._key,e),Rv(i,[o.toMutation(t._key,zn.exists(!0))])}function Fk(t){return Rv(Ur(t.firestore,ya),[new lv(t._key,zn.none())])}function Uk(t,e){const n=Ur(t.firestore,ya),r=na(t),i=u4(t.converter,e);return Rv(n,[r4(Pk(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,zn.exists(!1))]).then(()=>r)}function Rv(t,e){return function(r,i){const s=new Nr;return r.asyncQueue.enqueueAndForget(async()=>LL(await GL(r),i,s)),s.promise}(Tv(t),e)}function p4(t,e,n){const r=n.docs.get(e._key),i=new jk(t);return new Lk(t,i,e._key,r,new ll(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){fa=i})(Gs),Fs(new Mi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ya(new cO(r.getProvider("auth-internal")),new fO(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new K(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oc(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),rr(Mw,"4.7.5",e),rr(Mw,"4.7.5","esm2017")})();function g4({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{fillRule:"evenodd",d:"M11.03 3.97a.75.75 0 0 1 0 1.06l-6.22 6.22H21a.75.75 0 0 1 0 1.5H4.81l6.22 6.22a.75.75 0 1 1-1.06 1.06l-7.5-7.5a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const m4=M.forwardRef(g4),Bk=()=>{const t=Rn(),e=()=>{t(-1)};return m.jsxs("button",{onClick:e,className:"flex items-center space-x-2 p-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:[m.jsx(m4,{className:"h-5 w-5"}),m.jsx("span",{})]})};var y4="firebase",v4="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr(y4,v4,"app");function Nv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function zk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _4=zk,$k=new Ac("auth","Firebase",zk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=new Jy("@firebase/auth");function w4(t,...e){bd.logLevel<=he.WARN&&bd.warn(`Auth (${Gs}): ${t}`,...e)}function xh(t,...e){bd.logLevel<=he.ERROR&&bd.error(`Auth (${Gs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t,...e){throw Dv(t,...e)}function or(t,...e){return Dv(t,...e)}function Wk(t,e,n){const r=Object.assign(Object.assign({},_4()),{[e]:n});return new Ac("auth","Firebase",r).create(e,{appName:t.name})}function Cs(t){return Wk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $k.create(t,...e)}function te(t,e,...n){if(!t)throw Dv(e,...n)}function Sr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xh(e),new Error(e)}function zr(t,e){t||Sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function x4(){return _x()==="http:"||_x()==="https:"}function _x(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x4()||BN()||"connection"in navigator)?navigator.onLine:!0}function E4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,zr(n>e,"Short delay should be less than long delay!"),this.isMobile=jN()||zN()}get(){return b4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t,e){zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=new Mc(3e4,6e4);function Mv(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function va(t,e,n,r,i={}){return qk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Pc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return UN()||(c.referrerPolicy="no-referrer"),Hk.fetch()(Gk(t,t.config.apiHost,n,a),c)})}async function qk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},T4),e);try{const i=new I4(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Lu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Lu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Lu(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Wk(t,h,c);Br(t,h)}}catch(i){if(i instanceof hr)throw i;Br(t,"network-request-failed",{message:String(i)})}}async function k4(t,e,n,r,i={}){const s=await va(t,e,n,r,i);return"mfaPendingCredential"in s&&Br(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Gk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ov(t.config,i):`${t.config.apiScheme}://${i}`}class I4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(or(this.auth,"network-request-failed")),S4.get())})}}function Lu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=or(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(t,e){return va(t,"POST","/v1/accounts:delete",e)}async function Kk(t,e){return va(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function A4(t,e=!1){const n=wt(t),r=await n.getIdToken(e),i=Lv(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Al(Rp(i.auth_time)),issuedAtTime:Al(Rp(i.iat)),expirationTime:Al(Rp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Rp(t){return Number(t)*1e3}function Lv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xh("JWT malformed, contained fewer than 3 sections"),null;try{const i=sS(n);return i?JSON.parse(i):(xh("Failed to decode base64 JWT payload"),null)}catch(i){return xh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wx(t){const e=Lv(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof hr&&P4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function P4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ed(t){var e;const n=t.auth,r=await t.getIdToken(),i=await uc(t,Kk(n,{idToken:r}));te(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Yk(s.providerUserInfo):[],a=D4(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new vm(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function N4(t){const e=wt(t);await Ed(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function D4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Yk(t){return t.map(e=>{var{providerId:n}=e,r=Nv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O4(t,e){const n=await qk(t,{},async()=>{const r=Pc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Gk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Hk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function M4(t,e){return va(t,"POST","/v2/accounts:revokeToken",Mv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");const n=wx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await O4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new jo;return r&&(te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(te(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jo,this.toJSON())}_performRefresh(){return Sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class kr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Nv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new R4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await uc(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return A4(this,e)}reload(){return N4(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ed(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(Cs(this.auth));const e=await this.getIdToken();return await uc(this,C4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:T,emailVerified:I,isAnonymous:N,providerData:O,stsTokenManager:S}=n;te(T&&S,e,"internal-error");const E=jo.fromJSON(this.name,S);te(typeof T=="string",e,"internal-error"),Zr(d,e.name),Zr(f,e.name),te(typeof I=="boolean",e,"internal-error"),te(typeof N=="boolean",e,"internal-error"),Zr(g,e.name),Zr(y,e.name),Zr(v,e.name),Zr(b,e.name),Zr(w,e.name),Zr(_,e.name);const k=new kr({uid:T,auth:e,email:f,emailVerified:I,displayName:d,isAnonymous:N,photoURL:y,phoneNumber:g,tenantId:v,stsTokenManager:E,createdAt:w,lastLoginAt:_});return O&&Array.isArray(O)&&(k.providerData=O.map(A=>Object.assign({},A))),b&&(k._redirectEventId=b),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new jo;i.updateFromServerResponse(n);const s=new kr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ed(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];te(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Yk(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new jo;a.updateFromIdToken(r);const l=new kr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new vm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=new Map;function Ir(t){zr(t instanceof Function,"Expected a class definition");let e=xx.get(t);return e?(zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Qk.type="NONE";const bx=Qk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(t,e,n){return`firebase:${t}:${e}:${n}`}class Fo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=bh(this.userKey,i.apiKey,s),this.fullPersistenceKey=bh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?kr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fo(Ir(bx),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ir(bx);const o=bh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const d=kr._fromJSON(e,h);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Fo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Fo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nI(e))return"Blackberry";if(rI(e))return"Webos";if(Jk(e))return"Safari";if((e.includes("chrome/")||Zk(e))&&!e.includes("edge/"))return"Chrome";if(tI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Xk(t=Bt()){return/firefox\//i.test(t)}function Jk(t=Bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zk(t=Bt()){return/crios\//i.test(t)}function eI(t=Bt()){return/iemobile/i.test(t)}function tI(t=Bt()){return/android/i.test(t)}function nI(t=Bt()){return/blackberry/i.test(t)}function rI(t=Bt()){return/webos/i.test(t)}function Vv(t=Bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function L4(t=Bt()){var e;return Vv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function V4(){return $N()&&document.documentMode===10}function iI(t=Bt()){return Vv(t)||tI(t)||rI(t)||nI(t)||/windows phone/i.test(t)||eI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t,e=[]){let n;switch(t){case"Browser":n=Ex(Bt());break;case"Worker":n=`${Ex(Bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(t,e={}){return va(t,"GET","/v2/passwordPolicy",Mv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=6;class B4{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:U4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tx(this),this.idTokenSubscription=new Tx(this),this.beforeStateQueue=new j4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$k,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ir(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Fo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kk(this,{idToken:e}),r=await kr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(pi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ed(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=E4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pi(this.app))return Promise.reject(Cs(this));const n=e?wt(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pi(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await F4(this),n=new B4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ac("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await M4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ir(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[Ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&w4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function jv(t){return wt(t)}class Tx{constructor(e){this.auth=e,this.observer=null,this.addObserver=XN(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $4(t){Fv=t}function W4(t){return Fv.loadJS(t)}function H4(){return Fv.gapiScript}function q4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(t,e){const n=nf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ud(s,e??{}))return i;Br(i,"already-initialized")}return n.initialize({options:e})}function K4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ir);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Y4(t,e,n){const r=jv(t);te(r._canInitEmulator,r,"emulator-config-failed"),te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=oI(e),{host:o,port:a}=Q4(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),X4()}function oI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Q4(t){const e=oI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Sx(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Sx(o)}}}function Sx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function X4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Sr("not implemented")}_getIdTokenResponse(e){return Sr("not implemented")}_linkToIdToken(e,n){return Sr("not implemented")}_getReauthenticationResolver(e){return Sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(t,e){return k4(t,"POST","/v1/accounts:signInWithIdp",Mv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="http://localhost";class Bs extends aI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Br("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Nv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Bs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Uo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Uo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Uo(e,n)}buildRequest(){const e={requestUri:J4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends lI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Lc{constructor(){super("facebook.com")}static credential(e){return Bs._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bs._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ai.credential(n,r)}catch{return null}}}ai.GOOGLE_SIGN_IN_METHOD="google.com";ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Lc{constructor(){super("github.com")}static credential(e){return Bs._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.GITHUB_SIGN_IN_METHOD="github.com";li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Lc{constructor(){super("twitter.com")}static credential(e,n){return Bs._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.TWITTER_SIGN_IN_METHOD="twitter.com";ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await kr._fromIdTokenResponse(e,r,i),o=kx(r);return new ia({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=kx(r);return new ia({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function kx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends hr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Td.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Td(e,n,r,i)}}function cI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Td._fromErrorAndOperation(t,s,e,r):s})}async function Z4(t,e,n=!1){const r=await uc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ia._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(t,e,n=!1){const{auth:r}=t;if(pi(r.app))return Promise.reject(Cs(r));const i="reauthenticate";try{const s=await uc(t,cI(r,i,e,t),n);te(s.idToken,r,"internal-error");const o=Lv(s.idToken);te(o,r,"internal-error");const{sub:a}=o;return te(t.uid===a,r,"user-mismatch"),ia._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Br(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tV(t,e,n=!1){if(pi(t.app))return Promise.reject(Cs(t));const r="signIn",i=await cI(t,r,e),s=await ia._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function nV(t,e,n,r){return wt(t).onIdTokenChanged(e,n,r)}function rV(t,e,n){return wt(t).beforeAuthStateChanged(e,n)}const Sd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sd,"1"),this.storage.removeItem(Sd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=1e3,sV=10;class hI extends uI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);V4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},iV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hI.type="LOCAL";const oV=hI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI extends uI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dI.type="SESSION";const fI=dI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new bf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await aV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Uv("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(){return window}function cV(t){ar().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(){return typeof ar().WorkerGlobalScope<"u"&&typeof ar().importScripts=="function"}async function uV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function dV(){return pI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="firebaseLocalStorageDb",fV=1,kd="firebaseLocalStorage",mI="fbase_key";class Vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ef(t,e){return t.transaction([kd],e?"readwrite":"readonly").objectStore(kd)}function pV(){const t=indexedDB.deleteDatabase(gI);return new Vc(t).toPromise()}function _m(){const t=indexedDB.open(gI,fV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kd,{keyPath:mI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kd)?e(r):(r.close(),await pV(),e(await _m()))})})}async function Ix(t,e,n){const r=Ef(t,!0).put({[mI]:e,value:n});return new Vc(r).toPromise()}async function gV(t,e){const n=Ef(t,!1).get(e),r=await new Vc(n).toPromise();return r===void 0?null:r.value}function Cx(t,e){const n=Ef(t,!0).delete(e);return new Vc(n).toPromise()}const mV=800,yV=3;class yI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bf._getInstance(dV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await uV(),!this.activeServiceWorker)return;this.sender=new lV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _m();return await Ix(e,Sd,"1"),await Cx(e,Sd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ix(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Cx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ef(i,!1).getAll();return new Vc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yI.type="LOCAL";const vV=yI;new Mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(t,e){return e?Ir(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv extends aI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wV(t){return tV(t.auth,new Bv(t),t.bypassAuthState)}function xV(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),eV(n,new Bv(t),t.bypassAuthState)}async function bV(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),Z4(n,new Bv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wV;case"linkViaPopup":case"linkViaRedirect":return bV;case"reauthViaPopup":case"reauthViaRedirect":return xV;default:Br(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=new Mc(2e3,1e4);class Co extends vI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Co.currentPopupAction&&Co.currentPopupAction.cancel(),Co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return te(e,this.auth,"internal-error"),e}async onExecution(){zr(this.filter.length===1,"Popup operations only handle one event");const e=Uv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Co.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EV.get())};e()}}Co.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV="pendingRedirect",Eh=new Map;class SV extends vI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Eh.get(this.auth._key());if(!e){try{const r=await kV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Eh.set(this.auth._key(),e)}return this.bypassAuthState||Eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kV(t,e){const n=AV(e),r=CV(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function IV(t,e){Eh.set(t._key(),e)}function CV(t){return Ir(t._redirectPersistence)}function AV(t){return bh(TV,t.config.apiKey,t.name)}async function PV(t,e,n=!1){if(pi(t.app))return Promise.reject(Cs(t));const r=jv(t),i=_V(r,e),o=await new SV(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=10*60*1e3;class NV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_I(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(or(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RV&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ax(e))}saveEventToCache(e){this.cachedEventUids.add(Ax(e)),this.lastProcessedEventTime=Date.now()}}function Ax(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _I({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _I(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OV(t,e={}){return va(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LV=/^https?/;async function VV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OV(t);for(const n of e)try{if(jV(n))return}catch{}Br(t,"unauthorized-domain")}function jV(t){const e=ym(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!LV.test(n))return!1;if(MV.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=new Mc(3e4,6e4);function Px(){const t=ar().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UV(t){return new Promise((e,n)=>{var r,i,s;function o(){Px(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Px(),n(or(t,"network-request-failed"))},timeout:FV.get()})}if(!((i=(r=ar().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ar().gapi)===null||s===void 0)&&s.load)o();else{const a=q4("iframefcb");return ar()[a]=()=>{gapi.load?o():n(or(t,"network-request-failed"))},W4(`${H4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Th=null,e})}let Th=null;function BV(t){return Th=Th||UV(t),Th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=new Mc(5e3,15e3),$V="__/auth/iframe",WV="emulator/auth/iframe",HV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GV(t){const e=t.config;te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ov(e,WV):`https://${t.config.authDomain}/${$V}`,r={apiKey:e.apiKey,appName:t.name,v:Gs},i=qV.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Pc(r).slice(1)}`}async function KV(t){const e=await BV(t),n=ar().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:GV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=or(t,"network-request-failed"),a=ar().setTimeout(()=>{s(o)},zV.get());function l(){ar().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QV=500,XV=600,JV="_blank",ZV="http://localhost";class Rx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ej(t,e,n,r=QV,i=XV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},YV),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Bt().toLowerCase();n&&(a=Zk(c)?JV:n),Xk(c)&&(e=e||ZV,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[g,y])=>`${f}${g}=${y},`,"");if(L4(c)&&a!=="_self")return tj(e||"",a),new Rx(null);const d=window.open(e||"",a,h);te(d,t,"popup-blocked");try{d.focus()}catch{}return new Rx(d)}function tj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="__/auth/handler",rj="emulator/auth/handler",ij=encodeURIComponent("fac");async function Nx(t,e,n,r,i,s){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gs,eventId:i};if(e instanceof lI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",QN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof Lc){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${ij}=${encodeURIComponent(l)}`:"";return`${sj(t)}?${Pc(a).slice(1)}${c}`}function sj({config:t}){return t.emulator?Ov(t,rj):`https://${t.authDomain}/${nj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="webStorageSupport";class oj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fI,this._completeRedirectFn=PV,this._overrideRedirectResult=IV}async _openPopup(e,n,r,i){var s;zr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Nx(e,n,r,ym(),i);return ej(e,o,Uv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Nx(e,n,r,ym(),i);return cV(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(zr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await KV(e),r=new NV(e);return n.register("authEvent",i=>(te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Np,{type:Np},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Np];o!==void 0&&n(!!o),Br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iI()||Jk()||Vv()}}const aj=oj;var Dx="@firebase/auth",Ox="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uj(t){Fs(new Mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sI(t)},c=new z4(r,i,s,l);return K4(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fs(new Mi("auth-internal",e=>{const n=jv(e.getProvider("auth").getImmediate());return(r=>new lj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(Dx,Ox,cj(t)),rr(Dx,Ox,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=5*60,dj=cS("authIdTokenMaxAge")||hj;let Mx=null;const fj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dj)return;const i=n==null?void 0:n.token;Mx!==i&&(Mx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pj(t=ev()){const e=nf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=G4(t,{popupRedirectResolver:aj,persistence:[vV,oV,fI]}),r=cS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=fj(s.toString());rV(n,o,()=>o(n.currentUser)),nV(n,a=>o(a))}}const i=oS("auth");return i&&Y4(n,`http://${i}`),n}function gj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=or("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",gj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uj("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="firebasestorage.googleapis.com",xI="storageBucket",mj=2*60*1e3,yj=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je extends hr{constructor(e,n,r=0){super(Dp(e),`Firebase Storage: ${n} (${Dp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Je.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xe||(Xe={}));function Dp(t){return"storage/"+t}function zv(){const t="An unknown error occurred, please check the error payload for server response.";return new Je(Xe.UNKNOWN,t)}function vj(t){return new Je(Xe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function _j(t){return new Je(Xe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function wj(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Je(Xe.UNAUTHENTICATED,t)}function xj(){return new Je(Xe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bj(t){return new Je(Xe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Ej(){return new Je(Xe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Tj(){return new Je(Xe.CANCELED,"User canceled the upload/download.")}function Sj(t){return new Je(Xe.INVALID_URL,"Invalid URL '"+t+"'.")}function kj(t){return new Je(Xe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Ij(){return new Je(Xe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+xI+"' property when initializing the app?")}function Cj(){return new Je(Xe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Aj(){return new Je(Xe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Pj(t){return new Je(Xe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function wm(t){return new Je(Xe.INVALID_ARGUMENT,t)}function bI(){return new Je(Xe.APP_DELETED,"The Firebase app was deleted.")}function Rj(t){return new Je(Xe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pl(t,e){return new Je(Xe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ya(t){throw new Je(Xe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=gn.makeFromUrl(e,n)}catch{return new gn(e,"")}if(r.path==="")return r;throw kj(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(I){I.path_=decodeURIComponent(I.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${h}/b/${i}/o${f}`,"i"),y={bucket:1,path:3},v=n===wI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",w=new RegExp(`^https?://${v}/${i}/${b}`,"i"),T=[{regex:a,indices:l,postModify:s},{regex:g,indices:y,postModify:c},{regex:w,indices:{bucket:1,path:2},postModify:c}];for(let I=0;I<T.length;I++){const N=T[I],O=N.regex.exec(e);if(O){const S=O[N.indices.bucket];let E=O[N.indices.path];E||(E=""),r=new gn(S,E),N.postModify(r);break}}if(r==null)throw Sj(e);return r}}class Nj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function h(...b){c||(c=!0,e.apply(null,b))}function d(b){i=setTimeout(()=>{i=null,t(g,l())},b)}function f(){s&&clearTimeout(s)}function g(b,...w){if(c){f();return}if(b){f(),h.call(null,b,...w);return}if(l()||o){f(),h.call(null,b,...w);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,d(T)}let y=!1;function v(b){y||(y=!0,f(),!c&&(i!==null?(b||(a=2),clearTimeout(i),d(0)):b||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function Oj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(t){return t!==void 0}function Lj(t){return typeof t=="object"&&!Array.isArray(t)}function $v(t){return typeof t=="string"||t instanceof String}function Lx(t){return Wv()&&t instanceof Blob}function Wv(){return typeof Blob<"u"}function Vx(t,e,n,r){if(r<e)throw wm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw wm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function EI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var As;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(As||(As={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,n,r,i,s,o,a,l,c,h,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,y)=>{this.resolve_=g,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Vu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===As.NO_ERROR,l=s.getStatus();if(!a||Vj(l,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===As.ABORT;r(!1,new Vu(!1,null,h));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Vu(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Mj(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=zv();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?bI():Tj();o(l)}else{const l=Ej();o(l)}};this.canceled_?n(!1,new Vu(!1,null,!0)):this.backoffId_=Dj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Oj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Vu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Fj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Uj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Bj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function zj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $j(t,e,n,r,i,s,o=!0){const a=EI(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Bj(c,e),Fj(c,n),Uj(c,s),zj(c,r),new jj(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Hj(...t){const e=Wj();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Wv())return new Blob(t);throw new Je(Xe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function qj(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t){if(typeof atob>"u")throw Pj("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Op{constructor(e,n){this.data=e,this.contentType=n||null}}function TI(t,e){switch(t){case Vn.RAW:return new Op(SI(e));case Vn.BASE64:case Vn.BASE64URL:return new Op(kI(t,e));case Vn.DATA_URL:return new Op(Yj(e),Qj(e))}throw zv()}function SI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Kj(t){let e;try{e=decodeURIComponent(t)}catch{throw Pl(Vn.DATA_URL,"Malformed data URL.")}return SI(e)}function kI(t,e){switch(t){case Vn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Pl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Vn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Pl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Gj(e)}catch(i){throw i.message.includes("polyfill")?i:Pl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class II{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Pl(Vn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Xj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Yj(t){const e=new II(t);return e.base64?kI(Vn.BASE64,e.rest):Kj(e.rest)}function Qj(t){return new II(t).contentType}function Xj(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n){let r=0,i="";Lx(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Lx(this.data_)){const r=this.data_,i=qj(r,e,n);return i===null?null:new ui(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ui(r,!0)}}static getBlob(...e){if(Wv()){const n=e.map(r=>r instanceof ui?r.data_:r);return new ui(Hj.apply(null,n))}else{const n=e.map(o=>$v(o)?TI(Vn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new ui(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t){let e;try{e=JSON.parse(t)}catch{return null}return Lj(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Zj(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function AI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t,e){return e}class Ht{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||eF}}let ju=null;function tF(t){return!$v(t)||t.length<2?t:AI(t)}function PI(){if(ju)return ju;const t=[];t.push(new Ht("bucket")),t.push(new Ht("generation")),t.push(new Ht("metageneration")),t.push(new Ht("name","fullPath",!0));function e(s,o){return tF(o)}const n=new Ht("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Ht("size");return i.xform=r,t.push(i),t.push(new Ht("timeCreated")),t.push(new Ht("updated")),t.push(new Ht("md5Hash",null,!0)),t.push(new Ht("cacheControl",null,!0)),t.push(new Ht("contentDisposition",null,!0)),t.push(new Ht("contentEncoding",null,!0)),t.push(new Ht("contentLanguage",null,!0)),t.push(new Ht("contentType",null,!0)),t.push(new Ht("metadata","customMetadata",!0)),ju=t,ju}function nF(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new gn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function rF(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return nF(r,t),r}function RI(t,e,n){const r=CI(e);return r===null?null:rF(t,r,n)}function iF(t,e,n,r){const i=CI(e);if(i===null||!$v(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const h=t.bucket,d=t.fullPath,f="/b/"+o(h)+"/o/"+o(d),g=Hv(f,n,r),y=EI({alt:"media",token:c});return g+y})[0]}function sF(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class NI{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t){if(!t)throw zv()}function oF(t,e){function n(r,i){const s=RI(t,i,e);return DI(s!==null),s}return n}function aF(t,e){function n(r,i){const s=RI(t,i,e);return DI(s!==null),iF(s,i,t.host,t._protocol)}return n}function OI(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=xj():i=wj():n.getStatus()===402?i=_j(t.bucket):n.getStatus()===403?i=bj(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function lF(t){const e=OI(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=vj(t.path)),s.serverResponse=i.serverResponse,s}return n}function cF(t,e,n){const r=e.fullServerUrl(),i=Hv(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new NI(i,s,aF(t,n),o);return a.errorHandler=lF(e),a}function uF(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function hF(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=uF(null,e)),r}function dF(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let I=0;I<2;I++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=hF(e,r,i),h=sF(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",g=ui.getBlob(d,r,f);if(g===null)throw Cj();const y={name:c.fullPath},v=Hv(s,t.host,t._protocol),b="POST",w=t.maxUploadRetryTime,_=new NI(v,b,oF(t,n),w);return _.urlParams=y,_.headers=o,_.body=g.uploadData(),_.errorHandler=OI(e),_}class fF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=As.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=As.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=As.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ya("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ya("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ya("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ya("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ya("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class pF extends fF{initXhr(){this.xhr_.responseType="text"}}function MI(){return new pF}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n){this._service=e,n instanceof gn?this._location=n:this._location=gn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new zs(e,n)}get root(){const e=new gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return AI(this._location.path)}get storage(){return this._service}get parent(){const e=Jj(this._location.path);if(e===null)return null;const n=new gn(this._location.bucket,e);return new zs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Rj(e)}}function gF(t,e,n){t._throwIfRoot("uploadBytes");const r=dF(t.storage,t._location,PI(),new ui(e,!0),n);return t.storage.makeRequestWithTokens(r,MI).then(i=>({metadata:i,ref:t}))}function mF(t,e,n=Vn.RAW,r){t._throwIfRoot("uploadString");const i=TI(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),gF(t,i.data,s)}function yF(t){t._throwIfRoot("getDownloadURL");const e=cF(t.storage,t._location,PI());return t.storage.makeRequestWithTokens(e,MI).then(n=>{if(n===null)throw Aj();return n})}function vF(t,e){const n=Zj(t._location.path,e),r=new gn(t._location.bucket,n);return new zs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(t){return/^[A-Za-z]+:\/\//.test(t)}function wF(t,e){return new zs(t,e)}function LI(t,e){if(t instanceof qv){const n=t;if(n._bucket==null)throw Ij();const r=new zs(n,n._bucket);return e!=null?LI(r,e):r}else return e!==void 0?vF(t,e):t}function xF(t,e){if(e&&_F(e)){if(t instanceof qv)return wF(t,e);throw wm("To use ref(service, url), the first argument must be a Storage instance.")}else return LI(t,e)}function jx(t,e){const n=e==null?void 0:e[xI];return n==null?null:gn.makeFromBucketSpec(n,t)}function bF(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:uS(i,t.app.options.projectId))}class qv{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=wI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mj,this._maxUploadRetryTime=yj,this._requests=new Set,i!=null?this._bucket=gn.makeFromBucketSpec(i,this._host):this._bucket=jx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gn.makeFromBucketSpec(this._url,e):this._bucket=jx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Vx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Vx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zs(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Nj(bI());{const o=$j(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Fx="@firebase/storage",Ux="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="storage";function EF(t,e,n,r){return t=wt(t),mF(t,e,n,r)}function TF(t){return t=wt(t),yF(t)}function SF(t,e){return t=wt(t),xF(t,e)}function kF(t=ev(),e){t=wt(t);const r=nf(t,VI).getImmediate({identifier:e}),i=aS("storage");return i&&IF(r,...i),r}function IF(t,e,n,r={}){bF(t,e,n,r)}function CF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new qv(n,r,i,e,Gs)}function AF(){Fs(new Mi(VI,CF,"PUBLIC").setMultipleInstances(!0)),rr(Fx,Ux,""),rr(Fx,Ux,"esm2017")}AF();const PF={apiKey:"AIzaSyCAI2nZzcRP09Vmugb61ztxKZG1FC9lpYg",authDomain:"event-planner-f074c.firebaseapp.com",projectId:"event-planner-f074c",storageBucket:"event-planner-f074c.appspot.com",messagingSenderId:"228038484139",appId:"1:228038484139:web:55676fda81a746d38757ee"},Gv=fS(PF);pj(Gv);const jn=JL(Gv),RF=kF(Gv);function NF(){const[t,e]=M.useState([]),[n,r]=M.useState(""),[i,s]=M.useState(!0),o=Rn(),a=async()=>{s(!0),r("");try{const c=ta(jn,"events"),d=(await xf(c)).docs.map(f=>{const g=f.data(),y=(g.ticketQuantity||0)-(g.ticketsSold||0);return{id:f.id,...g,ticketsRemaining:y}});e(d)}catch(c){console.error("Error fetching events:",c),r("Failed to fetch events. Please try again later.")}finally{s(!1)}},l=async c=>{if(window.confirm("Are you sure you want to delete this event?"))try{await Fk(na(jn,"events",c)),e(d=>d.filter(f=>f.id!==c))}catch(d){console.error("Error deleting event:",d),r("Failed to delete the event. Please try again later.")}};return M.useEffect(()=>{a()},[]),m.jsxs("div",{className:"container mx-auto mt-10 px-4 py-6 bg-gradient-to-br from-indigo-600 via-purple-700 to-pink-600 min-h-screen text-white",children:[m.jsxs("div",{className:"absolute inset-0 z-[-1]",children:[m.jsx("div",{className:"absolute w-80 h-80 bg-indigo-500 opacity-30 blur-2xl -top-20 -left-10 animate-pulse"}),m.jsx("div",{className:"absolute w-72 h-72 bg-pink-400 opacity-30 blur-2xl -bottom-10 -right-10 animate-pulse"})]}),m.jsx("div",{className:"mb-6",children:m.jsx(Bk,{})}),m.jsxs("h1",{className:"text-4xl font-extrabold tracking-wide text-center mb-6",children:["Manage ",m.jsx("span",{className:"text-accent",children:"Events"})]}),n&&m.jsx("p",{className:"text-red-500 bg-red-100 p-3 rounded-lg text-center mb-4",children:n}),i?m.jsx("p",{className:"text-lg text-center animate-pulse",children:"Loading events..."}):t.length===0?m.jsx("p",{className:"text-lg text-center mt-10",children:"No events available. Create some to see them here!"}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(c=>m.jsxs("div",{className:"bg-gradient-to-b from-purple-700 via-indigo-700 to-purple-800 p-4 rounded-lg shadow-lg hover:shadow-xl transition-transform transform hover:scale-105 relative",children:[c.eventImage&&m.jsx("img",{src:c.eventImage,alt:c.eventName,className:"w-full h-48 object-cover rounded-lg mb-4"}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold mb-2",children:c.eventName}),m.jsxs("p",{className:"text-sm mb-1",children:[m.jsx("span",{className:"font-semibold",children:"Location:"})," ",c.location]}),m.jsxs("p",{className:"text-sm mb-1",children:[m.jsx("span",{className:"font-semibold",children:"Date:"})," ",c.date]}),m.jsxs("p",{className:"text-sm mb-1",children:[m.jsx("span",{className:"font-semibold",children:"Time:"})," ",c.time]}),m.jsxs("p",{className:"text-sm mb-1",children:[m.jsx("span",{className:"font-semibold",children:"Tickets Remaining:"})," ",c.ticketsRemaining]}),m.jsxs("p",{className:"text-sm",children:[m.jsx("span",{className:"font-semibold",children:"Price:"})," $",c.ticketPrice]})]}),m.jsxs("div",{className:"flex flex-col gap-2 mt-4",children:[m.jsx("button",{onClick:()=>o("/events/view-details",{state:{event:c}}),className:"px-4 py-2 bg-blue-500 text-white rounded-md shadow-md hover:bg-blue-600",children:"View Details"}),c.isOwned&&m.jsx("button",{onClick:()=>o(`/edit-event/${c.id}`,{state:{event:c}}),className:"px-4 py-2 bg-yellow-500 text-white rounded-md shadow-md hover:bg-yellow-600",children:"Edit"}),m.jsx("button",{onClick:()=>o("/manage-reservations",{state:{eventId:c.id}}),className:"px-4 py-2 bg-green-500 text-white rounded-md shadow-md hover:bg-green-600",children:"Manage Reservations"}),c.isOwned&&m.jsx("button",{onClick:()=>l(c.id),className:"px-4 py-2 bg-red-500 text-white rounded-md shadow-md hover:bg-red-600",children:"Delete"})]})]},c.id))})]})}function DF(){var f,g,y,v,b,w,_;const t=Gi(),e=Rn(),{event:n}=t.state||{},{favorites:r,addFavorite:i,removeFavorite:s}=Cc(),[o,a]=M.useState(!1);if(M.useEffect(()=>{if(n){const T=r.some(I=>I.id===n.id);a(T)}},[n,r]),!n)return m.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-indigo-700 via-purple-800 to-blue-600 text-white",children:[m.jsx("h2",{className:"text-3xl font-bold",children:"Event Not Found"}),m.jsx("button",{onClick:()=>e("/manage-events"),className:"mt-6 px-6 py-3 bg-blue-500 text-white rounded-md hover:bg-blue-700",children:"Go to Manage Events"})]});const l=(g=(f=n._embedded)==null?void 0:f.venues)==null?void 0:g[0],c=((v=(y=n.images)==null?void 0:y[0])==null?void 0:v.url)||"https://via.placeholder.com/300",h=()=>{var I,N,O,S,E,k,A,R,D;const T={id:n.id,name:n.name||"Unnamed Event",location:((O=(N=(I=n._embedded)==null?void 0:I.venues)==null?void 0:N[0])==null?void 0:O.name)||"Location not available",date:((E=(S=n.dates)==null?void 0:S.start)==null?void 0:E.localDate)||"Date not available",time:((A=(k=n.dates)==null?void 0:k.start)==null?void 0:A.localTime)||"Time not available",image:((D=(R=n.images)==null?void 0:R[0])==null?void 0:D.url)||"https://via.placeholder.com/150",description:n.info||"No description available",priceRange:n.priceRanges?`${n.priceRanges[0].min} - ${n.priceRanges[0].max}`:"Price not available"};i(T),a(!0)},d=()=>{s(n),a(!1)};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-700 via-purple-800 to-blue-600 text-white px-6 py-10",children:[m.jsxs("nav",{className:"mb-8 text-lg",children:[m.jsx("button",{onClick:()=>e("/manage-events"),className:"text-blue-300 hover:underline",children:"Manage Events"})," > ",m.jsx("span",{className:"text-gray-300",children:n.name})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 text-black",children:[m.jsx("h1",{className:"text-4xl font-extrabold text-gray-800 mb-6",children:n.name}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[m.jsxs("div",{children:[m.jsx("img",{src:c,alt:n.name,className:"w-full h-64 object-cover rounded-lg shadow-lg"}),l&&m.jsxs("div",{className:"mt-6",children:[m.jsxs("p",{className:"text-gray-700",children:[m.jsx("strong",{children:"Venue:"})," ",l.name]}),m.jsxs("p",{className:"text-gray-700",children:[m.jsx("strong",{children:"City:"})," ",l.city.name]}),m.jsxs("p",{className:"text-gray-700",children:[m.jsx("strong",{children:"Address:"})," ",(b=l.address)==null?void 0:b.line1]})]})]}),m.jsxs("div",{children:[m.jsxs("p",{className:"text-gray-700 mb-4",children:[m.jsx("strong",{children:"Date:"})," ",((_=(w=n.dates)==null?void 0:w.start)==null?void 0:_.localDate)||"Date not available"]}),m.jsxs("p",{className:"text-gray-700 mb-4",children:[m.jsx("strong",{children:"Description:"})," ",n.info||"No description available."]}),n.priceRanges&&m.jsxs("p",{className:"text-gray-700 mb-4",children:[m.jsx("strong",{children:"Price Range:"})," $",n.priceRanges[0].min," - $",n.priceRanges[0].max]}),m.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-6 py-3 bg-green-500 text-white rounded-md hover:bg-green-700",children:"Buy Tickets"})]})]}),m.jsxs("div",{className:"mt-8 flex flex-wrap items-center space-x-4",children:[m.jsx("button",{onClick:()=>e(-1),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-700",children:"Back to Events"}),n.isOwned&&m.jsx("button",{onClick:()=>e(`/edit-event/${n.id}`,{state:{event:n}}),className:"px-4 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-700",children:"Edit Event"}),m.jsx("button",{onClick:o?d:h,className:`px-4 py-2 rounded-md text-white ${o?"bg-red-500 hover:bg-red-700":"bg-blue-500 hover:bg-blue-700"}`,children:o?"Remove from Favorites":"Add to Favorites"})]})]})]})}function jI(){const[t,e]=M.useState({eventName:"",location:"",date:"",time:"",ticketQuantity:"",ticketPrice:"",eventImage:""}),[n,r]=M.useState({}),[i,s]=M.useState(""),o=Rn(),a=d=>{const{name:f,value:g}=d.target;e({...t,[f]:g})},l=d=>{const f=d.target.files[0],g=new FileReader;g.onload=()=>{e({...t,eventImage:g.result})},f&&g.readAsDataURL(f)},c=()=>{const d={};return t.eventName||(d.eventName="Event name is required."),t.location||(d.location="Location is required."),t.date||(d.date="Date is required."),t.time||(d.time="Time is required."),(!t.ticketQuantity||isNaN(t.ticketQuantity)||t.ticketQuantity<=0)&&(d.ticketQuantity="Ticket quantity must be a positive number."),(!t.ticketPrice||isNaN(t.ticketPrice)||t.ticketPrice<=0)&&(d.ticketPrice="Ticket price must be a positive number."),d},h=async d=>{d.preventDefault();const f=c();if(Object.keys(f).length>0){r(f);return}r({});try{let g="";if(t.eventImage){const v=SF(RF,`event-images/${Date.now()}`);await EF(v,t.eventImage,"data_url"),g=await TF(v)}const y=ta(jn,"events");await Uk(y,{...t,ticketQuantity:parseInt(t.ticketQuantity),ticketPrice:parseFloat(t.ticketPrice),eventImage:g,createdAt:new Date}),s("Event created successfully!"),e({eventName:"",location:"",date:"",time:"",ticketQuantity:"",ticketPrice:"",eventImage:""}),setTimeout(()=>{s(""),o("/manage-events")},2e3)}catch(g){console.error("Error creating event:",g),r({general:"An error occurred while creating the event. Please try again."})}};return m.jsxs("div",{className:"container mx-auto mt-10 px-4 sm:px-6 md:px-8 bg-gray-900 text-white",children:[m.jsx("h1",{className:"text-3xl font-semibold mb-6 text-center",children:"Create New Event"}),i&&m.jsx("p",{className:"text-green-500 mb-4 text-center",children:i}),n.general&&m.jsx("p",{className:"text-red-500 mb-4 text-center",children:n.general}),m.jsxs("form",{onSubmit:h,className:"space-y-6 max-w-2xl mx-auto bg-gray-800 p-6 rounded-lg shadow-lg",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-300",children:"Event Image"}),m.jsx("input",{type:"file",accept:"image/*",onChange:l,className:"w-full p-3 mt-2 bg-gray-700 text-white border border-gray-600 rounded"}),t.eventImage&&m.jsx("img",{src:t.eventImage,alt:"Event Preview",className:"w-32 h-32 object-cover mt-4 rounded border-2 border-gray-600"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-300",children:"Event Name"}),m.jsx("input",{type:"text",name:"eventName",value:t.eventName,onChange:a,className:"w-full p-3 mt-2 bg-gray-700 text-white border border-gray-600 rounded"}),n.eventName&&m.jsx("p",{className:"text-red-500",children:n.eventName})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-300",children:"Location"}),m.jsx("input",{type:"text",name:"location",value:t.location,onChange:a,className:"w-full p-3 mt-2 bg-gray-700 text-white border border-gray-600 rounded"}),n.location&&m.jsx("p",{className:"text-red-500",children:n.location})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-300",children:"Date"}),m.jsx("input",{type:"date",name:"date",value:t.date,onChange:a,className:"w-full p-3 mt-2 bg-gray-700 text-white border border-gray-600 rounded"}),n.date&&m.jsx("p",{className:"text-red-500",children:n.date})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-300",children:"Time"}),m.jsx("input",{type:"time",name:"time",value:t.time,onChange:a,className:"w-full p-3 mt-2 bg-gray-700 text-white border border-gray-600 rounded"}),n.time&&m.jsx("p",{className:"text-red-500",children:n.time})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-300",children:"Ticket Quantity"}),m.jsx("input",{type:"number",name:"ticketQuantity",value:t.ticketQuantity,onChange:a,className:"w-full p-3 mt-2 bg-gray-700 text-white border border-gray-600 rounded"}),n.ticketQuantity&&m.jsx("p",{className:"text-red-500",children:n.ticketQuantity})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-300",children:"Ticket Price"}),m.jsx("input",{type:"number",name:"ticketPrice",value:t.ticketPrice,onChange:a,className:"w-full p-3 mt-2 bg-gray-700 text-white border border-gray-600 rounded"}),n.ticketPrice&&m.jsx("p",{className:"text-red-500",children:n.ticketPrice})]}),m.jsx("button",{type:"submit",className:"w-full py-3 mt-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Event"})]})]})}function OF(){const{id:t}=F2(),e=Rn(),[n,r]=M.useState({eventName:"",location:"",date:"",time:"",ticketQuantity:"",ticketPrice:"",eventImage:""}),[i,s]=M.useState({}),[o,a]=M.useState(""),[l,c]=M.useState(!0),h=()=>{c(!0);const v=(JSON.parse(localStorage.getItem("events"))||[]).find(b=>b.id===parseInt(t));v?(r(v),c(!1)):(c(!1),e("/manage-events"))};M.useEffect(()=>{t&&h()},[t]);const d=y=>{const{name:v,value:b}=y.target;r(w=>({...w,[v]:b}))},f=()=>{const y={};return n.eventName||(y.eventName="Event name is required."),n.location||(y.location="Location is required."),n.date||(y.date="Date is required."),n.time||(y.time="Time is required."),(!n.ticketQuantity||isNaN(n.ticketQuantity)||n.ticketQuantity<=0)&&(y.ticketQuantity="Ticket quantity must be a positive number."),(!n.ticketPrice||isNaN(n.ticketPrice)||n.ticketPrice<=0)&&(y.ticketPrice="Ticket price must be a positive number."),y},g=y=>{y.preventDefault();const v=f();if(Object.keys(v).length>0){s(v);return}s({});const w=(JSON.parse(localStorage.getItem("events"))||[]).map(_=>_.id===parseInt(t)?{..._,...n}:_);localStorage.setItem("events",JSON.stringify(w)),a("Event updated successfully!"),setTimeout(()=>a(""),3e3),e("/manage-events")};return m.jsx("div",{className:"edit-event-page",children:m.jsxs("div",{className:"edit-event-container",children:[m.jsx("h1",{className:"page-title",children:"Edit Event"}),o&&m.jsx("p",{className:"success-message",children:o}),l?m.jsx("p",{className:"loading-message",children:"Loading event details..."}):m.jsxs("form",{onSubmit:g,className:"edit-event-form",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Event Name"}),m.jsx("input",{type:"text",name:"eventName",value:n.eventName,onChange:d,placeholder:"Enter event name"}),i.eventName&&m.jsx("p",{className:"error-text",children:i.eventName})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Location"}),m.jsx("input",{type:"text",name:"location",value:n.location,onChange:d,placeholder:"Enter location"}),i.location&&m.jsx("p",{className:"error-text",children:i.location})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Date"}),m.jsx("input",{type:"date",name:"date",value:n.date,onChange:d}),i.date&&m.jsx("p",{className:"error-text",children:i.date})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Time"}),m.jsx("input",{type:"time",name:"time",value:n.time,onChange:d}),i.time&&m.jsx("p",{className:"error-text",children:i.time})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Ticket Quantity"}),m.jsx("input",{type:"number",name:"ticketQuantity",value:n.ticketQuantity,onChange:d,placeholder:"Enter ticket quantity"}),i.ticketQuantity&&m.jsx("p",{className:"error-text",children:i.ticketQuantity})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Ticket Price"}),m.jsx("input",{type:"number",name:"ticketPrice",value:n.ticketPrice,onChange:d,placeholder:"Enter ticket price"}),i.ticketPrice&&m.jsx("p",{className:"error-text",children:i.ticketPrice})]}),m.jsx("button",{type:"submit",className:"submit-btn",children:"Update Event"})]})]})})}function MF(){const[t,e]=M.useState([]),[n,r]=M.useState(null),[i,s]=M.useState({}),[o,a]=M.useState(!1),[l,c]=M.useState(!1),[h,d]=M.useState(""),f=async()=>{try{const _=ta(jn,"events"),I=(await xf(_)).docs.map(N=>({id:N.id,...N.data()}));e(I)}catch(_){console.error("Error fetching events:",_),d("Failed to load events. Please try again later.")}},g=async _=>{try{const T=ta(jn,"events"),I=await Uk(T,_);e(N=>[...N,{id:I.id,..._}])}catch(T){console.error("Error creating event:",T),d("Failed to create the event. Please try again later.")}},y=async _=>{try{await Fk(na(jn,"events",_)),e(T=>T.filter(I=>I.id!==_))}catch(T){console.error("Error deleting event:",T),d("Failed to delete the event. Please try again later.")}},v=_=>{r(_),s(_),a(!0)},b=async()=>{try{await f4(na(jn,"events",n.id),i),e(_=>_.map(T=>T.id===n.id?{...i}:T)),a(!1),r(null)}catch(_){console.error("Error updating event:",_),d("Failed to update the event. Please try again later.")}},w=_=>{const{name:T,value:I}=_.target;s({...i,[T]:I})};return M.useEffect(()=>{f()},[]),m.jsxs("div",{className:"container mx-auto mt-10 px-4 py-6 bg-gradient-to-br from-indigo-500 via-purple-600 to-pink-500 min-h-screen text-white relative overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-0 z-[-1]",children:[m.jsx("div",{className:"absolute w-96 h-96 bg-indigo-400 opacity-30 blur-3xl -top-10 -left-10 animate-pulse"}),m.jsx("div",{className:"absolute w-72 h-72 bg-pink-500 opacity-30 blur-2xl -bottom-10 -right-20 animate-pulse"})]}),m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("h1",{className:"text-4xl font-extrabold tracking-wide",children:["My ",m.jsx("span",{className:"text-accent",children:"Events"})]}),m.jsx("button",{onClick:()=>c(_=>!_),className:"px-6 py-3 bg-gradient-to-r from-green-400 to-blue-500 text-white font-bold rounded-lg shadow-lg hover:opacity-90 transition-transform transform hover:scale-105",children:l?"Cancel":"Create Event"})]}),l&&m.jsx(jI,{onEventCreated:g}),h&&m.jsx("p",{className:"text-red-500 bg-red-100 p-3 rounded-lg text-center mb-4",children:h}),m.jsx("h2",{className:"text-3xl font-semibold mb-4",children:"Created Events"}),t.length>0?m.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(_=>m.jsxs("li",{className:"bg-gradient-to-b from-purple-600 via-indigo-600 to-purple-700 p-4 rounded-lg shadow-md hover:shadow-lg transition-transform transform hover:scale-105",children:[_.eventImage&&m.jsx("img",{src:_.eventImage,alt:_.eventName,className:"w-full h-48 object-cover rounded-md mb-4"}),m.jsx("h3",{className:"text-xl font-bold text-accent mb-2",children:_.eventName}),m.jsxs("p",{className:"text-light mb-1",children:[m.jsx("span",{className:"font-semibold",children:"Location:"})," ",_.location]}),m.jsxs("p",{className:"text-light mb-1",children:[m.jsx("span",{className:"font-semibold",children:"Date:"})," ",_.date]}),m.jsxs("p",{className:"text-light mb-2",children:[m.jsx("span",{className:"font-semibold",children:"Time:"})," ",_.time]}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsx("button",{onClick:()=>v(_),className:"px-4 py-2 bg-yellow-500 text-white rounded-lg shadow-md hover:opacity-90",children:"Edit"}),m.jsx("button",{onClick:()=>y(_.id),className:"px-4 py-2 bg-red-600 text-white rounded-lg shadow-md hover:opacity-90",children:"Delete"})]})]},_.id))}):m.jsx("p",{className:"text-lg text-center mt-10",children:"No events created yet!"}),o&&m.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:m.jsxs("div",{className:"bg-white text-gray-800 p-6 rounded-lg shadow-lg w-96",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Edit Event"}),m.jsxs("form",{children:[m.jsx("input",{type:"text",name:"eventName",value:i.eventName,onChange:w,placeholder:"Event Name",className:"w-full px-4 py-2 border rounded-lg mb-4"}),m.jsx("button",{type:"button",onClick:b,className:"w-full px-4 py-2 bg-green-500 text-white font-bold rounded-lg hover:bg-green-600",children:"Save"})]})]})})]})}function LF(){const{favorites:t,removeFavorite:e,handleSearch:n,searchTerm:r}=Cc(),[i,s]=M.useState(!1),[o,a]=M.useState(null),[l,c]=M.useState(1),h=5,d=Rn(),f=l*h,g=f-h,y=t.slice(g,f),v=I=>{a(I),s(!0)},b=()=>{o&&(e(o.id),s(!1),a(null))},w=()=>{l<Math.ceil(t.length/h)&&c(l+1)},_=()=>{l>1&&c(l-1)},T=()=>{d(-1)};return m.jsxs("div",{className:"container mx-auto mt-10 px-6 py-8 bg-gradient-to-br from-blue-600 via-indigo-700 to-purple-800 min-h-screen text-white",children:[m.jsxs("div",{className:"absolute inset-0 z-[-1]",children:[m.jsx("div",{className:"absolute w-96 h-96 bg-indigo-500 opacity-30 blur-3xl -top-32 -left-20 animate-pulse"}),m.jsx("div",{className:"absolute w-80 h-80 bg-purple-400 opacity-30 blur-3xl -bottom-16 -right-16 animate-pulse"})]}),m.jsxs("h1",{className:"text-4xl font-extrabold tracking-wide text-center mb-8",children:["My ",m.jsx("span",{className:"text-yellow-400",children:"Favorite"})," Events"]}),m.jsx("div",{className:"mb-8",children:m.jsx("input",{type:"text",placeholder:"Search by name or location...",value:r,onChange:I=>n(I.target.value),className:"w-full p-4 text-black rounded-lg shadow focus:outline-none focus:ring-2 focus:ring-yellow-500"})}),y.length>0?m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(I=>m.jsxs("div",{className:"bg-gradient-to-b from-gray-700 via-gray-800 to-gray-900 rounded-lg shadow-lg overflow-hidden transform hover:scale-105 transition-transform",children:[m.jsx("img",{src:I.image||"https://via.placeholder.com/150",alt:I.name||"Unnamed Event",className:"w-full h-48 object-cover"}),m.jsxs("div",{className:"p-4",children:[m.jsx("h3",{className:"text-2xl font-bold mb-2 text-yellow-400",children:I.name||"Unnamed Event"}),m.jsxs("p",{className:"mb-1",children:[m.jsx("span",{className:"font-semibold",children:"Location:"})," ",I.location||"N/A"]}),m.jsxs("p",{className:"mb-1",children:[m.jsx("span",{className:"font-semibold",children:"Date:"})," ",I.date||"N/A"]}),m.jsxs("p",{className:"mb-3",children:[m.jsx("span",{className:"font-semibold",children:"Time:"})," ",I.time||"N/A"]}),m.jsx("button",{onClick:()=>v(I),className:"w-full py-2 bg-red-600 rounded-lg text-white hover:bg-red-700",children:"Remove from Favorites"})]})]},I.id))}):m.jsx("p",{className:"text-center text-gray-200 text-lg mt-16",children:"No favorite events yet. Add some from the events list!"}),m.jsxs("div",{className:"flex justify-between items-center mt-12",children:[m.jsx("button",{onClick:_,disabled:l===1,className:"px-6 py-2 bg-gray-600 rounded-lg hover:bg-gray-700 disabled:opacity-50",children:"Previous"}),m.jsxs("p",{className:"text-lg",children:["Page ",l," of ",Math.ceil(t.length/h)]}),m.jsx("button",{onClick:w,disabled:l===Math.ceil(t.length/h),className:"px-6 py-2 bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Next"})]}),m.jsx("div",{className:"mt-8 text-center",children:m.jsx("button",{onClick:T,className:"px-6 py-3 bg-yellow-500 rounded-lg text-black font-bold hover:bg-yellow-600",children:"Go Back"})}),i&&m.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-60",children:m.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-96 text-black",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Confirm Removal"}),m.jsxs("p",{className:"mb-4",children:["Are you sure you want to remove"," ",m.jsx("span",{className:"font-semibold text-indigo-600",children:o==null?void 0:o.name}),"?"]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("button",{onClick:b,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Yes, Remove"}),m.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2 bg-gray-400 rounded-lg hover:bg-gray-500",children:"Cancel"})]})]})})]})}function FI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=FI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function In(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=FI(t))&&(r&&(r+=" "),r+=e);return r}const VF=(t,e,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const i=Object.getOwnPropertyDescriptor(t,n),s=Object.getOwnPropertyDescriptor(e,n);!jF(i,s)&&r||Object.defineProperty(t,n,s)},jF=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},FF=(t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)},UF=(t,e)=>`/* Wrapped ${t}*/
${e}`,BF=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),zF=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),$F=(t,e,n)=>{const r=n===""?"":`with ${n.trim()}() `,i=UF.bind(null,r,e.toString());Object.defineProperty(i,"name",zF),Object.defineProperty(t,"toString",{...BF,value:i})},WF=(t,e,{ignoreNonConfigurable:n=!1}={})=>{const{name:r}=t;for(const i of Reflect.ownKeys(e))VF(t,e,i,n);return FF(t,e),$F(t,e,r),t};var HF=WF,xm={exports:{}},qF=()=>{const t={};return t.promise=new Promise((e,n)=>{t.resolve=e,t.reject=n}),t};(function(t,e){var n=fu&&fu.__awaiter||function(o,a,l,c){return new(l||(l=Promise))(function(h,d){function f(v){try{y(c.next(v))}catch(b){d(b)}}function g(v){try{y(c.throw(v))}catch(b){d(b)}}function y(v){v.done?h(v.value):new l(function(b){b(v.value)}).then(f,g)}y((c=c.apply(o,a||[])).next())})},r=fu&&fu.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(qF);function s(o,a="maxAge"){let l,c,h;const d=()=>n(this,void 0,void 0,function*(){if(l!==void 0)return;const y=v=>n(this,void 0,void 0,function*(){h=i.default();const b=v[1][a]-Date.now();if(b<=0){o.delete(v[0]),h.resolve();return}return l=v[0],c=setTimeout(()=>{o.delete(v[0]),h&&h.resolve()},b),typeof c.unref=="function"&&c.unref(),h.promise});try{for(const v of o)yield y(v)}catch{}l=void 0}),f=()=>{l=void 0,c!==void 0&&(clearTimeout(c),c=void 0),h!==void 0&&(h.reject(void 0),h=void 0)},g=o.set.bind(o);return o.set=(y,v)=>{o.has(y)&&o.delete(y);const b=g(y,v);return l&&l===y&&f(),d(),b},d(),o}e.default=s,t.exports=s,t.exports.default=s})(xm,xm.exports);var GF=xm.exports;const KF=HF,YF=GF,Mp=new WeakMap,UI=new WeakMap,Id=(t,{cacheKey:e,cache:n=new Map,maxAge:r}={})=>{typeof r=="number"&&YF(n);const i=function(...s){const o=e?e(s):s[0],a=n.get(o);if(a)return a.data;const l=t.apply(this,s);return n.set(o,{data:l,maxAge:r?Date.now()+r:Number.POSITIVE_INFINITY}),l};return KF(i,t,{ignoreNonConfigurable:!0}),UI.set(i,n),i};Id.decorator=(t={})=>(e,n,r)=>{const i=e[n];if(typeof i!="function")throw new TypeError("The decorated value must be a function");delete r.value,delete r.writable,r.get=function(){if(!Mp.has(this)){const s=Id(i,t);return Mp.set(this,s),s}return Mp.get(this)}};Id.clear=t=>{const e=UI.get(t);if(!e)throw new TypeError("Can't clear a function that was not memoized!");if(typeof e.clear!="function")throw new TypeError("The cache Map can't be cleared!");e.clear()};var QF=Id;const BI=k1(QF);function XF(t){return typeof t=="string"}function JF(t,e,n){return n.indexOf(t)===e}function ZF(t){return t.toLowerCase()===t}function Bx(t){return t.indexOf(",")===-1?t:t.split(",")}function bm(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],n=e===void 0?"":e;return bm(n)}if(t.indexOf("@")!==-1){var r=t.split("@")[0],n=r===void 0?"":r;return bm(n)}if(t.indexOf("-")===-1||!ZF(t))return t;var i=t.split("-"),s=i[0],o=i[1],a=o===void 0?"":o;return"".concat(s,"-").concat(a.toUpperCase())}function e6(t){var e=t===void 0?{}:t,n=e.useFallbackLocale,r=n===void 0?!0:n,i=e.fallbackLocale,s=i===void 0?"en-US":i,o=[];if(typeof navigator<"u"){for(var a=navigator.languages||[],l=[],c=0,h=a;c<h.length;c++){var d=h[c];l=l.concat(Bx(d))}var f=navigator.language,g=f&&Bx(f);o=o.concat(l,g)}return r&&o.push(s),o.filter(XF).map(bm).filter(JF)}var t6=BI(e6,{cacheKey:JSON.stringify});function n6(t){return t6(t)[0]||null}var zI=BI(n6,{cacheKey:JSON.stringify});function qr(t,e,n){return function(i,s){s===void 0&&(s=n);var o=t(i)+s;return e(o)}}function jc(t){return function(n){return new Date(t(n).getTime()-1)}}function Fc(t,e){return function(r){return[t(r),e(r)]}}function Ue(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;var e=parseInt(t,10);if(typeof t=="string"&&!isNaN(e))return e;throw new Error("Failed to get year from date: ".concat(t,"."))}function Qi(t){if(t instanceof Date)return t.getMonth();throw new Error("Failed to get month from date: ".concat(t,"."))}function Tf(t){if(t instanceof Date)return t.getDate();throw new Error("Failed to get year from date: ".concat(t,"."))}function _a(t){var e=Ue(t),n=e+(-e+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var r6=qr(Ue,_a,-100),$I=qr(Ue,_a,100),Kv=jc($I),i6=qr(Ue,Kv,-100),WI=Fc(_a,Kv);function Xi(t){var e=Ue(t),n=e+(-e+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var HI=qr(Ue,Xi,-10),Yv=qr(Ue,Xi,10),Sf=jc(Yv),qI=qr(Ue,Sf,-10),GI=Fc(Xi,Sf);function wa(t){var e=Ue(t),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}var KI=qr(Ue,wa,-1),Qv=qr(Ue,wa,1),kf=jc(Qv),YI=qr(Ue,kf,-1),s6=Fc(wa,kf);function Xv(t,e){return function(r,i){i===void 0&&(i=e);var s=Ue(r),o=Qi(r)+i,a=new Date;return a.setFullYear(s,o,1),a.setHours(0,0,0,0),t(a)}}function Qs(t){var e=Ue(t),n=Qi(t),r=new Date;return r.setFullYear(e,n,1),r.setHours(0,0,0,0),r}var QI=Xv(Qs,-1),Jv=Xv(Qs,1),Uc=jc(Jv),XI=Xv(Uc,-1),o6=Fc(Qs,Uc);function a6(t,e){return function(r,i){i===void 0&&(i=e);var s=Ue(r),o=Qi(r),a=Tf(r)+i,l=new Date;return l.setFullYear(s,o,a),l.setHours(0,0,0,0),t(l)}}function Bc(t){var e=Ue(t),n=Qi(t),r=Tf(t),i=new Date;return i.setFullYear(e,n,r),i.setHours(0,0,0,0),i}var l6=a6(Bc,1),Zv=jc(l6),c6=Fc(Bc,Zv);function JI(t){return Tf(Uc(t))}var kt={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},u6={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},e_=[0,1,2,3,4,5,6],Lp=new Map;function h6(t){return function(n,r){var i=n||zI();Lp.has(i)||Lp.set(i,new Map);var s=Lp.get(i);return s.has(t)||s.set(t,new Intl.DateTimeFormat(i||void 0,t).format),s.get(t)(r)}}function d6(t){var e=new Date(t);return new Date(e.setHours(12))}function Xs(t){return function(e,n){return h6(t)(e,d6(n))}}var f6={day:"numeric"},p6={day:"numeric",month:"long",year:"numeric"},g6={month:"long"},m6={month:"long",year:"numeric"},y6={weekday:"short"},v6={weekday:"long"},_6={year:"numeric"},w6=Xs(f6),x6=Xs(p6),b6=Xs(g6),ZI=Xs(m6),E6=Xs(y6),T6=Xs(v6),If=Xs(_6),S6=e_[0],k6=e_[5],zx=e_[6];function hc(t,e){e===void 0&&(e=kt.ISO_8601);var n=t.getDay();switch(e){case kt.ISO_8601:return(n+6)%7;case kt.ISLAMIC:return(n+1)%7;case kt.HEBREW:case kt.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function I6(t){var e=_a(t);return Ue(e)}function C6(t){var e=Xi(t);return Ue(e)}function Em(t,e){e===void 0&&(e=kt.ISO_8601);var n=Ue(t),r=Qi(t),i=t.getDate()-hc(t,e);return new Date(n,r,i)}function A6(t,e){e===void 0&&(e=kt.ISO_8601);var n=e===kt.GREGORY?kt.GREGORY:kt.ISO_8601,r=Em(t,e),i=Ue(t)+1,s,o;do s=new Date(i,0,n===kt.ISO_8601?4:1),o=Em(s,e),i-=1;while(t<o);return Math.round((r.getTime()-o.getTime())/(864e5*7))+1}function Ps(t,e){switch(t){case"century":return _a(e);case"decade":return Xi(e);case"year":return wa(e);case"month":return Qs(e);case"day":return Bc(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function P6(t,e){switch(t){case"century":return r6(e);case"decade":return HI(e);case"year":return KI(e);case"month":return QI(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function eC(t,e){switch(t){case"century":return $I(e);case"decade":return Yv(e);case"year":return Qv(e);case"month":return Jv(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function R6(t,e){switch(t){case"decade":return HI(e,-100);case"year":return KI(e,-10);case"month":return QI(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function N6(t,e){switch(t){case"decade":return Yv(e,100);case"year":return Qv(e,10);case"month":return Jv(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function tC(t,e){switch(t){case"century":return Kv(e);case"decade":return Sf(e);case"year":return kf(e);case"month":return Uc(e);case"day":return Zv(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function D6(t,e){switch(t){case"century":return i6(e);case"decade":return qI(e);case"year":return YI(e);case"month":return XI(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function O6(t,e){switch(t){case"decade":return qI(e,-100);case"year":return YI(e,-10);case"month":return XI(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function $x(t,e){switch(t){case"century":return WI(e);case"decade":return GI(e);case"year":return s6(e);case"month":return o6(e);case"day":return c6(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function M6(t,e,n){var r=[e,n].sort(function(i,s){return i.getTime()-s.getTime()});return[Ps(t,r[0]),tC(t,r[1])]}function nC(t,e,n){return n.map(function(r){return(e||If)(t,r)}).join(" – ")}function L6(t,e,n){return nC(t,e,WI(n))}function rC(t,e,n){return nC(t,e,GI(n))}function V6(t){return t.getDay()===new Date().getDay()}function iC(t,e){e===void 0&&(e=kt.ISO_8601);var n=t.getDay();switch(e){case kt.ISLAMIC:case kt.HEBREW:return n===k6||n===zx;case kt.ISO_8601:case kt.GREGORY:return n===zx||n===S6;default:throw new Error("Unsupported calendar type.")}}var Qn="react-calendar__navigation";function j6(t){var e=t.activeStartDate,n=t.drillUp,r=t.formatMonthYear,i=r===void 0?ZI:r,s=t.formatYear,o=s===void 0?If:s,a=t.locale,l=t.maxDate,c=t.minDate,h=t.navigationAriaLabel,d=h===void 0?"":h,f=t.navigationAriaLive,g=t.navigationLabel,y=t.next2AriaLabel,v=y===void 0?"":y,b=t.next2Label,w=b===void 0?"»":b,_=t.nextAriaLabel,T=_===void 0?"":_,I=t.nextLabel,N=I===void 0?"›":I,O=t.prev2AriaLabel,S=O===void 0?"":O,E=t.prev2Label,k=E===void 0?"«":E,A=t.prevAriaLabel,R=A===void 0?"":A,D=t.prevLabel,P=D===void 0?"‹":D,oe=t.setActiveStartDate,J=t.showDoubleView,X=t.view,ne=t.views,U=ne.indexOf(X)>0,W=X!=="century",H=P6(X,e),re=W?R6(X,e):void 0,Y=eC(X,e),ee=W?N6(X,e):void 0,ge=function(){if(H.getFullYear()<0)return!0;var Be=D6(X,e);return c&&c>=Be}(),xe=W&&function(){if(re.getFullYear()<0)return!0;var Be=O6(X,e);return c&&c>=Be}(),be=l&&l<Y,Ze=W&&l&&l<ee;function dr(){oe(H,"prev")}function qn(){oe(re,"prev2")}function Gr(){oe(Y,"next")}function Kr(){oe(ee,"next2")}function Yr(Be){var fr=function(){switch(X){case"century":return L6(a,o,Be);case"decade":return rC(a,o,Be);case"year":return o(a,Be);case"month":return i(a,Be);default:throw new Error("Invalid view: ".concat(X,"."))}}();return g?g({date:Be,label:fr,locale:a||zI()||void 0,view:X}):fr}function Zi(){var Be="".concat(Qn,"__label");return m.jsxs("button",{"aria-label":d,"aria-live":f,className:Be,disabled:!U,onClick:n,style:{flexGrow:1},type:"button",children:[m.jsx("span",{className:"".concat(Be,"__labelText ").concat(Be,"__labelText--from"),children:Yr(e)}),J?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"".concat(Be,"__divider"),children:" – "}),m.jsx("span",{className:"".concat(Be,"__labelText ").concat(Be,"__labelText--to"),children:Yr(Y)})]}):null]})}return m.jsxs("div",{className:Qn,children:[k!==null&&W?m.jsx("button",{"aria-label":S,className:"".concat(Qn,"__arrow ").concat(Qn,"__prev2-button"),disabled:xe,onClick:qn,type:"button",children:k}):null,P!==null&&m.jsx("button",{"aria-label":R,className:"".concat(Qn,"__arrow ").concat(Qn,"__prev-button"),disabled:ge,onClick:dr,type:"button",children:P}),Zi(),N!==null&&m.jsx("button",{"aria-label":T,className:"".concat(Qn,"__arrow ").concat(Qn,"__next-button"),disabled:be,onClick:Gr,type:"button",children:N}),w!==null&&W?m.jsx("button",{"aria-label":v,className:"".concat(Qn,"__arrow ").concat(Qn,"__next2-button"),disabled:Ze,onClick:Kr,type:"button",children:w}):null]})}var Ao=function(){return Ao=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ao.apply(this,arguments)},F6=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Wx(t){return"".concat(t,"%")}function t_(t){var e=t.children,n=t.className,r=t.count,i=t.direction,s=t.offset,o=t.style,a=t.wrap,l=F6(t,["children","className","count","direction","offset","style","wrap"]);return m.jsx("div",Ao({className:n,style:Ao({display:"flex",flexDirection:i,flexWrap:a?"wrap":"nowrap"},o)},l,{children:M.Children.map(e,function(c,h){var d=s&&h===0?Wx(100*s/r):null;return M.cloneElement(c,Ao(Ao({},c.props),{style:{flexBasis:Wx(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:d,marginInlineStart:d,marginInlineEnd:0}}))})}))}function U6(t,e,n){return e&&e>t?e:n&&n<t?n:t}function dc(t,e){return e[0]<=t&&e[1]>=t}function B6(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function sC(t,e){return dc(t[0],e)||dc(t[1],e)}function Hx(t,e,n){var r=sC(e,t),i=[];if(r){i.push(n);var s=dc(t[0],e),o=dc(t[1],e);s&&i.push("".concat(n,"Start")),o&&i.push("".concat(n,"End")),s&&o&&i.push("".concat(n,"BothEnds"))}return i}function z6(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function $6(t){if(!t)throw new Error("args is required");var e=t.value,n=t.date,r=t.hover,i="react-calendar__tile",s=[i];if(!n)return s;var o=new Date,a=function(){if(Array.isArray(n))return n;var g=t.dateType;if(!g)throw new Error("dateType is required when date is not an array of two dates");return $x(g,n)}();if(dc(o,a)&&s.push("".concat(i,"--now")),!e||!z6(e))return s;var l=function(){if(Array.isArray(e))return e;var g=t.valueType;if(!g)throw new Error("valueType is required when value is not an array of two dates");return $x(g,e)}();B6(l,a)?s.push("".concat(i,"--active")):sC(l,a)&&s.push("".concat(i,"--hasActive"));var c=Hx(l,a,"".concat(i,"--range"));s.push.apply(s,c);var h=Array.isArray(e)?e:[e];if(r&&h.length===1){var d=r>l[0]?[l[0],r]:[r,l[0]],f=Hx(d,a,"".concat(i,"--hover"));s.push.apply(s,f)}return s}function Cf(t){for(var e=t.className,n=t.count,r=n===void 0?3:n,i=t.dateTransform,s=t.dateType,o=t.end,a=t.hover,l=t.offset,c=t.renderTile,h=t.start,d=t.step,f=d===void 0?1:d,g=t.value,y=t.valueType,v=[],b=h;b<=o;b+=f){var w=i(b);v.push(c({classes:$6({date:w,dateType:s,hover:a,value:g,valueType:y}),date:w}))}return m.jsx(t_,{className:e,count:r,offset:l,wrap:!0,children:v})}function Af(t){var e=t.activeStartDate,n=t.children,r=t.classes,i=t.date,s=t.formatAbbr,o=t.locale,a=t.maxDate,l=t.maxDateTransform,c=t.minDate,h=t.minDateTransform,d=t.onClick,f=t.onMouseOver,g=t.style,y=t.tileClassName,v=t.tileContent,b=t.tileDisabled,w=t.view,_=M.useMemo(function(){var I={activeStartDate:e,date:i,view:w};return typeof y=="function"?y(I):y},[e,i,y,w]),T=M.useMemo(function(){var I={activeStartDate:e,date:i,view:w};return typeof v=="function"?v(I):v},[e,i,v,w]);return m.jsxs("button",{className:In(r,_),disabled:c&&h(c)>i||a&&l(a)<i||(b==null?void 0:b({activeStartDate:e,date:i,view:w})),onClick:d?function(I){return d(i,I)}:void 0,onFocus:f?function(){return f(i)}:void 0,onMouseOver:f?function(){return f(i)}:void 0,style:g,type:"button",children:[s?m.jsx("abbr",{"aria-label":s(o,i),children:n}):n,T]})}var Tm=function(){return Tm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Tm.apply(this,arguments)},W6=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},qx="react-calendar__century-view__decades__decade";function H6(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentCentury,i=t.formatYear,s=i===void 0?If:i,o=W6(t,["classes","currentCentury","formatYear"]),a=o.date,l=o.locale,c=[];return n&&c.push.apply(c,n),c.push(qx),_a(a).getFullYear()!==r&&c.push("".concat(qx,"--neighboringCentury")),m.jsx(Af,Tm({},o,{classes:c,maxDateTransform:Sf,minDateTransform:Xi,view:"century",children:rC(l,s,a)}))}var Sm=function(){return Sm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Sm.apply(this,arguments)},Gx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function q6(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringCentury,i=t.value,s=t.valueType,o=Gx(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),a=I6(e),l=a+(r?119:99);return m.jsx(Cf,{className:"react-calendar__century-view__decades",dateTransform:Xi,dateType:"decade",end:l,hover:n,renderTile:function(c){var h=c.date,d=Gx(c,["date"]);return m.jsx(H6,Sm({},o,d,{activeStartDate:e,currentCentury:a,date:h}),h.getTime())},start:a,step:10,value:i,valueType:s})}var km=function(){return km=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},km.apply(this,arguments)};function G6(t){function e(){return m.jsx(q6,km({},t))}return m.jsx("div",{className:"react-calendar__century-view",children:e()})}var Im=function(){return Im=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Im.apply(this,arguments)},K6=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Kx="react-calendar__decade-view__years__year";function Y6(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentDecade,i=t.formatYear,s=i===void 0?If:i,o=K6(t,["classes","currentDecade","formatYear"]),a=o.date,l=o.locale,c=[];return n&&c.push.apply(c,n),c.push(Kx),Xi(a).getFullYear()!==r&&c.push("".concat(Kx,"--neighboringDecade")),m.jsx(Af,Im({},o,{classes:c,maxDateTransform:kf,minDateTransform:wa,view:"decade",children:s(l,a)}))}var Cm=function(){return Cm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Cm.apply(this,arguments)},Yx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Q6(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringDecade,i=t.value,s=t.valueType,o=Yx(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),a=C6(e),l=a+(r?11:9);return m.jsx(Cf,{className:"react-calendar__decade-view__years",dateTransform:wa,dateType:"year",end:l,hover:n,renderTile:function(c){var h=c.date,d=Yx(c,["date"]);return m.jsx(Y6,Cm({},o,d,{activeStartDate:e,currentDecade:a,date:h}),h.getTime())},start:a,value:i,valueType:s})}var Am=function(){return Am=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Am.apply(this,arguments)};function X6(t){function e(){return m.jsx(Q6,Am({},t))}return m.jsx("div",{className:"react-calendar__decade-view",children:e()})}var Pm=function(){return Pm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Pm.apply(this,arguments)},J6=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Qx=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},Z6="react-calendar__year-view__months__month";function e5(t){var e=t.classes,n=e===void 0?[]:e,r=t.formatMonth,i=r===void 0?b6:r,s=t.formatMonthYear,o=s===void 0?ZI:s,a=J6(t,["classes","formatMonth","formatMonthYear"]),l=a.date,c=a.locale;return m.jsx(Af,Pm({},a,{classes:Qx(Qx([],n,!0),[Z6],!1),formatAbbr:o,maxDateTransform:Uc,minDateTransform:Qs,view:"year",children:i(c,l)}))}var Rm=function(){return Rm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Rm.apply(this,arguments)},Xx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function t5(t){var e=t.activeStartDate,n=t.hover,r=t.value,i=t.valueType,s=Xx(t,["activeStartDate","hover","value","valueType"]),o=0,a=11,l=Ue(e);return m.jsx(Cf,{className:"react-calendar__year-view__months",dateTransform:function(c){var h=new Date;return h.setFullYear(l,c,1),Qs(h)},dateType:"month",end:a,hover:n,renderTile:function(c){var h=c.date,d=Xx(c,["date"]);return m.jsx(e5,Rm({},s,d,{activeStartDate:e,date:h}),h.getTime())},start:o,value:r,valueType:i})}var Nm=function(){return Nm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Nm.apply(this,arguments)};function n5(t){function e(){return m.jsx(t5,Nm({},t))}return m.jsx("div",{className:"react-calendar__year-view",children:e()})}var Dm=function(){return Dm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Dm.apply(this,arguments)},r5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Vp="react-calendar__month-view__days__day";function i5(t){var e=t.calendarType,n=t.classes,r=n===void 0?[]:n,i=t.currentMonthIndex,s=t.formatDay,o=s===void 0?w6:s,a=t.formatLongDate,l=a===void 0?x6:a,c=r5(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),h=c.date,d=c.locale,f=[];return r&&f.push.apply(f,r),f.push(Vp),iC(h,e)&&f.push("".concat(Vp,"--weekend")),h.getMonth()!==i&&f.push("".concat(Vp,"--neighboringMonth")),m.jsx(Af,Dm({},c,{classes:f,formatAbbr:l,maxDateTransform:Zv,minDateTransform:Bc,view:"month",children:o(d,h)}))}var Om=function(){return Om=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Om.apply(this,arguments)},Jx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function s5(t){var e=t.activeStartDate,n=t.calendarType,r=t.hover,i=t.showFixedNumberOfWeeks,s=t.showNeighboringMonth,o=t.value,a=t.valueType,l=Jx(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),c=Ue(e),h=Qi(e),d=i||s,f=hc(e,n),g=d?0:f,y=(d?-f:0)+1,v=function(){if(i)return y+6*7-1;var b=JI(e);if(s){var w=new Date;w.setFullYear(c,h,b),w.setHours(0,0,0,0);var _=7-hc(w,n)-1;return b+_}return b}();return m.jsx(Cf,{className:"react-calendar__month-view__days",count:7,dateTransform:function(b){var w=new Date;return w.setFullYear(c,h,b),Bc(w)},dateType:"day",hover:r,end:v,renderTile:function(b){var w=b.date,_=Jx(b,["date"]);return m.jsx(i5,Om({},l,_,{activeStartDate:e,calendarType:n,currentMonthIndex:h,date:w}),w.getTime())},offset:g,start:y,value:o,valueType:a})}var oC="react-calendar__month-view__weekdays",jp="".concat(oC,"__weekday");function o5(t){for(var e=t.calendarType,n=t.formatShortWeekday,r=n===void 0?E6:n,i=t.formatWeekday,s=i===void 0?T6:i,o=t.locale,a=t.onMouseLeave,l=new Date,c=Qs(l),h=Ue(c),d=Qi(c),f=[],g=1;g<=7;g+=1){var y=new Date(h,d,g-hc(c,e)),v=s(o,y);f.push(m.jsx("div",{className:In(jp,V6(y)&&"".concat(jp,"--current"),iC(y,e)&&"".concat(jp,"--weekend")),children:m.jsx("abbr",{"aria-label":v,title:v,children:r(o,y).replace(".","")})},g))}return m.jsx(t_,{className:oC,count:7,onFocus:a,onMouseOver:a,children:f})}var Cd=function(){return Cd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Cd.apply(this,arguments)},Zx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},eb="react-calendar__tile";function a5(t){var e=t.onClickWeekNumber,n=t.weekNumber,r=m.jsx("span",{children:n});if(e){var i=t.date,s=t.onClickWeekNumber,o=t.weekNumber,a=Zx(t,["date","onClickWeekNumber","weekNumber"]);return m.jsx("button",Cd({},a,{className:eb,onClick:function(l){return s(o,i,l)},type:"button",children:r}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var a=Zx(t,["date","onClickWeekNumber","weekNumber"]);return m.jsx("div",Cd({},a,{className:eb,children:r}))}}function l5(t){var e=t.activeStartDate,n=t.calendarType,r=t.onClickWeekNumber,i=t.onMouseLeave,s=t.showFixedNumberOfWeeks,o=function(){if(s)return 6;var c=JI(e),h=hc(e,n),d=c-(7-h);return 1+Math.ceil(d/7)}(),a=function(){for(var c=Ue(e),h=Qi(e),d=Tf(e),f=[],g=0;g<o;g+=1)f.push(Em(new Date(c,h,d+g*7),n));return f}(),l=a.map(function(c){return A6(c,n)});return m.jsx(t_,{className:"react-calendar__month-view__weekNumbers",count:o,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:l.map(function(c,h){var d=a[h];if(!d)throw new Error("date is not defined");return m.jsx(a5,{date:d,onClickWeekNumber:r,weekNumber:c},c)})})}var Mm=function(){return Mm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Mm.apply(this,arguments)},c5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function u5(t){if(t)for(var e=0,n=Object.entries(u6);e<n.length;e++){var r=n[e],i=r[0],s=r[1];if(s.includes(t))return i}return kt.ISO_8601}function h5(t){var e=t.activeStartDate,n=t.locale,r=t.onMouseLeave,i=t.showFixedNumberOfWeeks,s=t.calendarType,o=s===void 0?u5(n):s,a=t.formatShortWeekday,l=t.formatWeekday,c=t.onClickWeekNumber,h=t.showWeekNumbers,d=c5(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function f(){return m.jsx(o5,{calendarType:o,formatShortWeekday:a,formatWeekday:l,locale:n,onMouseLeave:r})}function g(){return h?m.jsx(l5,{activeStartDate:e,calendarType:o,onClickWeekNumber:c,onMouseLeave:r,showFixedNumberOfWeeks:i}):null}function y(){return m.jsx(s5,Mm({calendarType:o},d))}var v="react-calendar__month-view";return m.jsx("div",{className:In(v,h?"".concat(v,"--weekNumbers"):""),children:m.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[g(),m.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[f(),y()]})]})})}var Po=function(){return Po=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Po.apply(this,arguments)},Fu="react-calendar",Sh=["century","decade","year","month"],d5=["decade","year","month","day"],n_=new Date;n_.setFullYear(1,0,1);n_.setHours(0,0,0,0);var f5=new Date(864e13);function cl(t){return t instanceof Date?t:new Date(t)}function aC(t,e){return Sh.slice(Sh.indexOf(t),Sh.indexOf(e)+1)}function p5(t,e,n){var r=aC(e,n);return r.indexOf(t)!==-1}function r_(t,e,n){return t&&p5(t,e,n)?t:n}function lC(t){var e=Sh.indexOf(t);return d5[e]}function g5(t,e){var n=Array.isArray(t)?t[e]:t;if(!n)return null;var r=cl(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(t));return r}function cC(t,e){var n=t.value,r=t.minDate,i=t.maxDate,s=t.maxDetail,o=g5(n,e);if(!o)return null;var a=lC(s),l=function(){switch(e){case 0:return Ps(a,o);case 1:return tC(a,o);default:throw new Error("Invalid index value: ".concat(e))}}();return U6(l,r,i)}var i_=function(t){return cC(t,0)},uC=function(t){return cC(t,1)},m5=function(t){return[i_,uC].map(function(e){return e(t)})};function hC(t){var e=t.maxDate,n=t.maxDetail,r=t.minDate,i=t.minDetail,s=t.value,o=t.view,a=r_(o,i,n),l=i_({value:s,minDate:r,maxDate:e,maxDetail:n})||new Date;return Ps(a,l)}function y5(t){var e=t.activeStartDate,n=t.defaultActiveStartDate,r=t.defaultValue,i=t.defaultView,s=t.maxDate,o=t.maxDetail,a=t.minDate,l=t.minDetail,c=t.value,h=t.view,d=r_(h,l,o),f=e||n;return f?Ps(d,f):hC({maxDate:s,maxDetail:o,minDate:a,minDetail:l,value:c||r,view:h||i})}function Fp(t){return t&&(!Array.isArray(t)||t.length===1)}function Uu(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var v5=M.forwardRef(function(e,n){var r=e.activeStartDate,i=e.allowPartialRange,s=e.calendarType,o=e.className,a=e.defaultActiveStartDate,l=e.defaultValue,c=e.defaultView,h=e.formatDay,d=e.formatLongDate,f=e.formatMonth,g=e.formatMonthYear,y=e.formatShortWeekday,v=e.formatWeekday,b=e.formatYear,w=e.goToRangeStartOnSelect,_=w===void 0?!0:w,T=e.inputRef,I=e.locale,N=e.maxDate,O=N===void 0?f5:N,S=e.maxDetail,E=S===void 0?"month":S,k=e.minDate,A=k===void 0?n_:k,R=e.minDetail,D=R===void 0?"century":R,P=e.navigationAriaLabel,oe=e.navigationAriaLive,J=e.navigationLabel,X=e.next2AriaLabel,ne=e.next2Label,U=e.nextAriaLabel,W=e.nextLabel,H=e.onActiveStartDateChange,re=e.onChange,Y=e.onClickDay,ee=e.onClickDecade,ge=e.onClickMonth,xe=e.onClickWeekNumber,be=e.onClickYear,Ze=e.onDrillDown,dr=e.onDrillUp,qn=e.onViewChange,Gr=e.prev2AriaLabel,Kr=e.prev2Label,Yr=e.prevAriaLabel,Zi=e.prevLabel,Be=e.returnValue,fr=Be===void 0?"start":Be,$t=e.selectRange,Zs=e.showDoubleView,Hc=e.showFixedNumberOfWeeks,xa=e.showNavigation,ba=xa===void 0?!0:xa,qc=e.showNeighboringCentury,jf=e.showNeighboringDecade,eo=e.showNeighboringMonth,Ea=eo===void 0?!0:eo,Gc=e.showWeekNumbers,ft=e.tileClassName,xt=e.tileContent,to=e.tileDisabled,no=e.value,Ta=e.view,Kc=M.useState(a),es=Kc[0],ts=Kc[1],Sa=M.useState(null),ka=Sa[0],Yc=Sa[1],Qc=M.useState(Array.isArray(l)?l.map(function(le){return le!==null?cl(le):null}):l!=null?cl(l):null),ns=Qc[0],Xc=Qc[1],Ia=M.useState(c),rs=Ia[0],ro=Ia[1],pt=r||es||y5({activeStartDate:r,defaultActiveStartDate:a,defaultValue:l,defaultView:c,maxDate:O,maxDetail:E,minDate:A,minDetail:D,value:no,view:Ta}),Ge=function(){var le=function(){return $t&&Fp(ns)?ns:no!==void 0?no:ns}();return le?Array.isArray(le)?le.map(function(we){return we!==null?cl(we):null}):le!==null?cl(le):null:null}(),is=lC(E),ke=r_(Ta||rs,D,E),ln=aC(D,E),ss=$t?ka:null,io=ln.indexOf(ke)<ln.length-1,gt=ln.indexOf(ke)>0,Ca=M.useCallback(function(le){var we=function(){switch(fr){case"start":return i_;case"end":return uC;case"range":return m5;default:throw new Error("Invalid returnValue.")}}();return we({maxDate:O,maxDetail:E,minDate:A,value:le})},[O,E,A,fr]),pr=M.useCallback(function(le,we){ts(le);var ze={action:we,activeStartDate:le,value:Ge,view:ke};H&&!Uu(pt,le)&&H(ze)},[pt,H,Ge,ke]),Gn=M.useCallback(function(le,we){var ze=function(){switch(ke){case"century":return ee;case"decade":return be;case"year":return ge;case"month":return Y;default:throw new Error("Invalid view: ".concat(ke,"."))}}();ze&&ze(le,we)},[Y,ee,ge,be,ke]),Aa=M.useCallback(function(le,we){if(io){Gn(le,we);var ze=ln[ln.indexOf(ke)+1];if(!ze)throw new Error("Attempted to drill down from the lowest view.");ts(le),ro(ze);var Xt={action:"drillDown",activeStartDate:le,value:Ge,view:ze};H&&!Uu(pt,le)&&H(Xt),qn&&ke!==ze&&qn(Xt),Ze&&Ze(Xt)}},[pt,io,H,Gn,Ze,qn,Ge,ke,ln]),Pa=M.useCallback(function(){if(gt){var le=ln[ln.indexOf(ke)-1];if(!le)throw new Error("Attempted to drill up from the highest view.");var we=Ps(le,pt);ts(we),ro(le);var ze={action:"drillUp",activeStartDate:we,value:Ge,view:le};H&&!Uu(pt,we)&&H(ze),qn&&ke!==le&&qn(ze),dr&&dr(ze)}},[pt,gt,H,dr,qn,Ge,ke,ln]),Kn=M.useCallback(function(le,we){var ze=Ge;Gn(le,we);var Xt=$t&&!Fp(ze),Wt;if($t)if(Xt)Wt=Ps(is,le);else{if(!ze)throw new Error("previousValue is required");if(Array.isArray(ze))throw new Error("previousValue must not be an array");Wt=M6(is,ze,le)}else Wt=Ca(le);var as=!$t||Xt||_?hC({maxDate:O,maxDetail:E,minDate:A,minDetail:D,value:Wt,view:ke}):null;we.persist(),ts(as),Xc(Wt);var Zc={action:"onChange",activeStartDate:as,value:Wt,view:ke};if(H&&!Uu(pt,as)&&H(Zc),re)if($t){var eu=Fp(Wt);if(!eu)re(Wt||null,we);else if(i){if(Array.isArray(Wt))throw new Error("value must not be an array");re([Wt||null,null],we)}}else re(Wt||null,we)},[pt,i,Ca,_,O,E,A,D,H,re,Gn,$t,Ge,is,ke]);function Ff(le){Yc(le)}function Ra(){Yc(null)}M.useImperativeHandle(n,function(){return{activeStartDate:pt,drillDown:Aa,drillUp:Pa,onChange:Kn,setActiveStartDate:pr,value:Ge,view:ke}},[pt,Aa,Pa,Kn,pr,Ge,ke]);function os(le){var we=le?eC(ke,pt):Ps(ke,pt),ze=io?Aa:Kn,Xt={activeStartDate:we,hover:ss,locale:I,maxDate:O,minDate:A,onClick:ze,onMouseOver:$t?Ff:void 0,tileClassName:ft,tileContent:xt,tileDisabled:to,value:Ge,valueType:is};switch(ke){case"century":return m.jsx(G6,Po({formatYear:b,showNeighboringCentury:qc},Xt));case"decade":return m.jsx(X6,Po({formatYear:b,showNeighboringDecade:jf},Xt));case"year":return m.jsx(n5,Po({formatMonth:f,formatMonthYear:g},Xt));case"month":return m.jsx(h5,Po({calendarType:s,formatDay:h,formatLongDate:d,formatShortWeekday:y,formatWeekday:v,onClickWeekNumber:xe,onMouseLeave:$t?Ra:void 0,showFixedNumberOfWeeks:typeof Hc<"u"?Hc:Zs,showNeighboringMonth:Ea,showWeekNumbers:Gc},Xt));default:throw new Error("Invalid view: ".concat(ke,"."))}}function Jc(){return ba?m.jsx(j6,{activeStartDate:pt,drillUp:Pa,formatMonthYear:g,formatYear:b,locale:I,maxDate:O,minDate:A,navigationAriaLabel:P,navigationAriaLive:oe,navigationLabel:J,next2AriaLabel:X,next2Label:ne,nextAriaLabel:U,nextLabel:W,prev2AriaLabel:Gr,prev2Label:Kr,prevAriaLabel:Yr,prevLabel:Zi,setActiveStartDate:pr,showDoubleView:Zs,view:ke,views:ln}):null}var Na=Array.isArray(Ge)?Ge:[Ge];return m.jsxs("div",{className:In(Fu,$t&&Na.length===1&&"".concat(Fu,"--selectRange"),Zs&&"".concat(Fu,"--doubleView"),o),ref:T,children:[Jc(),m.jsxs("div",{className:"".concat(Fu,"__viewContainer"),onBlur:$t?Ra:void 0,onMouseLeave:$t?Ra:void 0,children:[os(),Zs?os(!0):null]})]})});function _5(){var o;const{searchResults:t}=Cc(),[e,n]=M.useState({}),[r,i]=M.useState(null);M.useEffect(()=>{const a=t.reduce((l,c)=>{const h=new Date(c.dates.start.localDate).toDateString();return l[h]||(l[h]=[]),l[h].push(c),l},{});n(a)},[t]);const s=a=>{i(a.toDateString())};return m.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-indigo-700 via-purple-800 to-blue-600 text-white px-6 py-8",children:[m.jsxs("div",{className:"absolute inset-0 z-[-1]",children:[m.jsx("div",{className:"absolute w-96 h-96 bg-blue-500 opacity-30 blur-3xl -top-24 -left-16 animate-pulse"}),m.jsx("div",{className:"absolute w-80 h-80 bg-purple-400 opacity-30 blur-3xl bottom-0 right-0 animate-pulse"})]}),m.jsx("div",{className:"mb-8",children:m.jsx(Bk,{})}),m.jsxs("div",{className:"text-center mb-10",children:[m.jsxs("h1",{className:"text-5xl font-extrabold tracking-wide",children:["Event ",m.jsx("span",{className:"text-yellow-400",children:"Calendar"})]}),m.jsx("p",{className:"text-lg mt-4 text-gray-200",children:"Click a date to view events or scroll through all events below."})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-black",children:[m.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Calendar"}),m.jsx(v5,{onChange:s,tileClassName:({date:a})=>{const l=a.toDateString();return e[l]?"bg-blue-500 text-white rounded-full":""},className:"w-full"})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-black overflow-y-auto max-h-[75vh]",children:[m.jsx("h2",{className:"text-2xl font-semibold mb-6",children:r?`Events on ${r}`:"Select a Date"}),r&&((o=e[r])==null?void 0:o.length)>0?m.jsx("ul",{className:"space-y-6",children:e[r].map(a=>{var l,c,h;return m.jsxs("li",{className:"flex items-start space-x-4",children:[((l=a.images)==null?void 0:l[0])&&m.jsx("img",{src:a.images[0].url,alt:a.name,className:"w-20 h-20 object-cover rounded-md shadow-lg"}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-gray-800",children:a.name}),m.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",a.dates.start.localDate]}),m.jsxs("p",{className:"text-sm text-gray-600",children:["Venue: ",((h=(c=a._embedded)==null?void 0:c.venues[0])==null?void 0:h.name)||"Unknown"]}),m.jsx(st,{to:`/event/${a.id}`,state:{event:a},className:"text-indigo-600 hover:underline text-sm mt-2 block",children:"View Details"})]})]},a.id)})}):r?m.jsx("p",{className:"text-gray-600",children:"No events found for this date."}):m.jsx("p",{className:"text-gray-600",children:"Select a date to view events."})]})]}),m.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mt-10 text-black",children:[m.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"All Events"}),Object.keys(e).length>0?Object.keys(e).map(a=>m.jsxs("div",{className:"mb-8",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:a}),m.jsx("ul",{className:"space-y-4",children:e[a].map(l=>{var c,h,d;return m.jsxs("li",{className:"flex items-start space-x-4 border-b pb-4 last:border-none",children:[((c=l.images)==null?void 0:c[0])&&m.jsx("img",{src:l.images[0].url,alt:l.name,className:"w-16 h-16 object-cover rounded-md"}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-medium text-gray-800",children:l.name}),m.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",l.dates.start.localDate]}),m.jsxs("p",{className:"text-sm text-gray-600",children:["Venue: ",((d=(h=l._embedded)==null?void 0:h.venues[0])==null?void 0:d.name)||"Unknown"]}),m.jsx(st,{to:`/event/${l.id}`,state:{event:l},className:"text-blue-500 hover:underline text-sm mt-2 block",children:"View Details"})]})]},l.id)})})]},a)):m.jsx("p",{className:"text-gray-600",children:"No events found."})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function zc(t){return t+.5|0}const mi=(t,e,n)=>Math.max(Math.min(t,n),e);function ul(t){return mi(zc(t*2.55),0,255)}function Ni(t){return mi(zc(t*255),0,255)}function br(t){return mi(zc(t/2.55)/100,0,1)}function tb(t){return mi(zc(t*100),0,100)}const bn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Lm=[..."0123456789ABCDEF"],w5=t=>Lm[t&15],x5=t=>Lm[(t&240)>>4]+Lm[t&15],Bu=t=>(t&240)>>4===(t&15),b5=t=>Bu(t.r)&&Bu(t.g)&&Bu(t.b)&&Bu(t.a);function E5(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&bn[t[1]]*17,g:255&bn[t[2]]*17,b:255&bn[t[3]]*17,a:e===5?bn[t[4]]*17:255}:(e===7||e===9)&&(n={r:bn[t[1]]<<4|bn[t[2]],g:bn[t[3]]<<4|bn[t[4]],b:bn[t[5]]<<4|bn[t[6]],a:e===9?bn[t[7]]<<4|bn[t[8]]:255})),n}const T5=(t,e)=>t<255?e(t):"";function S5(t){var e=b5(t)?w5:x5;return t?"#"+e(t.r)+e(t.g)+e(t.b)+T5(t.a,e):void 0}const k5=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function dC(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function I5(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function C5(t,e,n){const r=dC(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function A5(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function s_(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,h;return s!==o&&(h=s-o,c=a>.5?h/(2-s-o):h/(s+o),l=A5(n,r,i,h,s),l=l*60+.5),[l|0,c||0,a]}function o_(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Ni)}function a_(t,e,n){return o_(dC,t,e,n)}function P5(t,e,n){return o_(C5,t,e,n)}function R5(t,e,n){return o_(I5,t,e,n)}function fC(t){return(t%360+360)%360}function N5(t){const e=k5.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?ul(+e[5]):Ni(+e[5]));const i=fC(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=P5(i,s,o):e[1]==="hsv"?r=R5(i,s,o):r=a_(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function D5(t,e){var n=s_(t);n[0]=fC(n[0]+e),n=a_(n),t.r=n[0],t.g=n[1],t.b=n[2]}function O5(t){if(!t)return;const e=s_(t),n=e[0],r=tb(e[1]),i=tb(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${br(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const nb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},rb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function M5(){const t={},e=Object.keys(rb),n=Object.keys(nb);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,nb[s]);s=parseInt(rb[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let zu;function L5(t){zu||(zu=M5(),zu.transparent=[0,0,0,0]);const e=zu[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const V5=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function j5(t){const e=V5.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?ul(o):mi(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?ul(r):mi(r,0,255)),i=255&(e[4]?ul(i):mi(i,0,255)),s=255&(e[6]?ul(s):mi(s,0,255)),{r,g:i,b:s,a:n}}}function F5(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${br(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Up=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,co=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function U5(t,e,n){const r=co(br(t.r)),i=co(br(t.g)),s=co(br(t.b));return{r:Ni(Up(r+n*(co(br(e.r))-r))),g:Ni(Up(i+n*(co(br(e.g))-i))),b:Ni(Up(s+n*(co(br(e.b))-s))),a:t.a+n*(e.a-t.a)}}function $u(t,e,n){if(t){let r=s_(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=a_(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function pC(t,e){return t&&Object.assign(e||{},t)}function ib(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ni(t[3]))):(e=pC(t,{r:0,g:0,b:0,a:1}),e.a=Ni(e.a)),e}function B5(t){return t.charAt(0)==="r"?j5(t):N5(t)}class fc{constructor(e){if(e instanceof fc)return e;const n=typeof e;let r;n==="object"?r=ib(e):n==="string"&&(r=E5(e)||L5(e)||B5(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=pC(this._rgb);return e&&(e.a=br(e.a)),e}set rgb(e){this._rgb=ib(e)}rgbString(){return this._valid?F5(this._rgb):void 0}hexString(){return this._valid?S5(this._rgb):void 0}hslString(){return this._valid?O5(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=U5(this._rgb,e._rgb,n)),this}clone(){return new fc(this.rgb)}alpha(e){return this._rgb.a=Ni(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=zc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return $u(this._rgb,2,e),this}darken(e){return $u(this._rgb,2,-e),this}saturate(e){return $u(this._rgb,1,e),this}desaturate(e){return $u(this._rgb,1,-e),this}rotate(e){return D5(this._rgb,e),this}}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function yr(){}const z5=(()=>{let t=0;return()=>t++})();function ve(t){return t==null}function je(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function fe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Qe(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function un(t,e){return Qe(t)?t:e}function ae(t,e){return typeof t>"u"?e:t}const $5=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,gC=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ae(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Te(t,e,n,r){let i,s,o;if(je(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(fe(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function Ad(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Pd(t){if(je(t))return t.map(Pd);if(fe(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=Pd(t[n[i]]);return e}return t}function mC(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function W5(t,e,n,r){if(!mC(t))return;const i=e[t],s=n[t];fe(i)&&fe(s)?pc(i,s,r):e[t]=Pd(s)}function pc(t,e,n){const r=je(e)?e:[e],i=r.length;if(!fe(t))return t;n=n||{};const s=n.merger||W5;let o;for(let a=0;a<i;++a){if(o=r[a],!fe(o))continue;const l=Object.keys(o);for(let c=0,h=l.length;c<h;++c)s(l[c],t,o,n)}return t}function Rl(t,e){return pc(t,e,{merger:H5})}function H5(t,e,n){if(!mC(t))return;const r=e[t],i=n[t];fe(r)&&fe(i)?Rl(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Pd(i))}const sb={"":t=>t,x:t=>t.x,y:t=>t.y};function q5(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function G5(t){const e=q5(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Bi(t,e){return(sb[e]||(sb[e]=G5(e)))(t)}function l_(t){return t.charAt(0).toUpperCase()+t.slice(1)}const gc=t=>typeof t<"u",zi=t=>typeof t=="function",ob=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function K5(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Me=Math.PI,Oe=2*Me,Y5=Oe+Me,Rd=Number.POSITIVE_INFINITY,Q5=Me/180,nt=Me/2,hs=Me/4,ab=Me*2/3,yi=Math.log10,lr=Math.sign;function Nl(t,e,n){return Math.abs(t-e)<n}function lb(t){const e=Math.round(t);t=Nl(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(yi(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function X5(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function sa(t){return!isNaN(parseFloat(t))&&isFinite(t)}function J5(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function yC(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Fn(t){return t*(Me/180)}function c_(t){return t*(180/Me)}function cb(t){if(!Qe(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function vC(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Me&&(s+=Oe),{angle:s,distance:i}}function Vm(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Z5(t,e){return(t-e+Y5)%Oe-Me}function dn(t){return(t%Oe+Oe)%Oe}function mc(t,e,n,r){const i=dn(t),s=dn(e),o=dn(n),a=dn(s-i),l=dn(o-i),c=dn(i-s),h=dn(i-o);return i===s||i===o||r&&s===o||a>l&&c<h}function vt(t,e,n){return Math.max(e,Math.min(n,t))}function e3(t){return vt(t,-32768,32767)}function Cr(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function u_(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const Ar=(t,e,n,r)=>u_(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),t3=(t,e,n)=>u_(t,n,r=>t[r][e]>=n);function n3(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const _C=["push","pop","shift","splice","unshift"];function r3(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),_C.forEach(n=>{const r="_onData"+l_(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function ub(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(_C.forEach(s=>{delete t[s]}),delete t._chartjs)}function wC(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const xC=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function bC(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,xC.call(window,()=>{r=!1,t.apply(e,n)}))}}function i3(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const h_=t=>t==="start"?"left":t==="end"?"right":"center",Mt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,s3=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function EC(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:h,minDefined:d,maxDefined:f}=o.getUserBounds();d&&(i=vt(Math.min(Ar(a,l,c).lo,n?r:Ar(e,l,o.getPixelForValue(c)).lo),0,r-1)),f?s=vt(Math.max(Ar(a,o.axis,h,!0).hi+1,n?0:Ar(e,l,o.getPixelForValue(h),!0).hi+1),i,r)-i:s=r-i}return{start:i,count:s}}function TC(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const Wu=t=>t===0||t===1,hb=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Oe/n)),db=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Oe/n)+1,Dl={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*nt)+1,easeOutSine:t=>Math.sin(t*nt),easeInOutSine:t=>-.5*(Math.cos(Me*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Wu(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Wu(t)?t:hb(t,.075,.3),easeOutElastic:t=>Wu(t)?t:db(t,.075,.3),easeInOutElastic(t){return Wu(t)?t:t<.5?.5*hb(t*2,.1125,.45):.5+.5*db(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Dl.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Dl.easeInBounce(t*2)*.5:Dl.easeOutBounce(t*2-1)*.5+.5};function d_(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function fb(t){return d_(t)?t:new fc(t)}function Bp(t){return d_(t)?t:new fc(t).saturate(.5).darken(.1).hexString()}const o3=["x","y","borderWidth","radius","tension"],a3=["color","borderColor","backgroundColor"];function l3(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:a3},numbers:{type:"number",properties:o3}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function c3(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const pb=new Map;function u3(t,e){e=e||{};const n=t+JSON.stringify(e);let r=pb.get(n);return r||(r=new Intl.NumberFormat(t,e),pb.set(n,r)),r}function $c(t,e,n){return u3(e,n).format(t)}const SC={values(t){return je(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=h3(t,n)}const o=yi(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),$c(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(yi(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?SC.numeric.call(this,t,e,n):""}};function h3(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Pf={formatters:SC};function d3(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Pf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const $s=Object.create(null),jm=Object.create(null);function Ol(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function zp(t,e,n){return typeof e=="string"?pc(Ol(t,e),n):pc(Ol(t,""),e)}class f3{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Bp(i.backgroundColor),this.hoverBorderColor=(r,i)=>Bp(i.borderColor),this.hoverColor=(r,i)=>Bp(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return zp(this,e,n)}get(e){return Ol(this,e)}describe(e,n){return zp(jm,e,n)}override(e,n){return zp($s,e,n)}route(e,n,r,i){const s=Ol(this,e),o=Ol(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return fe(l)?Object.assign({},c,l):ae(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Fe=new f3({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[l3,c3,d3]);function p3(t){return!t||ve(t.size)||ve(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Nd(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function g3(t,e,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,h,d,f;for(l=0;l<a;l++)if(d=n[l],d!=null&&!je(d))o=Nd(t,i,s,o,d);else if(je(d))for(c=0,h=d.length;c<h;c++)f=d[c],f!=null&&!je(f)&&(o=Nd(t,i,s,o,f));t.restore();const g=s.length/2;if(g>n.length){for(l=0;l<g;l++)delete i[s[l]];s.splice(0,g)}return o}function ds(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function gb(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Fm(t,e,n,r){kC(t,e,n,r,null)}function kC(t,e,n,r,i){let s,o,a,l,c,h,d,f;const g=e.pointStyle,y=e.rotation,v=e.radius;let b=(y||0)*Q5;if(g&&typeof g=="object"&&(s=g.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(b),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),g){default:i?t.ellipse(n,r,i/2,v,0,0,Oe):t.arc(n,r,v,0,Oe),t.closePath();break;case"triangle":h=i?i/2:v,t.moveTo(n+Math.sin(b)*h,r-Math.cos(b)*v),b+=ab,t.lineTo(n+Math.sin(b)*h,r-Math.cos(b)*v),b+=ab,t.lineTo(n+Math.sin(b)*h,r-Math.cos(b)*v),t.closePath();break;case"rectRounded":c=v*.516,l=v-c,o=Math.cos(b+hs)*l,d=Math.cos(b+hs)*(i?i/2-c:l),a=Math.sin(b+hs)*l,f=Math.sin(b+hs)*(i?i/2-c:l),t.arc(n-d,r-a,c,b-Me,b-nt),t.arc(n+f,r-o,c,b-nt,b),t.arc(n+d,r+a,c,b,b+nt),t.arc(n-f,r+o,c,b+nt,b+Me),t.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*v,h=i?i/2:l,t.rect(n-h,r-l,2*h,2*l);break}b+=hs;case"rectRot":d=Math.cos(b)*(i?i/2:v),o=Math.cos(b)*v,a=Math.sin(b)*v,f=Math.sin(b)*(i?i/2:v),t.moveTo(n-d,r-a),t.lineTo(n+f,r-o),t.lineTo(n+d,r+a),t.lineTo(n-f,r+o),t.closePath();break;case"crossRot":b+=hs;case"cross":d=Math.cos(b)*(i?i/2:v),o=Math.cos(b)*v,a=Math.sin(b)*v,f=Math.sin(b)*(i?i/2:v),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"star":d=Math.cos(b)*(i?i/2:v),o=Math.cos(b)*v,a=Math.sin(b)*v,f=Math.sin(b)*(i?i/2:v),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o),b+=hs,d=Math.cos(b)*(i?i/2:v),o=Math.cos(b)*v,a=Math.sin(b)*v,f=Math.sin(b)*(i?i/2:v),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"line":o=i?i/2:Math.cos(b)*v,a=Math.sin(b)*v,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(b)*(i?i/2:v),r+Math.sin(b)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Pr(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Rf(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Nf(t){t.restore()}function m3(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function y3(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function v3(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ve(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function _3(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,h=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,h),t.lineTo(a,h),t.stroke()}}function w3(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ws(t,e,n,r,i,s={}){const o=je(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,v3(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&w3(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),ve(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),_3(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function yc(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Me,Me,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,Me,nt,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,nt,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-nt,!0),t.lineTo(n+o.topLeft,r)}const x3=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,b3=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function E3(t,e){const n=(""+t).match(x3);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const T3=t=>+t||0;function f_(t,e){const n={},r=fe(e),i=r?Object.keys(e):e,s=fe(t)?r?o=>ae(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=T3(s(o));return n}function IC(t){return f_(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Rs(t){return f_(t,["topLeft","topRight","bottomLeft","bottomRight"])}function zt(t){const e=IC(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ut(t,e){t=t||{},e=e||Fe.font;let n=ae(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=ae(t.style,e.style);r&&!(""+r).match(b3)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:ae(t.family,e.family),lineHeight:E3(ae(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:ae(t.weight,e.weight),string:""};return i.string=p3(i),i}function hl(t,e,n,r){let i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function S3(t,e,n){const{min:r,max:i}=t,s=gC(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Ji(t,e){return Object.assign(Object.create(t),e)}function p_(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=RC("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>p_([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return AC(a,l,()=>D3(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return yb(a).includes(l)},ownKeys(a){return yb(a)},set(a,l,c){const h=a._storage||(a._storage=i());return a[l]=h[l]=c,delete a._keys,!0}})}function oa(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:CC(t,r),setContext:s=>oa(t,s,n,r),override:s=>oa(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return AC(s,o,()=>I3(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function CC(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:zi(n)?n:()=>n,isIndexable:zi(r)?r:()=>r}}const k3=(t,e)=>t?t+l_(e):e,g_=(t,e)=>fe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function AC(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function I3(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return zi(a)&&o.isScriptable(e)&&(a=C3(e,a,t,n)),je(a)&&a.length&&(a=A3(e,a,t,o.isIndexable)),g_(e,a)&&(a=oa(a,i,s&&s[e],o)),a}function C3(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),g_(t,l)&&(l=m_(i._scopes,i,t,l)),l}function A3(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(fe(e[0])){const l=e,c=i._scopes.filter(h=>h!==l);e=[];for(const h of l){const d=m_(c,i,t,h);e.push(oa(d,s,o&&o[t],a))}}return e}function PC(t,e,n){return zi(t)?t(e,n):t}const P3=(t,e)=>t===!0?e:typeof t=="string"?Bi(e,t):void 0;function R3(t,e,n,r,i){for(const s of e){const o=P3(n,s);if(o){t.add(o);const a=PC(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function m_(t,e,n,r){const i=e._rootScopes,s=PC(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=mb(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=mb(a,o,s,l,r),l===null)?!1:p_(Array.from(a),[""],i,s,()=>N3(e,n,r))}function mb(t,e,n,r,i){for(;n;)n=R3(t,e,n,r,i);return n}function N3(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return je(i)&&fe(n)?n:i||{}}function D3(t,e,n,r){let i;for(const s of e)if(i=RC(k3(s,t),n),typeof i<"u")return g_(t,i)?m_(n,r,t,i):i}function RC(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function yb(t){let e=t._keys;return e||(e=t._keys=O3(t._scopes)),e}function O3(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function NC(t,e,n,r){const{iScale:i}=t,{key:s="r"}=this._parsing,o=new Array(r);let a,l,c,h;for(a=0,l=r;a<l;++a)c=a+n,h=e[c],o[a]={r:i.parse(Bi(h,s),c)};return o}const M3=Number.EPSILON||1e-14,aa=(t,e)=>e<t.length&&!t[e].skip&&t[e],DC=t=>t==="x"?"y":"x";function L3(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=Vm(s,i),l=Vm(o,s);let c=a/(a+l),h=l/(a+l);c=isNaN(c)?0:c,h=isNaN(h)?0:h;const d=r*c,f=r*h;return{previous:{x:s.x-d*(o.x-i.x),y:s.y-d*(o.y-i.y)},next:{x:s.x+f*(o.x-i.x),y:s.y+f*(o.y-i.y)}}}function V3(t,e,n){const r=t.length;let i,s,o,a,l,c=aa(t,0);for(let h=0;h<r-1;++h)if(l=c,c=aa(t,h+1),!(!l||!c)){if(Nl(e[h],0,M3)){n[h]=n[h+1]=0;continue}i=n[h]/e[h],s=n[h+1]/e[h],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[h]=i*o*e[h],n[h+1]=s*o*e[h])}}function j3(t,e,n="x"){const r=DC(n),i=t.length;let s,o,a,l=aa(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=aa(t,c+1),!a)continue;const h=a[n],d=a[r];o&&(s=(h-o[n])/3,a[`cp1${n}`]=h-s,a[`cp1${r}`]=d-s*e[c]),l&&(s=(l[n]-h)/3,a[`cp2${n}`]=h+s,a[`cp2${r}`]=d+s*e[c])}}function F3(t,e="x"){const n=DC(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=aa(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=aa(t,o+1),!!l){if(c){const h=c[e]-l[e];i[o]=h!==0?(c[n]-l[n])/h:0}s[o]=a?c?lr(i[o-1])!==lr(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}V3(t,i,s),j3(t,s,e)}function Hu(t,e,n){return Math.max(Math.min(t,n),e)}function U3(t,e){let n,r,i,s,o,a=Pr(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&Pr(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=Hu(i.cp1x,e.left,e.right),i.cp1y=Hu(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Hu(i.cp2x,e.left,e.right),i.cp2y=Hu(i.cp2y,e.top,e.bottom)))}function B3(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")F3(t,i);else{let c=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=L3(c,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&U3(t,n)}function y_(){return typeof window<"u"&&typeof document<"u"}function v_(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Dd(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Df=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function z3(t,e){return Df(t).getPropertyValue(e)}const $3=["top","right","bottom","left"];function Ns(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=$3[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const W3=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function H3(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(W3(i,s,t.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function vs(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Df(n),s=i.boxSizing==="border-box",o=Ns(i,"padding"),a=Ns(i,"border","width"),{x:l,y:c,box:h}=H3(t,n),d=o.left+(h&&a.left),f=o.top+(h&&a.top);let{width:g,height:y}=e;return s&&(g-=o.width+a.width,y-=o.height+a.height),{x:Math.round((l-d)/g*n.width/r),y:Math.round((c-f)/y*n.height/r)}}function q3(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&v_(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=Df(s),l=Ns(a,"border","width"),c=Ns(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=Dd(a.maxWidth,s,"clientWidth"),i=Dd(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||Rd,maxHeight:i||Rd}}const qu=t=>Math.round(t*10)/10;function G3(t,e,n,r){const i=Df(t),s=Ns(i,"margin"),o=Dd(i.maxWidth,t,"clientWidth")||Rd,a=Dd(i.maxHeight,t,"clientHeight")||Rd,l=q3(t,e,n);let{width:c,height:h}=l;if(i.boxSizing==="content-box"){const f=Ns(i,"border","width"),g=Ns(i,"padding");c-=g.width+f.width,h-=g.height+f.height}return c=Math.max(0,c-s.width),h=Math.max(0,r?c/r:h-s.height),c=qu(Math.min(c,o,l.maxWidth)),h=qu(Math.min(h,a,l.maxHeight)),c&&!h&&(h=qu(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&h>l.height&&(h=l.height,c=qu(Math.floor(h*r))),{width:c,height:h}}function vb(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const K3=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};y_()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function _b(t,e){const n=z3(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function _s(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Y3(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function Q3(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=_s(t,i,n),a=_s(i,s,n),l=_s(s,e,n),c=_s(o,a,n),h=_s(a,l,n);return _s(c,h,n)}const X3=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},J3=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Bo(t,e,n){return t?X3(e,n):J3()}function OC(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function MC(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function LC(t){return t==="angle"?{between:mc,compare:Z5,normalize:dn}:{between:Cr,compare:(e,n)=>e-n,normalize:e=>e}}function wb({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function Z3(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=LC(r),l=e.length;let{start:c,end:h,loop:d}=t,f,g;if(d){for(c+=l,h+=l,f=0,g=l;f<g&&o(a(e[c%l][r]),i,s);++f)c--,h--;c%=l,h%=l}return h<c&&(h+=l),{start:c,end:h,loop:d,style:t.style}}function VC(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=LC(r),{start:h,end:d,loop:f,style:g}=Z3(t,e,n),y=[];let v=!1,b=null,w,_,T;const I=()=>l(i,T,w)&&a(i,T)!==0,N=()=>a(s,w)===0||l(s,T,w),O=()=>v||I(),S=()=>!v||N();for(let E=h,k=h;E<=d;++E)_=e[E%o],!_.skip&&(w=c(_[r]),w!==T&&(v=l(w,i,s),b===null&&O()&&(b=a(w,i)===0?E:k),b!==null&&S()&&(y.push(wb({start:b,end:E,loop:f,count:o,style:g})),b=null),k=E,T=w));return b!==null&&y.push(wb({start:b,end:d,loop:f,count:o,style:g})),y}function jC(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=VC(r[i],t.points,e);s.length&&n.push(...s)}return n}function eU(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function tU(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function nU(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=eU(n,i,s,r);if(r===!0)return xb(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return xb(t,tU(n,o,l,c),n,e)}function xb(t,e,n,r){return!r||!r.setContext||!n?e:rU(t,e,n,r)}function rU(t,e,n,r){const i=t._chart.getContext(),s=bb(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let h=s,d=e[0].start,f=d;function g(y,v,b,w){const _=a?-1:1;if(y!==v){for(y+=l;n[y%l].skip;)y-=_;for(;n[v%l].skip;)v+=_;y%l!==v%l&&(c.push({start:y%l,end:v%l,loop:b,style:w}),h=w,d=v%l)}}for(const y of e){d=a?d:y.start;let v=n[d%l],b;for(f=d+1;f<=y.end;f++){const w=n[f%l];b=bb(r.setContext(Ji(i,{type:"segment",p0:v,p1:w,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),iU(b,h)&&g(d,f-1,y.loop,h),v=w,h=b}d<f-1&&g(d,f-1,y.loop,h)}return c}function bb(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function iU(t,e){if(!e)return!1;const n=[],r=function(i,s){return d_(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class sU{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=xC.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var vr=new sU;const Eb="transparent",oU={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=fb(t||Eb),i=r.valid&&fb(e||Eb);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class aU{constructor(e,n,r,i){const s=n[r];i=hl([e.to,i,s,e.from]);const o=hl([e.from,s,i]);this._active=!0,this._fn=e.fn||oU[e.type||typeof o],this._easing=Dl[e.easing]||Dl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=hl([e.to,n,i,e.from]),this._from=hl([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class FC{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!fe(e))return;const n=Object.keys(Fe.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!fe(s))return;const o={};for(const a of n)o[a]=s[a];(je(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=cU(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&lU(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const h=n[c];let d=s[c];const f=r.get(c);if(d)if(f&&d.active()){d.update(f,h,a);continue}else d.cancel();if(!f||!f.duration){e[c]=h;continue}s[c]=d=new aU(f,e,c,h),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return vr.add(this._chart,r),!0}}function lU(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function cU(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Tb(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function uU(t,e,n){if(n===!1)return!1;const r=Tb(t,n),i=Tb(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function hU(t){let e,n,r,i;return fe(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function UC(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function Sb(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,c;if(e===null)return;let h=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(h=!0,r.all)continue;break}c=t.values[l],Qe(c)&&(s||e===0||lr(e)===lr(c))&&(e+=c)}return!h&&!r.all?0:e}function dU(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,h;for(l=0,c=o.length;l<c;++l)h=o[l],a[l]={[i]:h,[s]:t[h]};return a}function $p(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function fU(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function pU(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function gU(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function kb(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function Ib(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,h=fU(s,o,r),d=e.length;let f;for(let g=0;g<d;++g){const y=e[g],{[l]:v,[c]:b}=y,w=y._stacks||(y._stacks={});f=w[c]=gU(i,h,v),f[a]=b,f._top=kb(f,o,!0,r.type),f._bottom=kb(f,o,!1,r.type);const _=f._visualValues||(f._visualValues={});_[a]=b}}function Wp(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function mU(t,e){return Ji(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function yU(t,e,n){return Ji(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Qa(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const Hp=t=>t==="reset"||t==="none",Cb=(t,e)=>e?t:Object.assign({},t),vU=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:UC(n,!0),values:null};class $n{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=$p(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Qa(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(d,f,g,y)=>d==="x"?f:d==="r"?y:g,s=n.xAxisID=ae(r.xAxisID,Wp(e,"x")),o=n.yAxisID=ae(r.yAxisID,Wp(e,"y")),a=n.rAxisID=ae(r.rAxisID,Wp(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),h=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ub(this._data,this),e._stacked&&Qa(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(fe(n)){const i=this._cachedMeta;this._data=dU(n,i)}else if(r!==n){if(r){ub(r,this);const i=this._cachedMeta;Qa(i),i._parsed=[]}n&&Object.isExtensible(n)&&r3(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=$p(n.vScale,n),n.stack!==r.stack&&(i=!0,Qa(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(Ib(this,n._parsed),n._stacked=$p(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],h,d,f;if(this._parsing===!1)r._parsed=i,r._sorted=!0,f=i;else{je(i[e])?f=this.parseArrayData(r,i,e,n):fe(i[e])?f=this.parseObjectData(r,i,e,n):f=this.parsePrimitiveData(r,i,e,n);const g=()=>d[a]===null||c&&d[a]<c[a];for(h=0;h<n;++h)r._parsed[h+e]=d=f[h],l&&(g()&&(l=!1),c=d);r._sorted=l}o&&Ib(this,f)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),h=s===o,d=new Array(i);let f,g,y;for(f=0,g=i;f<g;++f)y=f+r,d[f]={[a]:h||s.parse(c[y],y),[l]:o.parse(n[y],y)};return d}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,h,d;for(l=0,c=i;l<c;++l)h=l+r,d=n[h],a[l]={x:s.parse(d[0],h),y:o.parse(d[1],h)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let h,d,f,g;for(h=0,d=i;h<d;++h)f=h+r,g=n[f],c[h]={x:s.parse(Bi(g,a),f),y:o.parse(Bi(g,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:UC(i,!0),values:n._stacks[e.axis]._visualValues};return Sb(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=Sb(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=vU(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:d}=pU(a);let f,g;function y(){g=i[f];const v=g[a.axis];return!Qe(g[e.axis])||h>v||d<v}for(f=0;f<o&&!(!y()&&(this.updateRangeFromParsed(c,e,g,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!y()){this.updateRangeFromParsed(c,e,g,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],Qe(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=hU(ae(this.options.clip,uU(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let h;for(r.dataset&&r.dataset.draw(e,s,a,l),h=a;h<a+l;++h){const d=i[h];d.hidden||(d.active&&c?o.push(d):d.draw(e,s))}for(h=0;h<o.length;++h)o[h].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=yU(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=mU(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&gc(r);if(a)return Cb(a,l);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),h),g=Object.keys(Fe.elements[e]),y=()=>this.getContext(r,i,n),v=c.resolveNamedOptions(f,g,y,d);return v.$shared&&(v.$shared=l,s[o]=Object.freeze(Cb(v,l))),v}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const h=this.chart.config,d=h.datasetAnimationScopeKeys(this._type,n),f=h.getOptionScopes(this.getDataset(),d);l=h.createResolver(f,this.getContext(e,r,n))}const c=new FC(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Hp(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){Hp(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!Hp(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&Qa(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}$($n,"defaults",{}),$($n,"datasetElementType",null),$($n,"dataElementType",null);function _U(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=wC(r.sort((i,s)=>i-s))}return t._cache.$bar}function wU(t){const e=t.iScale,n=_U(e,t.type);let r=e._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(gc(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),l();return r}function xU(t,e,n,r){const i=n.barThickness;let s,o;return ve(i)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[t]-s/2}}function bU(t,e,n,r){const i=e.pixels,s=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}function EU(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}function BC(t,e,n,r){return je(t)?EU(t,e,n,r):e[n.axis]=n.parse(t,r),e}function Ab(t,e,n,r){const i=t.iScale,s=t.vScale,o=i.getLabels(),a=i===s,l=[];let c,h,d,f;for(c=n,h=n+r;c<h;++c)f=e[c],d={},d[i.axis]=a||i.parse(o[c],c),l.push(BC(f,d,s,c));return l}function qp(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function TU(t,e,n){return t!==0?lr(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function SU(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function kU(t,e,n,r){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:h}=SU(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=h:(s[Pb(h,o,a,l)]=!0,i=c)),s[Pb(i,o,a,l)]=!0,t.borderSkipped=s}function Pb(t,e,n,r){return r?(t=IU(t,e,n),t=Rb(t,n,e)):t=Rb(t,e,n),t}function IU(t,e,n){return t===e?n:t===n?e:t}function Rb(t,e,n){return t==="start"?e:t==="end"?n:t}function CU(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Ml extends $n{parsePrimitiveData(e,n,r,i){return Ab(e,n,r,i)}parseArrayData(e,n,r,i){return Ab(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,h=o.axis==="x"?a:l,d=[];let f,g,y,v;for(f=r,g=r+i;f<g;++f)v=n[f],y={},y[s.axis]=s.parse(Bi(v,c),f),d.push(BC(Bi(v,h),y,o,f));return d}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(e),o=s._custom,a=qp(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),h=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,i);for(let g=n;g<n+r;g++){const y=this.getParsed(g),v=s||ve(y[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),b=this._calculateBarIndexPixels(g,h),w=(y._stacks||{})[a.axis],_={horizontal:c,base:v.base,enableBorderRadius:!w||qp(y._custom)||o===w._top||o===w._bottom,x:c?v.head:b.center,y:c?b.center:v.head,height:c?b.size:Math.abs(v.size),width:c?Math.abs(v.size):b.size};f&&(_.options=d||this.resolveDataElementOptions(g,e[g].active?"active":i));const T=_.options||e[g].options;kU(_,T,w,o),CU(_,T,h.ratio),this.updateElement(e[g],g,_,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],c=h=>{const d=h._parsed.find(g=>g[r.axis]===l),f=d&&d[h.vScale.axis];if(ve(f)||isNaN(f))return!0};for(const h of i)if(!(n!==void 0&&c(h))&&((s===!1||o.indexOf(h.stack)===-1||s===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const i=this._getStacks(e,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=e.barThickness;return{min:a||wU(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,h=qp(c);let d=l[n.axis],f=0,g=r?this.applyStack(n,l,r):d,y,v;g!==d&&(f=g-d,g=d),h&&(d=c.barStart,g=c.barEnd-c.barStart,d!==0&&lr(d)!==lr(c.barEnd)&&(f=0),f+=d);const b=!ve(s)&&!h?s:f;let w=n.getPixelForValue(b);if(this.chart.getDataVisibility(e)?y=n.getPixelForValue(f+g):y=w,v=y-w,Math.abs(v)<o){v=TU(v,n,a)*o,d===a&&(w-=v/2);const _=n.getPixelForDecimal(0),T=n.getPixelForDecimal(1),I=Math.min(_,T),N=Math.max(_,T);w=Math.max(Math.min(w,N),I),y=w+v,r&&!h&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(y)-n.getValueForPixel(w))}if(w===n.getPixelForValue(a)){const _=lr(v)*n.getLineWidthForValue(a)/2;w+=_,v-=_}return{size:v,base:w,head:y,center:y+v/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,s=i.skipNull,o=ae(i.maxBarThickness,1/0);let a,l;if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,h=i.barThickness==="flex"?bU(e,n,i,c):xU(e,n,i,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=h.start+h.chunk*d+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}$(Ml,"id","bar"),$(Ml,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),$(Ml,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class kh extends $n{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,i){const s=super.parsePrimitiveData(e,n,r,i);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+r).radius;return s}parseArrayData(e,n,r,i){const s=super.parseArrayData(e,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=ae(a[2],this.resolveDataElementOptions(o+r).radius)}return s}parseObjectData(e,n,r,i){const s=super.parseObjectData(e,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=ae(a&&a.r&&+a.r,this.resolveDataElementOptions(o+r).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(e),a=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y),c=o._custom;return{label:r[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,i),h=o.axis,d=a.axis;for(let f=n;f<n+r;f++){const g=e[f],y=!s&&this.getParsed(f),v={},b=v[h]=s?o.getPixelForDecimal(.5):o.getPixelForValue(y[h]),w=v[d]=s?a.getBasePixel():a.getPixelForValue(y[d]);v.skip=isNaN(b)||isNaN(w),c&&(v.options=l||this.resolveDataElementOptions(f,g.active?"active":i),s&&(v.options.radius=0)),this.updateElement(g,f,v,i)}}resolveDataElementOptions(e,n){const r=this.getParsed(e);let i=super.resolveDataElementOptions(e,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return n!=="active"&&(i.radius=0),i.radius+=ae(r&&r._custom,s),i}}$(kh,"id","bubble"),$(kh,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),$(kh,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function AU(t,e,n){let r=1,i=1,s=0,o=0;if(e<Oe){const a=t,l=a+e,c=Math.cos(a),h=Math.sin(a),d=Math.cos(l),f=Math.sin(l),g=(T,I,N)=>mc(T,a,l,!0)?1:Math.max(I,I*n,N,N*n),y=(T,I,N)=>mc(T,a,l,!0)?-1:Math.min(I,I*n,N,N*n),v=g(0,c,d),b=g(nt,h,f),w=y(Me,c,d),_=y(Me+nt,h,f);r=(v-w)/2,i=(b-_)/2,s=-(v+w)/2,o=-(b+_)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class Ts extends $n{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(fe(r[e])){const{key:l="value"}=this._parsing;s=c=>+Bi(r[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return Fn(this.options.rotation-90)}_getCircumference(){return Fn(this.options.circumference)}_getRotationExtents(){let e=Oe,n=-Oe;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min($5(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:y,offsetY:v}=AU(d,h,l),b=(r.width-o)/f,w=(r.height-o)/g,_=Math.max(Math.min(b,w)/2,0),T=gC(this.options.radius,_),I=Math.max(T*l,0),N=(T-I)/this._getVisibleDatasetWeightTotal();this.offsetX=y*T,this.offsetY=v*T,i.total=this.calculateTotal(),this.outerRadius=T-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Oe)}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,h=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=s&&c.animateScale,g=f?0:this.innerRadius,y=f?0:this.outerRadius,{sharedOptions:v,includeOptions:b}=this._getSharedOptions(n,i);let w=this._getRotation(),_;for(_=0;_<n;++_)w+=this._circumference(_,s);for(_=n;_<n+r;++_){const T=this._circumference(_,s),I=e[_],N={x:h+this.offsetX,y:d+this.offsetY,startAngle:w,endAngle:w+T,circumference:T,outerRadius:y,innerRadius:g};b&&(N.options=v||this.resolveDataElementOptions(_,I.active?"active":i)),w+=T,this.updateElement(I,_,N,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Oe*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=$c(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(ae(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}$(Ts,"id","doughnut"),$(Ts,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),$(Ts,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),$(Ts,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Ih extends $n{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=EC(n,i,o);this._drawStart=a,this._drawCount=l,TC(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,i),f=o.axis,g=a.axis,{spanGaps:y,segment:v}=this.options,b=sa(y)?y:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||s||i==="none",_=n+r,T=e.length;let I=n>0&&this.getParsed(n-1);for(let N=0;N<T;++N){const O=e[N],S=w?O:{};if(N<n||N>=_){S.skip=!0;continue}const E=this.getParsed(N),k=ve(E[g]),A=S[f]=o.getPixelForValue(E[f],N),R=S[g]=s||k?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,E,l):E[g],N);S.skip=isNaN(A)||isNaN(R)||k,S.stop=N>0&&Math.abs(E[f]-I[f])>b,v&&(S.parsed=E,S.raw=c.data[N]),d&&(S.options=h||this.resolveDataElementOptions(N,O.active?"active":i)),w||this.updateElement(O,N,S,i),I=E}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}$(Ih,"id","line"),$(Ih,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),$(Ih,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Ll extends $n{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=$c(n._parsed[e].r,r.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,n,r,i){return NC.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,r=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(i/2,0),o=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),a=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,h=c.xCenter,d=c.yCenter,f=c.getIndexAngle(0)-.5*Me;let g=f,y;const v=360/this.countVisibleElements();for(y=0;y<n;++y)g+=this._computeAngle(y,i,v);for(y=n;y<n+r;y++){const b=e[y];let w=g,_=g+this._computeAngle(y,i,v),T=o.getDataVisibility(y)?c.getDistanceFromCenterForValue(this.getParsed(y).r):0;g=_,s&&(l.animateScale&&(T=0),l.animateRotate&&(w=_=f));const I={x:h,y:d,innerRadius:0,outerRadius:T,startAngle:w,endAngle:_,options:this.resolveDataElementOptions(y,b.active?"active":i)};this.updateElement(b,y,I,i)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?Fn(this.resolveDataElementOptions(e,n).angle||r):0}}$(Ll,"id","polarArea"),$(Ll,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),$(Ll,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Um extends Ts{}$(Um,"id","pie"),$(Um,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ch extends $n{getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,i){return NC.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,n,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+r;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":i),h=s.getPointPositionForValue(a,this.getParsed(a).r),d=o?s.xCenter:h.x,f=o?s.yCenter:h.y,g={x:d,y:f,angle:h.angle,skip:isNaN(d)||isNaN(f),options:c};this.updateElement(l,a,g,i)}}}$(Ch,"id","radar"),$(Ch,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),$(Ch,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Ah extends $n{getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(e),a=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:r[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:s,count:o}=EC(n,r,i);if(this._drawStart=s,this._drawCount=o,TC(n)&&(s=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=r;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,h=this.resolveDataElementOptions(n,i),d=this.getSharedOptions(h),f=this.includeOptions(i,d),g=o.axis,y=a.axis,{spanGaps:v,segment:b}=this.options,w=sa(v)?v:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||s||i==="none";let T=n>0&&this.getParsed(n-1);for(let I=n;I<n+r;++I){const N=e[I],O=this.getParsed(I),S=_?N:{},E=ve(O[y]),k=S[g]=o.getPixelForValue(O[g],I),A=S[y]=s||E?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,O,l):O[y],I);S.skip=isNaN(k)||isNaN(A)||E,S.stop=I>0&&Math.abs(O[g]-T[g])>w,b&&(S.parsed=O,S.raw=c.data[I]),f&&(S.options=d||this.resolveDataElementOptions(I,N.active?"active":i)),_||this.updateElement(N,I,S,i),T=O}this.updateSharedOptions(d,i,h)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const r=e.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,o)/2}}$(Ah,"id","scatter"),$(Ah,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),$(Ah,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var PU=Object.freeze({__proto__:null,BarController:Ml,BubbleController:kh,DoughnutController:Ts,LineController:Ih,PieController:Um,PolarAreaController:Ll,RadarController:Ch,ScatterController:Ah});function fs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class __{constructor(e){$(this,"options");this.options=e||{}}static override(e){Object.assign(__.prototype,e)}init(){}formats(){return fs()}parse(){return fs()}format(){return fs()}add(){return fs()}diff(){return fs()}startOf(){return fs()}endOf(){return fs()}}var RU={_date:__};function NU(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?t3:Ar;if(r){if(i._sharedOptions){const c=s[0],h=typeof c.getRange=="function"&&c.getRange(e);if(h){const d=l(s,e,n-h),f=l(s,e,n+h);return{lo:d.lo,hi:f.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function Wc(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:h}=s[a],{lo:d,hi:f}=NU(s[a],e,o,i);for(let g=d;g<=f;++g){const y=h[g];y.skip||r(y,c,g)}}}function DU(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Gp(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||Wc(t,n,e,function(a,l,c){!i&&!Pr(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function OU(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:h}=o.getProps(["startAngle","endAngle"],r),{angle:d}=vC(o,{x:e.x,y:e.y});mc(d,c,h)&&i.push({element:o,datasetIndex:a,index:l})}return Wc(t,n,e,s),i}function MU(t,e,n,r,i,s){let o=[];const a=DU(n);let l=Number.POSITIVE_INFINITY;function c(h,d,f){const g=h.inRange(e.x,e.y,i);if(r&&!g)return;const y=h.getCenterPoint(i);if(!(!!s||t.isPointInArea(y))&&!g)return;const b=a(e,y);b<l?(o=[{element:h,datasetIndex:d,index:f}],l=b):b===l&&o.push({element:h,datasetIndex:d,index:f})}return Wc(t,n,e,c),o}function Kp(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?OU(t,e,n,i):MU(t,e,n,r,i,s)}function Nb(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Wc(t,n,e,(l,c,h)=>{l[o]&&l[o](e[n],i)&&(s.push({element:l,datasetIndex:c,index:h}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var LU={evaluateInteractionItems:Wc,modes:{index(t,e,n,r){const i=vs(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Gp(t,i,s,r,o):Kp(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const h=a[0].index,d=c.data[h];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:h})}),l):[]},dataset(t,e,n,r){const i=vs(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Gp(t,i,s,r,o):Kp(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let h=0;h<c.length;++h)a.push({element:c[h],datasetIndex:l,index:h})}return a},point(t,e,n,r){const i=vs(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Gp(t,i,s,r,o)},nearest(t,e,n,r){const i=vs(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Kp(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=vs(e,t);return Nb(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=vs(e,t);return Nb(t,i,"y",n.intersect,r)}}};const zC=["left","top","right","bottom"];function Xa(t,e){return t.filter(n=>n.pos===e)}function Db(t,e){return t.filter(n=>zC.indexOf(n.pos)===-1&&n.box.axis===e)}function Ja(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function VU(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function jU(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!zC.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function FU(t,e){const n=jU(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],h=c&&a.stackWeight/c.weight;a.horizontal?(a.width=h?h*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=h?h*i:l&&e.availableHeight)}return n}function UU(t){const e=VU(t),n=Ja(e.filter(c=>c.box.fullSize),!0),r=Ja(Xa(e,"left"),!0),i=Ja(Xa(e,"right")),s=Ja(Xa(e,"top"),!0),o=Ja(Xa(e,"bottom")),a=Db(e,"x"),l=Db(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Xa(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function Ob(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function $C(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function BU(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!fe(i)){n.size&&(t[i]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[i]+=n.size}s.getPadding&&$C(o,s.getPadding());const a=Math.max(0,e.outerWidth-Ob(o,t,"left","right")),l=Math.max(0,e.outerHeight-Ob(o,t,"top","bottom")),c=a!==t.w,h=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:h}:{same:h,other:c}}function zU(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function $U(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function dl(t,e,n,r){const i=[];let s,o,a,l,c,h;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,$U(a.horizontal,e));const{same:d,other:f}=BU(e,n,a,r);c|=d&&i.length,h=h||f,l.fullSize||i.push(a)}return c&&dl(i,e,n,r)||h}function Gu(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function Mb(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*h,f=c.size||l.height;gc(c.start)&&(o=c.start),l.fullSize?Gu(l,i.left,o,n.outerWidth-i.right-i.left,f):Gu(l,e.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*h,f=c.size||l.width;gc(c.start)&&(s=c.start),l.fullSize?Gu(l,s,i.top,f,n.outerHeight-i.bottom-i.top):Gu(l,s,e.top+c.placed,f,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=o}var Ft={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=zt(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=UU(t.boxes),l=a.vertical,c=a.horizontal;Te(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const h=l.reduce((v,b)=>b.box.options&&b.box.options.display===!1?v:v+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/h,hBoxMaxHeight:o/2}),f=Object.assign({},i);$C(f,zt(r));const g=Object.assign({maxPadding:f,w:s,h:o,x:i.left,y:i.top},i),y=FU(l.concat(c),d);dl(a.fullSize,g,d,y),dl(l,g,d,y),dl(c,g,d,y)&&dl(l,g,d,y),zU(g),Mb(a.leftAndTop,g,d,y),g.x+=g.w,g.y+=g.h,Mb(a.rightAndBottom,g,d,y),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Te(a.chartArea,v=>{const b=v.box;Object.assign(b,t.chartArea),b.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class WC{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class WU extends WC{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ph="$chartjs",HU={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Lb=t=>t===null||t==="";function qU(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Ph]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Lb(i)){const s=_b(t,"width");s!==void 0&&(t.width=s)}if(Lb(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=_b(t,"height");s!==void 0&&(t.height=s)}return t}const HC=K3?{passive:!0}:!1;function GU(t,e,n){t&&t.addEventListener(e,n,HC)}function KU(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,HC)}function YU(t,e){const n=HU[t.type]||t.type,{x:r,y:i}=vs(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Od(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function QU(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Od(a.addedNodes,r),o=o&&!Od(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function XU(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Od(a.removedNodes,r),o=o&&!Od(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const vc=new Map;let Vb=0;function qC(){const t=window.devicePixelRatio;t!==Vb&&(Vb=t,vc.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function JU(t,e){vc.size||window.addEventListener("resize",qC),vc.set(t,e)}function ZU(t){vc.delete(t),vc.size||window.removeEventListener("resize",qC)}function eB(t,e,n){const r=t.canvas,i=r&&v_(r);if(!i)return;const s=bC((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||s(c,h)});return o.observe(i),JU(t,s),o}function Yp(t,e,n){n&&n.disconnect(),e==="resize"&&ZU(t)}function tB(t,e,n){const r=t.canvas,i=bC(s=>{t.ctx!==null&&n(YU(s,t))},t);return GU(r,e,i),i}class nB extends WC{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(qU(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Ph])return!1;const r=n[Ph].initial;["height","width"].forEach(s=>{const o=r[s];ve(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Ph],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:QU,detach:XU,resize:eB}[n]||tB;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:Yp,detach:Yp,resize:Yp}[n]||KU)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return G3(e,n,r,i)}isAttached(e){const n=e&&v_(e);return!!(n&&n.isConnected)}}function rB(t){return!y_()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?WU:nB}class Hn{constructor(){$(this,"x");$(this,"y");$(this,"active",!1);$(this,"options");$(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return sa(this.x)&&sa(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}$(Hn,"defaults",{}),$(Hn,"defaultRoutes");function iB(t,e){const n=t.options.ticks,r=sB(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?aB(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return lB(e,c,s,o/i),c;const h=oB(s,e,i);if(o>0){let d,f;const g=o>1?Math.round((l-a)/(o-1)):null;for(Ku(e,c,h,ve(g)?0:a-g,a),d=0,f=o-1;d<f;d++)Ku(e,c,h,s[d],s[d+1]);return Ku(e,c,h,l,ve(g)?e.length:l+g),c}return Ku(e,c,h),c}function sB(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function oB(t,e,n){const r=cB(t),i=e.length/n;if(!r)return Math.max(i,1);const s=X5(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function aB(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function lB(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function Ku(t,e,n,r,i){const s=ae(r,0),o=Math.min(ae(i,t.length),t.length);let a=0,l,c,h;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),h=s;h<0;)a++,h=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===h&&(e.push(t[c]),a++,h=Math.round(s+a*n))}function cB(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const uB=t=>t==="left"?"right":t==="right"?"left":t,jb=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Fb=(t,e)=>Math.min(e||t,t);function Ub(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function hB(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function dB(t,e){Te(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Za(t){return t.drawTicks?t.tickLength:0}function Bb(t,e){if(!t.display)return 0;const n=ut(t.font,e),r=zt(t.padding);return(je(t.text)?t.text.length:1)*n.lineHeight+r.height}function fB(t,e){return Ji(t,{scale:e,type:"scale"})}function pB(t,e,n){return Ji(t,{tick:n,index:e,type:"tick"})}function gB(t,e,n){let r=h_(t);return(n&&e!=="right"||!n&&e==="right")&&(r=uB(r)),r}function mB(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:h}=l;let d=0,f,g,y;const v=o-i,b=a-s;if(t.isHorizontal()){if(g=Mt(r,s,a),fe(n)){const w=Object.keys(n)[0],_=n[w];y=h[w].getPixelForValue(_)+v-e}else n==="center"?y=(c.bottom+c.top)/2+v-e:y=jb(t,n,e);f=a-s}else{if(fe(n)){const w=Object.keys(n)[0],_=n[w];g=h[w].getPixelForValue(_)-b+e}else n==="center"?g=(c.left+c.right)/2-b+e:g=jb(t,n,e);y=Mt(r,o,i),d=n==="left"?-nt:nt}return{titleX:g,titleY:y,maxWidth:f,rotation:d}}class Js extends Hn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=un(e,Number.POSITIVE_INFINITY),n=un(n,Number.NEGATIVE_INFINITY),r=un(r,Number.POSITIVE_INFINITY),i=un(i,Number.NEGATIVE_INFINITY),{min:un(e,r),max:un(n,i),minDefined:Qe(e),maxDefined:Qe(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:un(n,un(r,n)),max:un(r,un(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ae(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=S3(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Ub(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=iB(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ae(this.options.afterUpdate,[this])}beforeSetDimensions(){Ae(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ae(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ae(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ae(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Ae(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Ae(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ae(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=Fb(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const h=this._getLabelSizes(),d=h.widest.width,f=h.highest.height,g=vt(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:g/(r-1),d+6>a&&(a=g/(r-(e.offset?.5:1)),l=this.maxHeight-Za(e.grid)-n.padding-Bb(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=c_(Math.min(Math.asin(vt((h.highest.height+6)/a,-1,1)),Math.asin(vt(l/c,-1,1))-Math.asin(vt(f/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ae(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ae(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Bb(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=Za(s)+l):(e.height=this.maxHeight,e.width=Za(s)+l),r.display&&this.ticks.length){const{first:c,last:h,widest:d,highest:f}=this._getLabelSizes(),g=r.padding*2,y=Fn(this.labelRotation),v=Math.cos(y),b=Math.sin(y);if(a){const w=r.mirror?0:b*d.width+v*f.height;e.height=Math.min(this.maxHeight,e.height+w+g)}else{const w=r.mirror?0:v*d.width+b*f.height;e.width=Math.min(this.maxWidth,e.width+w+g)}this._calculatePadding(c,h,b,v)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;l?c?(f=i*e.width,g=r*n.height):(f=r*e.height,g=i*n.width):s==="start"?g=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,g=n.width/2),this.paddingLeft=Math.max((f-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-d+o)*this.width/(this.width-d),0)}else{let h=n.height/2,d=e.height/2;s==="start"?(h=0,d=e.height):s==="end"&&(h=n.height,d=0),this.paddingTop=h+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ae(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)ve(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Ub(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/Fb(n,r));let c=0,h=0,d,f,g,y,v,b,w,_,T,I,N;for(d=0;d<n;d+=l){if(y=e[d].label,v=this._resolveTickFontOptions(d),i.font=b=v.string,w=s[b]=s[b]||{data:{},gc:[]},_=v.lineHeight,T=I=0,!ve(y)&&!je(y))T=Nd(i,w.data,w.gc,T,y),I=_;else if(je(y))for(f=0,g=y.length;f<g;++f)N=y[f],!ve(N)&&!je(N)&&(T=Nd(i,w.data,w.gc,T,N),I+=_);o.push(T),a.push(I),c=Math.max(T,c),h=Math.max(I,h)}dB(s,n);const O=o.indexOf(c),S=a.indexOf(h),E=k=>({width:o[k]||0,height:a[k]||0});return{first:E(0),last:E(n-1),widest:E(O),highest:E(S),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return e3(this._alignToPixels?ds(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=pB(this.getContext(),e,r))}return this.$context||(this.$context=fB(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Fn(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=Za(s),g=[],y=a.setContext(this.getContext()),v=y.display?y.width:0,b=v/2,w=function(X){return ds(r,X,v)};let _,T,I,N,O,S,E,k,A,R,D,P;if(o==="top")_=w(this.bottom),S=this.bottom-f,k=_-b,R=w(e.top)+b,P=e.bottom;else if(o==="bottom")_=w(this.top),R=e.top,P=w(e.bottom)-b,S=_+b,k=this.top+f;else if(o==="left")_=w(this.right),O=this.right-f,E=_-b,A=w(e.left)+b,D=e.right;else if(o==="right")_=w(this.left),A=e.left,D=w(e.right)-b,O=_+b,E=this.left+f;else if(n==="x"){if(o==="center")_=w((e.top+e.bottom)/2+.5);else if(fe(o)){const X=Object.keys(o)[0],ne=o[X];_=w(this.chart.scales[X].getPixelForValue(ne))}R=e.top,P=e.bottom,S=_+b,k=S+f}else if(n==="y"){if(o==="center")_=w((e.left+e.right)/2);else if(fe(o)){const X=Object.keys(o)[0],ne=o[X];_=w(this.chart.scales[X].getPixelForValue(ne))}O=_-b,E=O-f,A=e.left,D=e.right}const oe=ae(i.ticks.maxTicksLimit,d),J=Math.max(1,Math.ceil(d/oe));for(T=0;T<d;T+=J){const X=this.getContext(T),ne=s.setContext(X),U=a.setContext(X),W=ne.lineWidth,H=ne.color,re=U.dash||[],Y=U.dashOffset,ee=ne.tickWidth,ge=ne.tickColor,xe=ne.tickBorderDash||[],be=ne.tickBorderDashOffset;I=hB(this,T,l),I!==void 0&&(N=ds(r,I,W),c?O=E=A=D=N:S=k=R=P=N,g.push({tx1:O,ty1:S,tx2:E,ty2:k,x1:A,y1:R,x2:D,y2:P,width:W,color:H,borderDash:re,borderDashOffset:Y,tickWidth:ee,tickColor:ge,tickBorderDash:xe,tickBorderDashOffset:be}))}return this._ticksLength=d,this._borderValue=_,g}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:h,mirror:d}=s,f=Za(r.grid),g=f+h,y=d?-h:g,v=-Fn(this.labelRotation),b=[];let w,_,T,I,N,O,S,E,k,A,R,D,P="middle";if(i==="top")O=this.bottom-y,S=this._getXAxisLabelAlignment();else if(i==="bottom")O=this.top+y,S=this._getXAxisLabelAlignment();else if(i==="left"){const J=this._getYAxisLabelAlignment(f);S=J.textAlign,N=J.x}else if(i==="right"){const J=this._getYAxisLabelAlignment(f);S=J.textAlign,N=J.x}else if(n==="x"){if(i==="center")O=(e.top+e.bottom)/2+g;else if(fe(i)){const J=Object.keys(i)[0],X=i[J];O=this.chart.scales[J].getPixelForValue(X)+g}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")N=(e.left+e.right)/2-g;else if(fe(i)){const J=Object.keys(i)[0],X=i[J];N=this.chart.scales[J].getPixelForValue(X)}S=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?P="top":l==="end"&&(P="bottom"));const oe=this._getLabelSizes();for(w=0,_=a.length;w<_;++w){T=a[w],I=T.label;const J=s.setContext(this.getContext(w));E=this.getPixelForTick(w)+s.labelOffset,k=this._resolveTickFontOptions(w),A=k.lineHeight,R=je(I)?I.length:1;const X=R/2,ne=J.color,U=J.textStrokeColor,W=J.textStrokeWidth;let H=S;o?(N=E,S==="inner"&&(w===_-1?H=this.options.reverse?"left":"right":w===0?H=this.options.reverse?"right":"left":H="center"),i==="top"?c==="near"||v!==0?D=-R*A+A/2:c==="center"?D=-oe.highest.height/2-X*A+A:D=-oe.highest.height+A/2:c==="near"||v!==0?D=A/2:c==="center"?D=oe.highest.height/2-X*A:D=oe.highest.height-R*A,d&&(D*=-1),v!==0&&!J.showLabelBackdrop&&(N+=A/2*Math.sin(v))):(O=E,D=(1-R)*A/2);let re;if(J.showLabelBackdrop){const Y=zt(J.backdropPadding),ee=oe.heights[w],ge=oe.widths[w];let xe=D-Y.top,be=0-Y.left;switch(P){case"middle":xe-=ee/2;break;case"bottom":xe-=ee;break}switch(S){case"center":be-=ge/2;break;case"right":be-=ge;break;case"inner":w===_-1?be-=ge:w>0&&(be-=ge/2);break}re={left:be,top:xe,width:ge+Y.width,height:ee+Y.height,color:J.backdropColor}}b.push({label:I,font:k,textOffset:D,options:{rotation:v,color:ne,strokeColor:U,strokeWidth:W,textAlign:H,textBaseline:P,translation:[N,O],backdrop:re}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Fn(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,h;return n==="left"?i?(h=this.right+s,r==="near"?c="left":r==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-a,r==="near"?c="right":r==="center"?(c="center",h-=l/2):(c="left",h=this.left)):n==="right"?i?(h=this.left+s,r==="near"?c="right":r==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+a,r==="near"?c="left":r==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,h)=>{!h.width||!h.color||(r.save(),r.lineWidth=h.width,r.strokeStyle=h.color,r.setLineDash(h.borderDash||[]),r.lineDashOffset=h.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,h,d,f;this.isHorizontal()?(c=ds(e,this.left,o)-o/2,h=ds(e,this.right,a)+a/2,d=f=l):(d=ds(e,this.top,o)-o/2,f=ds(e,this.bottom,a)+a/2,c=h=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,d),n.lineTo(h,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Rf(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,h=o.textOffset;Ws(r,c,0,h,l,a)}i&&Nf(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=ut(r.font),o=zt(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||fe(n)?(l+=o.bottom,je(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:h,maxWidth:d,rotation:f}=mB(this,l,n,a);Ws(e,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:f,textAlign:gB(a,n,i),textBaseline:"middle",translation:[c,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=ae(e.grid&&e.grid.z,-1),i=ae(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Js.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ut(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Yu{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;_B(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,yB(e,o,r),this.override&&Fe.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in Fe[i]&&(delete Fe[i][r],this.override&&delete $s[r])}}function yB(t,e,n){const r=pc(Object.create(null),[n?Fe.get(n):{},Fe.get(e),t.defaults]);Fe.set(e,r),t.defaultRoutes&&vB(e,t.defaultRoutes),t.descriptors&&Fe.describe(e,t.descriptors)}function vB(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Fe.route(s,i,l,a)})}function _B(t){return"id"in t&&"defaults"in t}class wB{constructor(){this.controllers=new Yu($n,"datasets",!0),this.elements=new Yu(Hn,"elements"),this.plugins=new Yu(Object,"plugins"),this.scales=new Yu(Js,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Te(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=l_(e);Ae(r["before"+i],[],r),n[e](r),Ae(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Zn=new wB;class xB{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(Ae(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){ve(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=ae(r.options&&r.options.plugins,{}),s=bB(r);return i===!1&&!n?[]:TB(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function bB(t){const e={},n=[],r=Object.keys(Zn.plugins.items);for(let s=0;s<r.length;s++)n.push(Zn.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function EB(t,e){return!e&&t===!1?null:t===!0?{}:t}function TB(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=EB(r[l],i);c!==null&&s.push({plugin:a,options:SB(t.config,{plugin:a,local:n[l]},c,o)})}return s}function SB(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Bm(t,e){const n=Fe.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function kB(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function IB(t,e){return t===e?"_index_":"_value_"}function zb(t){if(t==="x"||t==="y"||t==="r")return t}function CB(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function zm(t,...e){if(zb(t))return t;for(const n of e){const r=n.axis||CB(n.position)||t.length>1&&zb(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function $b(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function AB(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return $b(t,"x",n[0])||$b(t,"y",n[0])}return{}}function PB(t,e){const n=$s[t.type]||{scales:{}},r=e.scales||{},i=Bm(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!fe(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=zm(o,a,AB(o,t),Fe.scales[a.type]),c=IB(l,i),h=n.scales||{};s[o]=Rl(Object.create(null),[{axis:l},a,h[l],h[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Bm(a,e),h=($s[a]||{}).scales||{};Object.keys(h).forEach(d=>{const f=kB(d,l),g=o[f+"AxisID"]||f;s[g]=s[g]||Object.create(null),Rl(s[g],[{axis:f},r[g],h[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];Rl(a,[Fe.scales[a.type],Fe.scale])}),s}function GC(t){const e=t.options||(t.options={});e.plugins=ae(e.plugins,{}),e.scales=PB(t,e)}function KC(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function RB(t){return t=t||{},t.data=KC(t.data),GC(t),t}const Wb=new Map,YC=new Set;function Qu(t,e){let n=Wb.get(t);return n||(n=e(),Wb.set(t,n),YC.add(n)),n}const el=(t,e,n)=>{const r=Bi(e,n);r!==void 0&&t.add(r)};class NB{constructor(e){this._config=RB(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=KC(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),GC(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Qu(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Qu(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Qu(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Qu(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(h=>{e&&(l.add(e),h.forEach(d=>el(l,e,d))),h.forEach(d=>el(l,i,d)),h.forEach(d=>el(l,$s[s]||{},d)),h.forEach(d=>el(l,Fe,d)),h.forEach(d=>el(l,jm,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),YC.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,$s[n]||{},Fe.datasets[n]||{},{type:n},Fe,jm]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=Hb(this._resolverCache,e,i);let l=o;if(OB(o,n)){s.$shared=!1,r=zi(r)?r():r;const c=this.createResolver(e,r,a);l=oa(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=Hb(this._resolverCache,e,r);return fe(n)?oa(s,n,void 0,i):s}}function Hb(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:p_(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const DB=t=>fe(t)&&Object.getOwnPropertyNames(t).some(e=>zi(t[e]));function OB(t,e){const{isScriptable:n,isIndexable:r}=CC(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(zi(a)||DB(a))||o&&je(a))return!0}return!1}var MB="4.4.7";const LB=["top","bottom","left","right","chartArea"];function qb(t,e){return t==="top"||t==="bottom"||LB.indexOf(t)===-1&&e==="x"}function Gb(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function Kb(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ae(n&&n.onComplete,[t],e)}function VB(t){const e=t.chart,n=e.options.animation;Ae(n&&n.onProgress,[t],e)}function QC(t){return y_()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Rh={},Yb=t=>{const e=QC(t);return Object.values(Rh).filter(n=>n.canvas===e).pop()};function jB(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function FB(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function Xu(t,e,n){return t.options.clip?t[n]:e[n]}function UB(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Xu(n,e,"left"),right:Xu(n,e,"right"),top:Xu(r,e,"top"),bottom:Xu(r,e,"bottom")}:e}var ti;let Of=(ti=class{static register(...e){Zn.add(...e),Qb()}static unregister(...e){Zn.remove(...e),Qb()}constructor(e,n){const r=this.config=new NB(n),i=QC(e),s=Yb(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||rB(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,h=l&&l.width;if(this.id=z5(),this.ctx=a,this.canvas=l,this.width=h,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new xB,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=i3(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Rh[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}vr.listen(this,"complete",Kb),vr.listen(this,"progress",VB),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return ve(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Zn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return gb(this.canvas,this.ctx),this}stop(){return vr.stop(this),this}resize(e,n){vr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,vb(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ae(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Te(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=zm(o,a),c=l==="r",h=l==="x";return{options:a,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),Te(s,o=>{const a=o.options,l=a.id,c=zm(l,a),h=ae(a.type,o.dtype);(a.position===void 0||qb(a.position,c)!==qb(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in r&&r[l].type===h)d=r[l];else{const f=Zn.getScale(h);d=new f({id:l,type:h,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,e)}),Te(i,(o,a)=>{o||delete r[a]}),Te(r,o=>{Ft.configure(this,o,o.options),Ft.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(Gb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||Bm(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=Zn.getController(a),{datasetElementType:c,dataElementType:h}=Fe.datasets[a];Object.assign(l,{dataElementType:Zn.getElement(h),datasetElementType:c&&Zn.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Te(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:d}=this.getDatasetMeta(c),f=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Te(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Gb("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Te(this.scales,e=>{Ft.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!ob(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;jB(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!ob(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ft.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Te(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,zi(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(vr.has(this)?this.attached&&!vr.running(this)&&vr.start(this):(this.draw(),Kb({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,i=!r.disabled,s=UB(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&Rf(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),e.controller.draw(),i&&Nf(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Pr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=LU.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Ji(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);gc(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),vr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),gb(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Rh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Te(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Te(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Te(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Ad(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(h=>!c.some(d=>h.datasetIndex===d.datasetIndex&&h.index===d.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=K5(e),c=FB(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Ae(s.onHover,[e,a,this],this),l&&Ae(s.onClick,[e,a,this],this));const h=!Ad(a,i);return(h||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,h}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},$(ti,"defaults",Fe),$(ti,"instances",Rh),$(ti,"overrides",$s),$(ti,"registry",Zn),$(ti,"version",MB),$(ti,"getChart",Yb),ti);function Qb(){return Te(Of.instances,t=>t._plugins.invalidate())}function BB(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(s,o,a,r-c,n+c),l>i?(c=i/l,t.arc(s,o,l,n+c,r-c,!0)):t.arc(s,o,i,n+nt,r-nt),t.closePath(),t.clip()}function zB(t){return f_(t,["outerStart","outerEnd","innerStart","innerEnd"])}function $B(t,e,n,r){const i=zB(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),a=l=>{const c=(n-Math.min(s,l))*r/2;return vt(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:vt(i.innerStart,0,o),innerEnd:vt(i.innerEnd,0,o)}}function uo(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Md(t,e,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:h}=e,d=Math.max(e.outerRadius+r+n-c,0),f=h>0?h+r+n+c:0;let g=0;const y=i-l;if(r){const J=h>0?h-r:0,X=d>0?d-r:0,ne=(J+X)/2,U=ne!==0?y*ne/(ne+r):y;g=(y-U)/2}const v=Math.max(.001,y*d-n/Me)/d,b=(y-v)/2,w=l+b+g,_=i-b-g,{outerStart:T,outerEnd:I,innerStart:N,innerEnd:O}=$B(e,f,d,_-w),S=d-T,E=d-I,k=w+T/S,A=_-I/E,R=f+N,D=f+O,P=w+N/R,oe=_-O/D;if(t.beginPath(),s){const J=(k+A)/2;if(t.arc(o,a,d,k,J),t.arc(o,a,d,J,A),I>0){const W=uo(E,A,o,a);t.arc(W.x,W.y,I,A,_+nt)}const X=uo(D,_,o,a);if(t.lineTo(X.x,X.y),O>0){const W=uo(D,oe,o,a);t.arc(W.x,W.y,O,_+nt,oe+Math.PI)}const ne=(_-O/f+(w+N/f))/2;if(t.arc(o,a,f,_-O/f,ne,!0),t.arc(o,a,f,ne,w+N/f,!0),N>0){const W=uo(R,P,o,a);t.arc(W.x,W.y,N,P+Math.PI,w-nt)}const U=uo(S,w,o,a);if(t.lineTo(U.x,U.y),T>0){const W=uo(S,k,o,a);t.arc(W.x,W.y,T,w-nt,k)}}else{t.moveTo(o,a);const J=Math.cos(k)*d+o,X=Math.sin(k)*d+a;t.lineTo(J,X);const ne=Math.cos(A)*d+o,U=Math.sin(A)*d+a;t.lineTo(ne,U)}t.closePath()}function WB(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){Md(t,e,n,r,l,i);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%Oe||Oe))}return Md(t,e,n,r,l,i),t.fill(),l}function HB(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:h,borderDash:d,borderDashOffset:f}=l,g=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=f,g?(t.lineWidth=c*2,t.lineJoin=h||"round"):(t.lineWidth=c,t.lineJoin=h||"bevel");let y=e.endAngle;if(s){Md(t,e,n,r,y,i);for(let v=0;v<s;++v)t.stroke();isNaN(a)||(y=o+(a%Oe||Oe))}g&&BB(t,e,y),s||(Md(t,e,n,r,y,i),t.stroke())}class fl extends Hn{constructor(n){super();$(this,"circumference");$(this,"endAngle");$(this,"fullCircles");$(this,"innerRadius");$(this,"outerRadius");$(this,"pixelMargin");$(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=vC(s,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:h,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),g=(this.options.spacing+this.options.borderWidth)/2,y=ae(f,c-l),v=mc(o,l,c)&&l!==c,b=y>=Oe||v,w=Cr(a,h+g,d+g);return b&&w}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:h}=this.options,d=(s+o)/2,f=(a+l+h+c)/2;return{x:r+Math.cos(d)*f,y:i+Math.sin(d)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>Oe?Math.floor(i/Oe):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(Me,i||0)),h=s*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,WB(n,this,h,o,a),HB(n,this,h,o,a),n.restore()}}$(fl,"id","arc"),$(fl,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),$(fl,"defaultRoutes",{backgroundColor:"backgroundColor"}),$(fl,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function XC(t,e,n=e){t.lineCap=ae(n.borderCapStyle,e.borderCapStyle),t.setLineDash(ae(n.borderDash,e.borderDash)),t.lineDashOffset=ae(n.borderDashOffset,e.borderDashOffset),t.lineJoin=ae(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ae(n.borderWidth,e.borderWidth),t.strokeStyle=ae(n.borderColor,e.borderColor)}function qB(t,e,n){t.lineTo(n.x,n.y)}function GB(t){return t.stepped?m3:t.tension||t.cubicInterpolationMode==="monotone"?y3:qB}function JC(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),h=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!h?r+c-l:c-l}}function KB(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=JC(i,n,r),h=GB(s);let{move:d=!0,reverse:f}=r||{},g,y,v;for(g=0;g<=c;++g)y=i[(a+(f?c-g:g))%o],!y.skip&&(d?(t.moveTo(y.x,y.y),d=!1):h(t,v,y,f,s.stepped),v=y);return l&&(y=i[(a+(f?c:0))%o],h(t,v,y,f,s.stepped)),!!l}function YB(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=JC(i,n,r),{move:l=!0,reverse:c}=r||{};let h=0,d=0,f,g,y,v,b,w;const _=I=>(o+(c?a-I:I))%s,T=()=>{v!==b&&(t.lineTo(h,b),t.lineTo(h,v),t.lineTo(h,w))};for(l&&(g=i[_(0)],t.moveTo(g.x,g.y)),f=0;f<=a;++f){if(g=i[_(f)],g.skip)continue;const I=g.x,N=g.y,O=I|0;O===y?(N<v?v=N:N>b&&(b=N),h=(d*h+I)/++d):(T(),t.lineTo(I,N),y=O,d=0,v=b=N),w=N}T()}function $m(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?YB:KB}function QB(t){return t.stepped?Y3:t.tension||t.cubicInterpolationMode==="monotone"?Q3:_s}function XB(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),XC(t,e.options),t.stroke(i)}function JB(t,e,n,r){const{segments:i,options:s}=e,o=$m(e);for(const a of i)XC(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const ZB=typeof Path2D=="function";function ez(t,e,n,r){ZB&&!e.options.segment?XB(t,e,n,r):JB(t,e,n,r)}class vi extends Hn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;B3(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=nU(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=jC(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=QB(r);let c,h;for(c=0,h=o.length;c<h;++c){const{start:d,end:f}=o[c],g=s[d],y=s[f];if(g===y){a.push(g);continue}const v=Math.abs((i-g[n])/(y[n]-g[n])),b=l(g,y,v,r.stepped);b[n]=e[n],a.push(b)}return a.length===1?a[0]:a}pathSegment(e,n,r){return $m(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=$m(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),ez(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}$(vi,"id","line"),$(vi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),$(vi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),$(vi,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Xb(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class Nh extends Hn{constructor(n){super();$(this,"parsed");$(this,"skip");$(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return Xb(this,n,"x",r)}inYRange(n,r){return Xb(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!Pr(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,Fm(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}$(Nh,"id","point"),$(Nh,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),$(Nh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function ZC(t,e){const{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,h,d;return t.horizontal?(d=o/2,a=Math.min(n,i),l=Math.max(n,i),c=r-d,h=r+d):(d=s/2,a=n-d,l=n+d,c=Math.min(r,i),h=Math.max(r,i)),{left:a,top:c,right:l,bottom:h}}function _i(t,e,n,r){return t?0:vt(e,n,r)}function tz(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=IC(r);return{t:_i(i.top,s.top,0,n),r:_i(i.right,s.right,0,e),b:_i(i.bottom,s.bottom,0,n),l:_i(i.left,s.left,0,e)}}function nz(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=Rs(i),o=Math.min(e,n),a=t.borderSkipped,l=r||fe(i);return{topLeft:_i(!l||a.top||a.left,s.topLeft,0,o),topRight:_i(!l||a.top||a.right,s.topRight,0,o),bottomLeft:_i(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:_i(!l||a.bottom||a.right,s.bottomRight,0,o)}}function rz(t){const e=ZC(t),n=e.right-e.left,r=e.bottom-e.top,i=tz(t,n/2,r/2),s=nz(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function Qp(t,e,n,r){const i=e===null,s=n===null,a=t&&!(i&&s)&&ZC(t,r);return a&&(i||Cr(e,a.left,a.right))&&(s||Cr(n,a.top,a.bottom))}function iz(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function sz(t,e){t.rect(e.x,e.y,e.w,e.h)}function Xp(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}class Dh extends Hn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=rz(this),a=iz(o.radius)?yc:sz;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,Xp(o,n,s)),e.clip(),a(e,Xp(s,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,Xp(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return Qp(this,e,n,r)}inXRange(e,n){return Qp(this,e,null,n)}inYRange(e,n){return Qp(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}$(Dh,"id","bar"),$(Dh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),$(Dh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var oz=Object.freeze({__proto__:null,ArcElement:fl,BarElement:Dh,LineElement:vi,PointElement:Nh});const Wm=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Jb=Wm.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function eA(t){return Wm[t%Wm.length]}function tA(t){return Jb[t%Jb.length]}function az(t,e){return t.borderColor=eA(e),t.backgroundColor=tA(e),++e}function lz(t,e){return t.backgroundColor=t.data.map(()=>eA(e++)),e}function cz(t,e){return t.backgroundColor=t.data.map(()=>tA(e++)),e}function uz(t){let e=0;return(n,r)=>{const i=t.getDatasetMeta(r).controller;i instanceof Ts?e=lz(n,e):i instanceof Ll?e=cz(n,e):i&&(e=az(n,e))}}function Zb(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function hz(t){return t&&(t.borderColor||t.backgroundColor)}function dz(){return Fe.borderColor!=="rgba(0,0,0,0.1)"||Fe.backgroundColor!=="rgba(0,0,0,0.1)"}var fz={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=t.config,{elements:s}=i,o=Zb(r)||hz(i)||s&&Zb(s)||dz();if(!n.forceOverride&&o)return;const a=uz(t);r.forEach(a)}};function pz(t,e,n,r,i){const s=i.samples||r;if(s>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(s-2);let l=0;const c=e+n-1;let h=e,d,f,g,y,v;for(o[l++]=t[h],d=0;d<s-2;d++){let b=0,w=0,_;const T=Math.floor((d+1)*a)+1+e,I=Math.min(Math.floor((d+2)*a)+1,n)+e,N=I-T;for(_=T;_<I;_++)b+=t[_].x,w+=t[_].y;b/=N,w/=N;const O=Math.floor(d*a)+1+e,S=Math.min(Math.floor((d+1)*a)+1,n)+e,{x:E,y:k}=t[h];for(g=y=-1,_=O;_<S;_++)y=.5*Math.abs((E-b)*(t[_].y-k)-(E-t[_].x)*(w-k)),y>g&&(g=y,f=t[_],v=_);o[l++]=f,h=v}return o[l++]=t[c],o}function gz(t,e,n,r){let i=0,s=0,o,a,l,c,h,d,f,g,y,v;const b=[],w=e+n-1,_=t[e].x,I=t[w].x-_;for(o=e;o<e+n;++o){a=t[o],l=(a.x-_)/I*r,c=a.y;const N=l|0;if(N===h)c<y?(y=c,d=o):c>v&&(v=c,f=o),i=(s*i+a.x)/++s;else{const O=o-1;if(!ve(d)&&!ve(f)){const S=Math.min(d,f),E=Math.max(d,f);S!==g&&S!==O&&b.push({...t[S],x:i}),E!==g&&E!==O&&b.push({...t[E],x:i})}o>0&&O!==g&&b.push(t[O]),b.push(a),h=N,s=0,y=v=c,d=f=g=o}}return b}function nA(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function e1(t){t.data.datasets.forEach(e=>{nA(e)})}function mz(t,e){const n=e.length;let r=0,i;const{iScale:s}=t,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(r=vt(Ar(e,s.axis,o).lo,0,n-1)),c?i=vt(Ar(e,s.axis,a).hi+1,r,n)-r:i=n-r,{start:r,count:i}}var yz={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){e1(t);return}const r=t.width;t.data.datasets.forEach((i,s)=>{const{_data:o,indexAxis:a}=i,l=t.getDatasetMeta(s),c=o||i.data;if(hl([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const h=t.scales[l.xAxisID];if(h.type!=="linear"&&h.type!=="time"||t.options.parsing)return;let{start:d,count:f}=mz(l,c);const g=n.threshold||4*r;if(f<=g){nA(i);return}ve(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let y;switch(n.algorithm){case"lttb":y=pz(c,d,f,r,n);break;case"min-max":y=gz(c,d,f,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=y})},destroy(t){e1(t)}};function vz(t,e,n){const r=t.segments,i=t.points,s=e.points,o=[];for(const a of r){let{start:l,end:c}=a;c=w_(l,c,i);const h=Hm(n,i[l],i[c],a.loop);if(!e.segments){o.push({source:a,target:h,start:i[l],end:i[c]});continue}const d=jC(e,h);for(const f of d){const g=Hm(n,s[f.start],s[f.end],f.loop),y=VC(a,i,g);for(const v of y)o.push({source:v,target:f,start:{[n]:t1(h,g,"start",Math.max)},end:{[n]:t1(h,g,"end",Math.min)}})}}return o}function Hm(t,e,n,r){if(r)return;let i=e[t],s=n[t];return t==="angle"&&(i=dn(i),s=dn(s)),{property:t,start:i,end:s}}function _z(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=w_(o,a,i);const l=i[o],c=i[a];r!==null?(s.push({x:l.x,y:r}),s.push({x:c.x,y:r})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function w_(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function t1(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function rA(t,e){let n=[],r=!1;return je(t)?(r=!0,n=t):n=_z(t,e),n.length?new vi({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function n1(t){return t&&t.fill!==!1}function wz(t,e,n){let i=t[e].fill;const s=[e];let o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!Qe(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function xz(t,e,n){const r=Sz(t);if(fe(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return Qe(i)&&Math.floor(i)===i?bz(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function bz(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function Ez(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:fe(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function Tz(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:fe(t)?r=t.value:r=e.getBaseValue(),r}function Sz(t){const e=t.options,n=e.fill;let r=ae(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function kz(t){const{scale:e,index:n,line:r}=t,i=[],s=r.segments,o=r.points,a=Iz(e,n);a.push(rA({x:null,y:e.bottom},r));for(let l=0;l<s.length;l++){const c=s[l];for(let h=c.start;h<=c.end;h++)Cz(i,o[h],a)}return new vi({points:i,options:{}})}function Iz(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function Cz(t,e,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:l}=Az(s,e,"x");if(!(!l||o&&a)){if(o)r.unshift(l);else if(t.push(l),!a)break}}t.push(...r)}function Az(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const h=s[c],d=o[h.start][n],f=o[h.end][n];if(Cr(i,d,f)){a=i===d,l=i===f;break}}return{first:a,last:l,point:r}}class iA{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:i,y:s,radius:o}=this;return n=n||{start:0,end:Oe},e.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:i}=this,s=e.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function Pz(t){const{chart:e,fill:n,line:r}=t;if(Qe(n))return Rz(e,n);if(n==="stack")return kz(t);if(n==="shape")return!0;const i=Nz(t);return i instanceof iA?i:rA(i,r)}function Rz(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function Nz(t){return(t.scale||{}).getPointPositionForValue?Oz(t):Dz(t)}function Dz(t){const{scale:e={},fill:n}=t,r=Ez(n,e);if(Qe(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function Oz(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=Tz(n,e,s),a=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,s);return new iA({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,o));return a}function Jp(t,e,n){const r=Pz(e),{line:i,scale:s,axis:o}=e,a=i.options,l=a.fill,c=a.backgroundColor,{above:h=c,below:d=c}=l||{};r&&i.points.length&&(Rf(t,n),Mz(t,{line:i,target:r,above:h,below:d,area:n,scale:s,axis:o}),Nf(t))}function Mz(t,e){const{line:n,target:r,above:i,below:s,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&s!==i&&(r1(t,r,o.top),i1(t,{line:n,target:r,color:i,scale:a,property:l}),t.restore(),t.save(),r1(t,r,o.bottom)),i1(t,{line:n,target:r,color:s,scale:a,property:l}),t.restore()}function r1(t,e,n){const{segments:r,points:i}=e;let s=!0,o=!1;t.beginPath();for(const a of r){const{start:l,end:c}=a,h=i[l],d=i[w_(l,c,i)];s?(t.moveTo(h.x,h.y),s=!1):(t.lineTo(h.x,n),t.lineTo(h.x,h.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function i1(t,e){const{line:n,target:r,property:i,color:s,scale:o}=e,a=vz(n,r,i);for(const{source:l,target:c,start:h,end:d}of a){const{style:{backgroundColor:f=s}={}}=l,g=r!==!0;t.save(),t.fillStyle=f,Lz(t,o,g&&Hm(i,h,d)),t.beginPath();const y=!!n.pathSegment(t,l);let v;if(g){y?t.closePath():s1(t,r,d,i);const b=!!r.pathSegment(t,c,{move:y,reverse:!0});v=y&&b,v||s1(t,r,h,i)}t.closePath(),t.fill(v?"evenodd":"nonzero"),t.restore()}}function Lz(t,e,n){const{top:r,bottom:i}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};s==="x"&&(t.beginPath(),t.rect(o,r,a-o,i-r),t.clip())}function s1(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var Vz={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let s,o,a,l;for(o=0;o<r;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof vi&&(l={visible:t.isDatasetVisible(o),index:o,fill:xz(a,o,r),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,i.push(l);for(o=0;o<r;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=wz(i,o,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&Jp(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;n1(s)&&Jp(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!n1(r)||n.drawTime!=="beforeDatasetDraw"||Jp(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const o1=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},jz=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class a1 extends Hn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ae(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=ut(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=o1(r,s);let c,h;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(o,s,a,l)+10):(h=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=i+a;let d=e;s.textAlign="left",s.textBaseline="middle";let f=-1,g=-h;return this.legendItems.forEach((y,v)=>{const b=r+n/2+s.measureText(y.text).width;(v===0||c[c.length-1]+b+2*a>o)&&(d+=h,c[c.length-(v>0?0:1)]=0,g+=h,f++),l[v]={left:0,top:g,row:f,width:b,height:i},c[c.length-1]+=b+a}),d}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=o-e;let d=a,f=0,g=0,y=0,v=0;return this.legendItems.forEach((b,w)=>{const{itemWidth:_,itemHeight:T}=Fz(r,n,s,b,i);w>0&&g+T+2*a>h&&(d+=f+a,c.push({width:f,height:g}),y+=f+a,v++,f=g=0),l[w]={left:y,top:g,col:v,width:_,height:T},f=Math.max(f,_),g+=T+a}),d+=f,c.push({width:f,height:g}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Bo(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Mt(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Mt(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=Mt(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Mt(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Rf(e,this),this._draw(),Nf(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=Fe.color,l=Bo(e.rtl,this.left,this.width),c=ut(o.font),{padding:h}=o,d=c.size,f=d/2;let g;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:y,boxHeight:v,itemHeight:b}=o1(o,d),w=function(O,S,E){if(isNaN(y)||y<=0||isNaN(v)||v<0)return;i.save();const k=ae(E.lineWidth,1);if(i.fillStyle=ae(E.fillStyle,a),i.lineCap=ae(E.lineCap,"butt"),i.lineDashOffset=ae(E.lineDashOffset,0),i.lineJoin=ae(E.lineJoin,"miter"),i.lineWidth=k,i.strokeStyle=ae(E.strokeStyle,a),i.setLineDash(ae(E.lineDash,[])),o.usePointStyle){const A={radius:v*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:k},R=l.xPlus(O,y/2),D=S+f;kC(i,A,R,D,o.pointStyleWidth&&y)}else{const A=S+Math.max((d-v)/2,0),R=l.leftForLtr(O,y),D=Rs(E.borderRadius);i.beginPath(),Object.values(D).some(P=>P!==0)?yc(i,{x:R,y:A,w:y,h:v,radius:D}):i.rect(R,A,y,v),i.fill(),k!==0&&i.stroke()}i.restore()},_=function(O,S,E){Ws(i,E.text,O,S+b/2,c,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},T=this.isHorizontal(),I=this._computeTitleHeight();T?g={x:Mt(s,this.left+h,this.right-r[0]),y:this.top+h+I,line:0}:g={x:this.left+h,y:Mt(s,this.top+I+h,this.bottom-n[0].height),line:0},OC(this.ctx,e.textDirection);const N=b+h;this.legendItems.forEach((O,S)=>{i.strokeStyle=O.fontColor,i.fillStyle=O.fontColor;const E=i.measureText(O.text).width,k=l.textAlign(O.textAlign||(O.textAlign=o.textAlign)),A=y+f+E;let R=g.x,D=g.y;l.setWidth(this.width),T?S>0&&R+A+h>this.right&&(D=g.y+=N,g.line++,R=g.x=Mt(s,this.left+h,this.right-r[g.line])):S>0&&D+N>this.bottom&&(R=g.x=R+n[g.line].width+h,g.line++,D=g.y=Mt(s,this.top+I+h,this.bottom-n[g.line].height));const P=l.x(R);if(w(P,D,O),R=s3(k,R+y+f,T?R+A:this.right,e.rtl),_(l.x(R),D,O),T)g.x+=A+h;else if(typeof O.text!="string"){const oe=c.lineHeight;g.y+=sA(O,oe)+h}else g.y+=N}),MC(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=ut(n.font),i=zt(n.padding);if(!n.display)return;const s=Bo(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let h,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),h=this.top+c,d=Mt(e.align,d,this.right-f);else{const y=this.columnSizes.reduce((v,b)=>Math.max(v,b.height),0);h=c+Mt(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const g=Mt(a,d,d+f);o.textAlign=s.textAlign(h_(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Ws(o,n.text,g,h,r)}_computeTitleHeight(){const e=this.options.title,n=ut(e.font),r=zt(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(Cr(e,this.left,this.right)&&Cr(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Cr(e,i.left,i.left+i.width)&&Cr(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!zz(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=jz(i,r);i&&!s&&Ae(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Ae(n.onHover,[e,r,this],this)}else r&&Ae(n.onClick,[e,r,this],this)}}function Fz(t,e,n,r,i){const s=Uz(r,t,e,n),o=Bz(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function Uz(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function Bz(t,e,n){let r=t;return typeof e.text!="string"&&(r=sA(e,n)),r}function sA(t,e){const n=t.text?t.text.length:0;return e*n}function zz(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var $z={id:"legend",_element:a1,start(t,e,n){const r=t.legend=new a1({ctx:t.ctx,options:n,chart:t});Ft.configure(t,r,n),Ft.addBox(t,r)},stop(t){Ft.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Ft.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),h=zt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class x_ extends Hn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=je(r.text)?r.text.length:1;this._padding=zt(r.padding);const s=i*ut(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,h,d;return this.isHorizontal()?(h=Mt(a,r,s),d=n+e,c=s-r):(o.position==="left"?(h=r+e,d=Mt(a,i,n),l=Me*-.5):(h=s-e,d=Mt(a,n,i),l=Me*.5),c=i-n),{titleX:h,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=ut(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Ws(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:h_(n.align),textBaseline:"middle",translation:[o,a]})}}function Wz(t,e){const n=new x_({ctx:t.ctx,options:e,chart:t});Ft.configure(t,n,e),Ft.addBox(t,n),t.titleBlock=n}var Hz={id:"title",_element:x_,start(t,e,n){Wz(t,n)},stop(t){const e=t.titleBlock;Ft.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Ft.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ju=new WeakMap;var qz={id:"subtitle",start(t,e,n){const r=new x_({ctx:t.ctx,options:n,chart:t});Ft.configure(t,r,n),Ft.addBox(t,r),Ju.set(t,r)},stop(t){Ft.removeBox(t,Ju.get(t)),Ju.delete(t)},beforeUpdate(t,e,n){const r=Ju.get(t);Ft.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const pl={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),h=Vm(e,c);h<i&&(i=h,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Xn(t,e){return e&&(je(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function _r(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Gz(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function l1(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=ut(e.bodyFont),c=ut(e.titleFont),h=ut(e.footerFont),d=s.length,f=i.length,g=r.length,y=zt(e.padding);let v=y.height,b=0,w=r.reduce((I,N)=>I+N.before.length+N.lines.length+N.after.length,0);if(w+=t.beforeBody.length+t.afterBody.length,d&&(v+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),w){const I=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;v+=g*I+(w-g)*l.lineHeight+(w-1)*e.bodySpacing}f&&(v+=e.footerMarginTop+f*h.lineHeight+(f-1)*e.footerSpacing);let _=0;const T=function(I){b=Math.max(b,n.measureText(I).width+_)};return n.save(),n.font=c.string,Te(t.title,T),n.font=l.string,Te(t.beforeBody.concat(t.afterBody),T),_=e.displayColors?o+2+e.boxPadding:0,Te(r,I=>{Te(I.before,T),Te(I.lines,T),Te(I.after,T)}),_=0,n.font=h.string,Te(t.footer,T),n.restore(),b+=y.width,{width:b,height:v}}function Kz(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function Yz(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function Qz(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),Yz(c,t,e,n)&&(c="center"),c}function c1(t,e,n){const r=n.yAlign||e.yAlign||Kz(t,n);return{xAlign:n.xAlign||e.xAlign||Qz(t,e,n,r),yAlign:r}}function Xz(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function Jz(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function u1(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:g}=Rs(o);let y=Xz(e,a);const v=Jz(e,l,c);return l==="center"?a==="left"?y+=c:a==="right"&&(y-=c):a==="left"?y-=Math.max(h,f)+i:a==="right"&&(y+=Math.max(d,g)+i),{x:vt(y,0,r.width-e.width),y:vt(v,0,r.height-e.height)}}function Zu(t,e,n){const r=zt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function h1(t){return Xn([],_r(t))}function Zz(t,e,n){return Ji(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function d1(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const oA={beforeTitle:yr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:yr,beforeBody:yr,beforeLabel:yr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ve(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:yr,afterBody:yr,beforeFooter:yr,footer:yr,afterFooter:yr};function Jt(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?oA[e].call(n,r):i}class qm extends Hn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new FC(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Zz(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=Jt(r,"beforeTitle",this,e),s=Jt(r,"title",this,e),o=Jt(r,"afterTitle",this,e);let a=[];return a=Xn(a,_r(i)),a=Xn(a,_r(s)),a=Xn(a,_r(o)),a}getBeforeBody(e,n){return h1(Jt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return Te(e,s=>{const o={before:[],lines:[],after:[]},a=d1(r,s);Xn(o.before,_r(Jt(a,"beforeLabel",this,s))),Xn(o.lines,Jt(a,"label",this,s)),Xn(o.after,_r(Jt(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return h1(Jt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=Jt(r,"beforeFooter",this,e),s=Jt(r,"footer",this,e),o=Jt(r,"afterFooter",this,e);let a=[];return a=Xn(a,_r(i)),a=Xn(a,_r(s)),a=Xn(a,_r(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(Gz(this.chart,n[l]));return e.filter&&(a=a.filter((h,d,f)=>e.filter(h,d,f,r))),e.itemSort&&(a=a.sort((h,d)=>e.itemSort(h,d,r))),Te(a,h=>{const d=d1(e.callbacks,h);i.push(Jt(d,"labelColor",this,h)),s.push(Jt(d,"labelPointStyle",this,h)),o.push(Jt(d,"labelTextColor",this,h))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=pl[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=l1(this,r),c=Object.assign({},a,l),h=c1(this.chart,r,c),d=u1(r,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:d}=Rs(a),{x:f,y:g}=e,{width:y,height:v}=n;let b,w,_,T,I,N;return s==="center"?(I=g+v/2,i==="left"?(b=f,w=b-o,T=I+o,N=I-o):(b=f+y,w=b+o,T=I-o,N=I+o),_=b):(i==="left"?w=f+Math.max(l,h)+o:i==="right"?w=f+y-Math.max(c,d)-o:w=this.caretX,s==="top"?(T=g,I=T-o,b=w-o,_=w+o):(T=g+v,I=T+o,b=w+o,_=w-o),N=T),{x1:b,x2:w,x3:_,y1:T,y2:I,y3:N}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=Bo(r.rtl,this.x,this.width);for(e.x=Zu(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=ut(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,h=ut(s.bodyFont),d=Zu(this,"left",s),f=i.x(d),g=l<h.lineHeight?(h.lineHeight-l)/2:0,y=n.y+g;if(s.usePointStyle){const v={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=i.leftForLtr(f,c)+c/2,w=y+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Fm(e,v,b,w),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Fm(e,v,b,w)}else{e.lineWidth=fe(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const v=i.leftForLtr(f,c),b=i.leftForLtr(i.xPlus(f,1),c-2),w=Rs(o.borderRadius);Object.values(w).some(_=>_!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,yc(e,{x:v,y,w:c,h:l,radius:w}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),yc(e,{x:b,y:y+1,w:c-2,h:l-2,radius:w}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(v,y,c,l),e.strokeRect(v,y,c,l),e.fillStyle=o.backgroundColor,e.fillRect(b,y+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:h}=r,d=ut(r.bodyFont);let f=d.lineHeight,g=0;const y=Bo(r.rtl,this.x,this.width),v=function(E){n.fillText(E,y.x(e.x+g),e.y+f/2),e.y+=f+s},b=y.textAlign(o);let w,_,T,I,N,O,S;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=Zu(this,b,r),n.fillStyle=r.bodyColor,Te(this.beforeBody,v),g=a&&b!=="right"?o==="center"?c/2+h:c+2+h:0,I=0,O=i.length;I<O;++I){for(w=i[I],_=this.labelTextColors[I],n.fillStyle=_,Te(w.before,v),T=w.lines,a&&T.length&&(this._drawColorBox(n,e,I,y,r),f=Math.max(d.lineHeight,l)),N=0,S=T.length;N<S;++N)v(T[N]),f=d.lineHeight;Te(w.after,v)}g=0,f=d.lineHeight,Te(this.afterBody,v),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=Bo(r.rtl,this.x,this.width);for(e.x=Zu(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=ut(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:h}=r,{topLeft:d,topRight:f,bottomLeft:g,bottomRight:y}=Rs(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,l+h-y),n.quadraticCurveTo(a+c,l+h,a+c-y,l+h),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+g,l+h),n.quadraticCurveTo(a,l+h,a,l+h-g),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=pl[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=l1(this,e),l=Object.assign({},o,this._size),c=c1(n,e,l),h=u1(e,l,c,n);(i._to!==h.x||s._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=zt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),OC(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),MC(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!Ad(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!Ad(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=pl[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}$(qm,"positioners",pl);var e9={id:"tooltip",_element:qm,positioners:pl,afterInit(t,e,n){n&&(t.tooltip=new qm({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:oA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},t9=Object.freeze({__proto__:null,Colors:fz,Decimation:yz,Filler:Vz,Legend:$z,SubTitle:qz,Title:Hz,Tooltip:e9});const n9=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function r9(t,e,n,r){const i=t.indexOf(e);if(i===-1)return n9(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const i9=(t,e)=>t===null?null:vt(Math.round(t),0,e);function f1(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Gm extends Js{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ve(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:r9(r,e,ae(n,e),this._addedLabels),i9(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return f1.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}$(Gm,"id","category"),$(Gm,"defaults",{ticks:{callback:f1}});function s9(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:h,maxDigits:d,includeBounds:f}=t,g=s||1,y=h-1,{min:v,max:b}=e,w=!ve(o),_=!ve(a),T=!ve(c),I=(b-v)/(d+1);let N=lb((b-v)/y/g)*g,O,S,E,k;if(N<1e-14&&!w&&!_)return[{value:v},{value:b}];k=Math.ceil(b/N)-Math.floor(v/N),k>y&&(N=lb(k*N/y/g)*g),ve(l)||(O=Math.pow(10,l),N=Math.ceil(N*O)/O),i==="ticks"?(S=Math.floor(v/N)*N,E=Math.ceil(b/N)*N):(S=v,E=b),w&&_&&s&&J5((a-o)/s,N/1e3)?(k=Math.round(Math.min((a-o)/N,h)),N=(a-o)/k,S=o,E=a):T?(S=w?o:S,E=_?a:E,k=c-1,N=(E-S)/k):(k=(E-S)/N,Nl(k,Math.round(k),N/1e3)?k=Math.round(k):k=Math.ceil(k));const A=Math.max(cb(N),cb(S));O=Math.pow(10,ve(l)?A:l),S=Math.round(S*O)/O,E=Math.round(E*O)/O;let R=0;for(w&&(f&&S!==o?(n.push({value:o}),S<o&&R++,Nl(Math.round((S+R*N)*O)/O,o,p1(o,I,t))&&R++):S<o&&R++);R<k;++R){const D=Math.round((S+R*N)*O)/O;if(_&&D>a)break;n.push({value:D})}return _&&f&&E!==a?n.length&&Nl(n[n.length-1].value,a,p1(a,I,t))?n[n.length-1].value=a:n.push({value:a}):(!_||E===a)&&n.push({value:E}),n}function p1(t,e,{horizontal:n,minRotation:r}){const i=Fn(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class Ld extends Js{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ve(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=lr(i),c=lr(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=s9(i,s);return e.bounds==="ticks"&&yC(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return $c(e,this.chart.options.locale,this.options.ticks.format)}}class Km extends Ld{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Qe(e)?e:0,this.max=Qe(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Fn(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}$(Km,"id","linear"),$(Km,"defaults",{ticks:{callback:Pf.formatters.numeric}});const _c=t=>Math.floor(yi(t)),ps=(t,e)=>Math.pow(10,_c(t)+e);function g1(t){return t/Math.pow(10,_c(t))===1}function m1(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function o9(t,e){const n=e-t;let r=_c(n);for(;m1(t,e,r)>10;)r++;for(;m1(t,e,r)<10;)r--;return Math.min(r,_c(t))}function a9(t,{min:e,max:n}){e=un(t.min,e);const r=[],i=_c(e);let s=o9(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=i>s?Math.pow(10,i):0,c=Math.round((e-l)*o)/o,h=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((c-h)/Math.pow(10,s)),f=un(t.min,Math.round((l+h+d*Math.pow(10,s))*o)/o);for(;f<n;)r.push({value:f,major:g1(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,o=s>=0?1:o),f=Math.round((l+h+d*Math.pow(10,s))*o)/o;const g=un(t.max,f);return r.push({value:g,major:g1(g),significand:d}),r}class Ym extends Js{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=Ld.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return Qe(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Qe(e)?Math.max(0,e):null,this.max=Qe(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Qe(this._userMin)&&(this.min=e===ps(this.min,0)?ps(this.min,-1):ps(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=e?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(ps(r,-1)),o(ps(i,1)))),r<=0&&s(ps(i,-1)),i<=0&&o(ps(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=a9(n,this);return e.bounds==="ticks"&&yC(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":$c(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=yi(e),this._valueRange=yi(this.max)-yi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(yi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}$(Ym,"id","logarithmic"),$(Ym,"defaults",{ticks:{callback:Pf.formatters.logarithmic,major:{enabled:!0}}});function Qm(t){const e=t.ticks;if(e.display&&t.display){const n=zt(e.backdropPadding);return ae(e.font&&e.font.size,Fe.font.size)+n.height}return 0}function l9(t,e,n){return n=je(n)?n:[n],{w:g3(t,e.string,n),h:n.length*e.lineHeight}}function y1(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function c9(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Me/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));i[l]=c.padding;const h=t.getPointPosition(l,t.drawingArea+i[l],a),d=ut(c.font),f=l9(t.ctx,d,t._pointLabels[l]);r[l]=f;const g=dn(t.getIndexAngle(l)+a),y=Math.round(c_(g)),v=y1(y,h.x,f.w,0,180),b=y1(y,h.y,f.h,90,270);u9(n,e,g,v,b)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=f9(t,r,i)}function u9(t,e,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;r.start<e.l?(a=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function h9(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,r+i+o,s),c=Math.round(c_(dn(l.angle+nt))),h=m9(l.y,a.h,c),d=p9(c),f=g9(l.x,a.w,d);return{visible:!0,x:l.x,y:h,textAlign:d,left:f,top:h,right:f+a.w,bottom:h+a.h}}function d9(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:s}=t;return!(Pr({x:n,y:r},e)||Pr({x:n,y:s},e)||Pr({x:i,y:r},e)||Pr({x:i,y:s},e))}function f9(t,e,n){const r=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:Qm(s)/2,additionalAngle:o?Me/i:0};let c;for(let h=0;h<i;h++){l.padding=n[h],l.size=e[h];const d=h9(t,h,l);r.push(d),a==="auto"&&(d.visible=d9(d,c),d.visible&&(c=d))}return r}function p9(t){return t===0||t===180?"center":t<180?"left":"right"}function g9(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function m9(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function y9(t,e,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=e;if(!ve(a)){const l=Rs(e.borderRadius),c=zt(e.backdropPadding);t.fillStyle=a;const h=r-c.left,d=i-c.top,f=s-r+c.width,g=o-i+c.height;Object.values(l).some(y=>y!==0)?(t.beginPath(),yc(t,{x:h,y:d,w:f,h:g,radius:l}),t.fill()):t.fillRect(h,d,f,g)}}function v9(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const s=t._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(t.getPointLabelContext(i));y9(n,o,s);const a=ut(o.font),{x:l,y:c,textAlign:h}=s;Ws(n,t._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:h,textBaseline:"middle"})}}function aA(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,Oe);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=t.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function _9(t,e,n,r,i){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!r||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),aA(t,n,o,r),s.closePath(),s.stroke(),s.restore())}function w9(t,e,n){return Ji(t,{label:n,index:e,type:"pointLabel"})}class gl extends Ld{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=zt(Qm(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Qe(e)&&!isNaN(e)?e:0,this.max=Qe(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Qm(this.options))}generateTickLabels(e){Ld.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const i=Ae(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?c9(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){const n=Oe/(this._pointLabels.length||1),r=this.options.startAngle||0;return dn(e*n+Fn(r))}getDistanceFromCenterForValue(e){if(ve(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(ve(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return w9(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const i=this.getIndexAngle(e)-nt+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),aA(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&v9(this,o),i.display&&this.ticks.forEach((h,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(h.value);const f=this.getContext(d),g=i.setContext(f),y=s.setContext(f);_9(this,g,l,o,y)}}),r.display){for(e.save(),a=o-1;a>=0;a--){const h=r.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:f}=h;!f||!d||(e.lineWidth=f,e.strokeStyle=d,e.setLineDash(h.borderDash),e.lineDashOffset=h.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=r.setContext(this.getContext(l)),h=ut(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=h.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const d=zt(c.backdropPadding);e.fillRect(-o/2-d.left,-s-h.size/2-d.top,o+d.width,h.size+d.height)}Ws(e,a.label,0,-s,h,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}$(gl,"id","radialLinear"),$(gl,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Pf.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),$(gl,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),$(gl,"descriptors",{angleLines:{_fallback:"grid"}});const Mf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},nn=Object.keys(Mf);function v1(t,e){return t-e}function _1(t,e){if(ve(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),Qe(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(sa(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function w1(t,e,n,r){const i=nn.length;for(let s=nn.indexOf(t);s<i-1;++s){const o=Mf[nn[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return nn[s]}return nn[i-1]}function x9(t,e,n,r,i){for(let s=nn.length-1;s>=nn.indexOf(n);s--){const o=nn[s];if(Mf[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return nn[n?nn.indexOf(n):0]}function b9(t){for(let e=nn.indexOf(t)+1,n=nn.length;e<n;++e)if(Mf[nn[e]].common)return nn[e]}function x1(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=u_(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function E9(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function b1(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:E9(t,r,i,n)}class wc extends Js{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new RU._date(e.adapters.date);i.init(n),Rl(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:_1(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Qe(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=Qe(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=n3(i,s,o);return this._unit=n.unit||(r.autoSkip?w1(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):x9(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:b9(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),b1(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=vt(n,0,o),r=vt(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||w1(s.minUnit,n,r,this._getLabelCapacity(n)),a=ae(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=sa(l)||l===!0,h={};let d=n,f,g;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const y=i.ticks.source==="data"&&this.getDataTimestamps();for(f=d,g=0;f<r;f=+e.add(f,a,o),g++)x1(h,f,y);return(f===r||i.bounds==="ticks"||g===1)&&x1(h,f,y),Object.keys(h).sort(v1).map(v=>+v)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return Ae(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,h=l&&a[l],d=c&&a[c],f=r[n],g=c&&d&&f&&f.major;return this._adapter.format(e,i||(g?d:h))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Fn(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,b1(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(_1(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return wC(e.sort(v1))}}$(wc,"id","time"),$(wc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function eh(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=Ar(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=Ar(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class Xm extends wc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=eh(n,this.min),this._tableRange=eh(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,h;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)h=i[o+1],l=i[o-1],c=i[o],Math.round((h+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(eh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return eh(this._table,r*this._tableRange+this._minPos,!0)}}$(Xm,"id","timeseries"),$(Xm,"defaults",wc.defaults);var T9=Object.freeze({__proto__:null,CategoryScale:Gm,LinearScale:Km,LogarithmicScale:Ym,RadialLinearScale:gl,TimeScale:wc,TimeSeriesScale:Xm});const S9=[PU,oz,t9,T9],lA="label";function E1(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function k9(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function cA(t,e){t.labels=e}function uA(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:lA;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function I9(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lA;const n={labels:[],datasets:[]};return cA(n,t.labels),uA(n,t.datasets,e),n}function C9(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:h,updateMode:d,...f}=t,g=M.useRef(null),y=M.useRef(null),v=()=>{g.current&&(y.current=new Of(g.current,{type:o,data:I9(a,s),options:l&&{...l},plugins:c}),E1(e,y.current))},b=()=>{E1(e,null),y.current&&(y.current.destroy(),y.current=null)};return M.useEffect(()=>{!i&&y.current&&l&&k9(y.current,l)},[i,l]),M.useEffect(()=>{!i&&y.current&&cA(y.current.config.data,a.labels)},[i,a.labels]),M.useEffect(()=>{!i&&y.current&&a.datasets&&uA(y.current.config.data,a.datasets,s)},[i,a.datasets]),M.useEffect(()=>{y.current&&(i?(b(),setTimeout(v)):y.current.update(d))},[i,l,a.labels,a.datasets,d]),M.useEffect(()=>{y.current&&(b(),setTimeout(v))},[o]),M.useEffect(()=>(v(),()=>b()),[]),ce.createElement("canvas",{ref:g,role:"img",height:n,width:r,...f},h)}const A9=M.forwardRef(C9);function P9(t,e){return Of.register(e),M.forwardRef((n,r)=>ce.createElement(A9,{...n,ref:r,type:t}))}const hA=P9("bar",Ml);Of.register(...S9);function R9(){const t=Gi(),e=Rn(),{eventId:n}=t.state||{},[r,i]=M.useState(null),[s,o]=M.useState([]),[a,l]=M.useState(0),[c,h]=M.useState(0),[d,f]=M.useState(0);if(console.log("Location State:",t.state),!n)return console.error("Event ID is not passed to the ViewDetails component"),m.jsxs("div",{className:"container mx-auto mt-10 px-4 py-6 text-center text-white",children:[m.jsx("h1",{className:"text-4xl font-bold",children:"Event Not Found"}),m.jsx("button",{onClick:()=>e(-1),className:"px-4 py-2 mt-4 bg-gray-500 rounded-md text-white",children:"Go Back"})]});const g=async()=>{try{const b=na(jn,"events",n),w=await Vk(b);if(w.exists()){const _=w.data();i({id:w.id,..._}),console.log("Fetched Event Data:",_);const N=new Date(_.date)-new Date,O=Math.ceil(N/(1e3*60*60*24));f(O),y(n,_.ticketPrice||0)}else console.log("No such event found!")}catch(b){console.error("Error fetching event data:",b)}},y=async(b,w)=>{try{const _=ta(jn,`events/${b}/attendees`),I=(await xf(_)).docs.map(S=>({...S.data(),id:S.id,specialRequirements:S.data().specialRequirements||"None"}));console.log("Fetched Attendees:",I);const N=I.reduce((S,E)=>S+(E.ticketCount||0),0),O=I.reduce((S,E)=>S+(E.ticketCount||0)*w,0);o(I),l(N),h(O)}catch(_){console.error("Error fetching attendees:",_)}};M.useEffect(()=>{g()},[]);const v={labels:s.map(b=>b.name),datasets:[{label:"Tickets Purchased",data:s.map(b=>b.ticketCount||0),backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]};return m.jsxs("div",{className:"container mx-auto mt-10 px-4 py-6 bg-gradient-to-br from-indigo-600 via-purple-700 to-pink-600 min-h-screen text-white",children:[m.jsx("button",{onClick:()=>e(-1),className:"px-4 py-2 bg-gray-500 rounded-md text-white mb-6",children:"Go Back"}),r?m.jsxs(m.Fragment,{children:[m.jsx("h1",{className:"text-4xl font-bold text-center mb-6",children:r.eventName}),m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h2",{className:"text-2xl font-semibold",children:"Days Left to Event"}),m.jsxs("p",{className:"text-4xl font-bold mt-4",children:[d," days"]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:[m.jsxs("div",{className:"bg-purple-800 p-6 rounded-lg text-center shadow-lg",children:[m.jsx(eS,{size:36,className:"mx-auto mb-3 text-blue-400"}),m.jsx("h3",{className:"text-xl font-semibold",children:"Number of Attendees"}),m.jsx("p",{className:"text-3xl font-bold",children:s.length})]}),m.jsxs("div",{className:"bg-purple-800 p-6 rounded-lg text-center shadow-lg",children:[m.jsx(ZT,{size:36,className:"mx-auto mb-3 text-green-400"}),m.jsx("h3",{className:"text-xl font-semibold",children:"Total Tickets Sold"}),m.jsx("p",{className:"text-3xl font-bold",children:a})]}),m.jsxs("div",{className:"bg-purple-800 p-6 rounded-lg text-center shadow-lg",children:[m.jsx(JT,{size:36,className:"mx-auto mb-3 text-yellow-400"}),m.jsx("h3",{className:"text-xl font-semibold",children:"Total Revenue"}),m.jsxs("p",{className:"text-3xl font-bold",children:["$",c]})]})]}),m.jsxs("div",{className:"bg-purple-900 p-6 rounded-lg shadow-lg mb-10",children:[m.jsx("h2",{className:"text-2xl font-semibold text-center mb-6",children:"Tickets Purchased per Attendee"}),s.length>0?m.jsx(hA,{data:v}):m.jsx("p",{className:"text-center",children:"No attendees yet."})]}),m.jsxs("div",{className:"bg-purple-900 p-6 rounded-lg shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-semibold text-center mb-6",children:"Attendee List"}),s.length>0?m.jsxs("table",{className:"table-auto w-full text-left",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-2",children:"Name"}),m.jsx("th",{className:"px-4 py-2",children:"Tickets Purchased"}),m.jsx("th",{className:"px-4 py-2",children:"Amount Paid"}),m.jsx("th",{className:"px-4 py-2",children:"Special Requirements"})]})}),m.jsx("tbody",{children:s.map((b,w)=>m.jsxs("tr",{className:`${w%2===0?"bg-purple-800":"bg-purple-700"}`,children:[m.jsx("td",{className:"px-4 py-2",children:b.name||"N/A"}),m.jsx("td",{className:"px-4 py-2",children:b.ticketCount||0}),m.jsxs("td",{className:"px-4 py-2",children:["$",b.ticketCount?b.ticketCount*(r.ticketPrice||0):0]}),m.jsx("td",{className:"px-4 py-2",children:b.specialRequirements||"None"})]},w))})]}):m.jsx("p",{className:"text-center",children:"No attendees yet."})]})]}):m.jsx("p",{children:"Loading event details..."})]})}function N9(){const t=Gi(),e=Rn(),{event:n}=t.state,[r,i]=M.useState([]),[s,o]=M.useState(0),[a,l]=M.useState(0),[c,h]=M.useState(0);M.useEffect(()=>{(()=>{const w=new Date(n.date)-new Date,_=Math.ceil(w/(1e3*60*60*24));h(_)})()},[n.date]);const d=async y=>{try{const v=ta(jn,`events/${n.id}/attendees`),w=(await xf(v)).docs.map(I=>I.data()),_=w.reduce((I,N)=>I+(N.ticketCount||0),0),T=w.reduce((I,N)=>I+(N.ticketCount||0)*y,0);i(w),o(_),l(T)}catch(v){console.error("Error fetching attendees:",v)}},f=async()=>{try{const y=na(jn,"events",n.id),v=await Vk(y);if(v.exists()){const w=v.data().ticketPrice||0;d(w)}else console.log("No such event found!")}catch(y){console.error("Error fetching event data:",y)}};M.useEffect(()=>{f()},[]);const g={labels:r.map(y=>y.name),datasets:[{label:"Tickets Purchased",data:r.map(y=>y.ticketCount||0),backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]};return m.jsxs("div",{className:"container mx-auto mt-10 px-4 py-6 bg-gradient-to-br from-indigo-600 via-purple-700 to-pink-600 min-h-screen text-white",children:[m.jsx("button",{onClick:()=>e(-1),className:"px-4 py-2 bg-gray-500 rounded-md text-white mb-6",children:"Go Back"}),m.jsx("h1",{className:"text-4xl font-bold text-center mb-6",children:n.eventName}),m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h2",{className:"text-2xl font-semibold",children:"Days Left to Event"}),m.jsxs("p",{className:"text-4xl font-bold mt-4",children:[c," days"]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:[m.jsxs("div",{className:"bg-purple-800 p-6 rounded-lg text-center shadow-lg",children:[m.jsx(eS,{size:36,className:"mx-auto mb-3 text-blue-400"}),m.jsx("h3",{className:"text-xl font-semibold",children:"Number of Attendees"}),m.jsx("p",{className:"text-3xl font-bold",children:r.length})]}),m.jsxs("div",{className:"bg-purple-800 p-6 rounded-lg text-center shadow-lg",children:[m.jsx(ZT,{size:36,className:"mx-auto mb-3 text-green-400"}),m.jsx("h3",{className:"text-xl font-semibold",children:"Total Tickets Sold"}),m.jsx("p",{className:"text-3xl font-bold",children:s})]}),m.jsxs("div",{className:"bg-purple-800 p-6 rounded-lg text-center shadow-lg",children:[m.jsx(JT,{size:36,className:"mx-auto mb-3 text-yellow-400"}),m.jsx("h3",{className:"text-xl font-semibold",children:"Total Revenue"}),m.jsxs("p",{className:"text-3xl font-bold",children:["$",a]})]})]}),m.jsxs("div",{className:"bg-purple-900 p-6 rounded-lg shadow-lg mb-10",children:[m.jsx("h2",{className:"text-2xl font-semibold text-center mb-6",children:"Tickets Purchased per Attendee"}),r.length>0?m.jsx(hA,{data:g}):m.jsx("p",{className:"text-center",children:"No attendees yet."})]}),m.jsxs("div",{className:"bg-purple-900 p-6 rounded-lg shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-semibold text-center mb-6",children:"Attendee List"}),r.length>0?m.jsxs("table",{className:"table-auto w-full text-left",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-2",children:"Name"}),m.jsx("th",{className:"px-4 py-2",children:"Tickets Purchased"}),m.jsx("th",{className:"px-4 py-2",children:"Amount Paid"})]})}),m.jsx("tbody",{children:r.map((y,v)=>m.jsxs("tr",{className:`${v%2===0?"bg-purple-800":"bg-purple-700"}`,children:[m.jsx("td",{className:"px-4 py-2",children:y.name}),m.jsx("td",{className:"px-4 py-2",children:y.ticketCount}),m.jsxs("td",{className:"px-4 py-2",children:["$",y.ticketCount*n.ticketPrice]})]},v))})]}):m.jsx("p",{className:"text-center",children:"No attendees yet."})]})]})}const ei=({isAllowed:t,children:e})=>t?e:m.jsx(eN,{to:"/not-authorized",replace:!0}),xc=t=>typeof t=="number"&&!isNaN(t),Ds=t=>typeof t=="string",mn=t=>typeof t=="function",Oh=t=>Ds(t)||mn(t)?t:null,Jm=t=>M.isValidElement(t)||Ds(t)||mn(t)||xc(t);function D9(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Lf(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:l,preventExitTransition:c,done:h,nodeRef:d,isIn:f,playToast:g}=o;const y=r?`${e}--${l}`:e,v=r?`${n}--${l}`:n,b=M.useRef(0);return M.useLayoutEffect(()=>{const w=d.current,_=y.split(" "),T=I=>{I.target===d.current&&(g(),w.removeEventListener("animationend",T),w.removeEventListener("animationcancel",T),b.current===0&&I.type!=="animationcancel"&&w.classList.remove(..._))};w.classList.add(..._),w.addEventListener("animationend",T),w.addEventListener("animationcancel",T)},[]),M.useEffect(()=>{const w=d.current,_=()=>{w.removeEventListener("animationend",_),i?D9(w,h,s):h()};f||(c?_():(b.current=1,w.className+=` ${v}`,w.addEventListener("animationend",_)))},[f]),ce.createElement(ce.Fragment,null,a)}}function T1(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const Gt=new Map;let bc=[];const Zm=new Set,O9=t=>Zm.forEach(e=>e(t)),dA=()=>Gt.size>0;function fA(t,e){var n;if(e)return!((n=Gt.get(e))==null||!n.isToastActive(t));let r=!1;return Gt.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function pA(t,e){Jm(t)&&(dA()||bc.push({content:t,options:e}),Gt.forEach(n=>{n.buildToast(t,e)}))}function S1(t,e){Gt.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function M9(t){const{subscribe:e,getSnapshot:n,setProps:r}=M.useRef(function(s){const o=s.containerId||1;return{subscribe(a){const l=function(h,d,f){let g=1,y=0,v=[],b=[],w=[],_=d;const T=new Map,I=new Set,N=()=>{w=Array.from(T.values()),I.forEach(E=>E())},O=E=>{b=E==null?[]:b.filter(k=>k!==E),N()},S=E=>{const{toastId:k,onOpen:A,updateId:R,children:D}=E.props,P=R==null;E.staleId&&T.delete(E.staleId),T.set(k,E),b=[...b,E.props.toastId].filter(oe=>oe!==E.staleId),N(),f(T1(E,P?"added":"updated")),P&&mn(A)&&A(M.isValidElement(D)&&D.props)};return{id:h,props:_,observe:E=>(I.add(E),()=>I.delete(E)),toggle:(E,k)=>{T.forEach(A=>{k!=null&&k!==A.props.toastId||mn(A.toggle)&&A.toggle(E)})},removeToast:O,toasts:T,clearQueue:()=>{y-=v.length,v=[]},buildToast:(E,k)=>{if((Y=>{let{containerId:ee,toastId:ge,updateId:xe}=Y;const be=ee?ee!==h:h!==1,Ze=T.has(ge)&&xe==null;return be||Ze})(k))return;const{toastId:A,updateId:R,data:D,staleId:P,delay:oe}=k,J=()=>{O(A)},X=R==null;X&&y++;const ne={..._,style:_.toastStyle,key:g++,...Object.fromEntries(Object.entries(k).filter(Y=>{let[ee,ge]=Y;return ge!=null})),toastId:A,updateId:R,data:D,closeToast:J,isIn:!1,className:Oh(k.className||_.toastClassName),bodyClassName:Oh(k.bodyClassName||_.bodyClassName),progressClassName:Oh(k.progressClassName||_.progressClassName),autoClose:!k.isLoading&&(U=k.autoClose,W=_.autoClose,U===!1||xc(U)&&U>0?U:W),deleteToast(){const Y=T.get(A),{onClose:ee,children:ge}=Y.props;mn(ee)&&ee(M.isValidElement(ge)&&ge.props),f(T1(Y,"removed")),T.delete(A),y--,y<0&&(y=0),v.length>0?S(v.shift()):N()}};var U,W;ne.closeButton=_.closeButton,k.closeButton===!1||Jm(k.closeButton)?ne.closeButton=k.closeButton:k.closeButton===!0&&(ne.closeButton=!Jm(_.closeButton)||_.closeButton);let H=E;M.isValidElement(E)&&!Ds(E.type)?H=M.cloneElement(E,{closeToast:J,toastProps:ne,data:D}):mn(E)&&(H=E({closeToast:J,toastProps:ne,data:D}));const re={content:H,props:ne,staleId:P};_.limit&&_.limit>0&&y>_.limit&&X?v.push(re):xc(oe)?setTimeout(()=>{S(re)},oe):S(re)},setProps(E){_=E},setToggle:(E,k)=>{T.get(E).toggle=k},isToastActive:E=>b.some(k=>k===E),getSnapshot:()=>w}}(o,s,O9);Gt.set(o,l);const c=l.observe(a);return bc.forEach(h=>pA(h.content,h.options)),bc=[],()=>{c(),Gt.delete(o)}},setProps(a){var l;(l=Gt.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=Gt.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const i=M.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return t.newestOnTop&&i.reverse(),i.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>s(a[0],a[1]))},isToastActive:fA,count:i==null?void 0:i.length}}function L9(t){const[e,n]=M.useState(!1),[r,i]=M.useState(!1),s=M.useRef(null),o=M.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:h,closeOnClick:d}=t;var f,g;function y(){n(!0)}function v(){n(!1)}function b(T){const I=s.current;o.canDrag&&I&&(o.didMove=!0,e&&v(),o.delta=t.draggableDirection==="x"?T.clientX-o.start:T.clientY-o.start,o.start!==T.clientX&&(o.canCloseOnClick=!1),I.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,I.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function w(){document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",w);const T=s.current;if(o.canDrag&&o.didMove&&T){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();T.style.transition="transform 0.2s, opacity 0.2s",T.style.removeProperty("transform"),T.style.removeProperty("opacity")}}(g=Gt.get((f={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||g.setToggle(f.id,f.fn),M.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||v(),window.addEventListener("focus",y),window.addEventListener("blur",v),()=>{window.removeEventListener("focus",y),window.removeEventListener("blur",v)}},[t.pauseOnFocusLoss]);const _={onPointerDown:function(T){if(t.draggable===!0||t.draggable===T.pointerType){o.didMove=!1,document.addEventListener("pointermove",b),document.addEventListener("pointerup",w);const I=s.current;o.canCloseOnClick=!0,o.canDrag=!0,I.style.transition="none",t.draggableDirection==="x"?(o.start=T.clientX,o.removalDistance=I.offsetWidth*(t.draggablePercent/100)):(o.start=T.clientY,o.removalDistance=I.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(T){const{top:I,bottom:N,left:O,right:S}=s.current.getBoundingClientRect();T.nativeEvent.type!=="touchend"&&t.pauseOnHover&&T.clientX>=O&&T.clientX<=S&&T.clientY>=I&&T.clientY<=N?v():y()}};return a&&l&&(_.onMouseEnter=v,t.stacked||(_.onMouseLeave=y)),d&&(_.onClick=T=>{h&&h(T),o.canCloseOnClick&&c()}),{playToast:y,pauseToast:v,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:_}}function V9(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:c,rtl:h,isIn:d,theme:f}=t;const g=s||l&&c===0,y={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(y.transform=`scaleX(${c})`);const v=In("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":h}),b=mn(o)?o({rtl:h,type:i,defaultClassName:v}):In(v,o),w={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}};return ce.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},ce.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${i}`}),ce.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:b,style:y,...w}))}let j9=1;const gA=()=>""+j9++;function F9(t){return t&&(Ds(t.toastId)||xc(t.toastId))?t.toastId:gA()}function Vl(t,e){return pA(t,e),e.toastId}function Vd(t,e){return{...e,type:e&&e.type||t,toastId:F9(e)}}function th(t){return(e,n)=>Vl(e,Vd(t,n))}function Ce(t,e){return Vl(t,Vd("default",e))}Ce.loading=(t,e)=>Vl(t,Vd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Ce.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=Ds(i)?Ce.loading(i,n):Ce.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(h,d,f)=>{if(d==null)return void Ce.dismiss(r);const g={type:h,...a,...n,data:f},y=Ds(d)?{render:d}:d;return r?Ce.update(r,{...g,...y}):Ce(y.render,{...g,...y}),f},c=mn(t)?t():t;return c.then(h=>l("success",o,h)).catch(h=>l("error",s,h)),c},Ce.success=th("success"),Ce.info=th("info"),Ce.error=th("error"),Ce.warning=th("warning"),Ce.warn=Ce.warning,Ce.dark=(t,e)=>Vl(t,Vd("default",{theme:"dark",...e})),Ce.dismiss=function(t){(function(e){var n;if(dA()){if(e==null||Ds(n=e)||xc(n))Gt.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=Gt.get(e.containerId);r?r.removeToast(e.id):Gt.forEach(i=>{i.removeToast(e.id)})}}else bc=bc.filter(r=>e!=null&&r.options.toastId!==e)})(t)},Ce.clearWaitingQueue=function(t){t===void 0&&(t={}),Gt.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},Ce.isActive=fA,Ce.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:o}=i;return(s=Gt.get(o||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:gA()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,Vl(o,s)}},Ce.done=t=>{Ce.update(t,{progress:1})},Ce.onChange=function(t){return Zm.add(t),()=>{Zm.delete(t)}},Ce.play=t=>S1(!0,t),Ce.pause=t=>S1(!1,t);const U9=typeof window<"u"?M.useLayoutEffect:M.useEffect,nh=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return ce.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},Zp={info:function(t){return ce.createElement(nh,{...t},ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return ce.createElement(nh,{...t},ce.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return ce.createElement(nh,{...t},ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return ce.createElement(nh,{...t},ce.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ce.createElement("div",{className:"Toastify__spinner"})}},B9=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=L9(t),{closeButton:o,children:a,autoClose:l,onClick:c,type:h,hideProgressBar:d,closeToast:f,transition:g,position:y,className:v,style:b,bodyClassName:w,bodyStyle:_,progressClassName:T,progressStyle:I,updateId:N,role:O,progress:S,rtl:E,toastId:k,deleteToast:A,isIn:R,isLoading:D,closeOnClick:P,theme:oe}=t,J=In("Toastify__toast",`Toastify__toast-theme--${oe}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":P}),X=mn(v)?v({rtl:E,position:y,type:h,defaultClassName:J}):In(J,v),ne=function(re){let{theme:Y,type:ee,isLoading:ge,icon:xe}=re,be=null;const Ze={theme:Y,type:ee};return xe===!1||(mn(xe)?be=xe({...Ze,isLoading:ge}):M.isValidElement(xe)?be=M.cloneElement(xe,Ze):ge?be=Zp.spinner():(dr=>dr in Zp)(ee)&&(be=Zp[ee](Ze))),be}(t),U=!!S||!l,W={closeToast:f,type:h,theme:oe};let H=null;return o===!1||(H=mn(o)?o(W):M.isValidElement(o)?M.cloneElement(o,W):function(re){let{closeToast:Y,theme:ee,ariaLabel:ge="close"}=re;return ce.createElement("button",{className:`Toastify__close-button Toastify__close-button--${ee}`,type:"button",onClick:xe=>{xe.stopPropagation(),Y(xe)},"aria-label":ge},ce.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ce.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(W)),ce.createElement(g,{isIn:R,done:A,position:y,preventExitTransition:n,nodeRef:r,playToast:s},ce.createElement("div",{id:k,onClick:c,"data-in":R,className:X,...i,style:b,ref:r},ce.createElement("div",{...R&&{role:O},className:mn(w)?w({type:h}):In("Toastify__toast-body",w),style:_},ne!=null&&ce.createElement("div",{className:In("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},ne),ce.createElement("div",null,a)),H,ce.createElement(V9,{...N&&!U?{key:`pb-${N}`}:{},rtl:E,theme:oe,delay:l,isRunning:e,isIn:R,closeToast:f,hide:d,type:h,style:I,className:T,controlledProgress:U,progress:S||0})))},Vf=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},z9=Lf(Vf("bounce",!0));Lf(Vf("slide",!0));Lf(Vf("zoom"));Lf(Vf("flip"));const $9={position:"top-right",transition:z9,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function W9(t){let e={...$9,...t};const n=t.stacked,[r,i]=M.useState(!0),s=M.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=M9(e),{className:c,style:h,rtl:d,containerId:f}=e;function g(v){const b=In("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":d});return mn(c)?c({position:v,rtl:d,defaultClassName:b}):In(b,Oh(c))}function y(){n&&(i(!0),Ce.play())}return U9(()=>{if(n){var v;const b=s.current.querySelectorAll('[data-in="true"]'),w=12,_=(v=e.position)==null?void 0:v.includes("top");let T=0,I=0;Array.from(b).reverse().forEach((N,O)=>{const S=N;S.classList.add("Toastify__toast--stacked"),O>0&&(S.dataset.collapsed=`${r}`),S.dataset.pos||(S.dataset.pos=_?"top":"bot");const E=T*(r?.2:1)+(r?0:w*O);S.style.setProperty("--y",`${_?E:-1*E}px`),S.style.setProperty("--g",`${w}`),S.style.setProperty("--s",""+(1-(r?I:0))),T+=S.offsetHeight,I+=.025})}},[r,l,n]),ce.createElement("div",{ref:s,className:"Toastify",id:f,onMouseEnter:()=>{n&&(i(!1),Ce.pause())},onMouseLeave:y},o((v,b)=>{const w=b.length?{...h}:{...h,pointerEvents:"none"};return ce.createElement("div",{className:g(v),style:w,key:`container-${v}`},b.map(_=>{let{content:T,props:I}=_;return ce.createElement(B9,{...I,stacked:n,collapseAll:y,isIn:a(I.toastId,I.containerId),style:I.style,key:`toast-${I.key}`},T)}))}))}const H9=({onClose:t})=>m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-80",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Access Restricted"}),m.jsx("p",{className:"text-gray-700 mb-4",children:"Please register or login to access this feature."}),m.jsxs("div",{className:"flex justify-end",children:[m.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 mr-2",onClick:()=>{t()},children:"Login/Register"}),m.jsx("button",{className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",onClick:t,children:"Close"})]})]})});function q9(){const[t,e]=M.useState(null),[n,r]=M.useState([]),[i,s]=M.useState(!1),o=Rn(),a=!!t,l=d=>{e(d),localStorage.setItem("user",JSON.stringify(d)),Ce.success("Logged in successfully!"),o("/event")},c=()=>{e(null),localStorage.removeItem("user"),Ce.success("Logged out successfully!")},h=d=>{r(f=>f.filter(g=>g.id!==d))};return M.useEffect(()=>{const d=localStorage.getItem("user"),f=localStorage.getItem("favorites");d&&e(JSON.parse(d)),f&&r(JSON.parse(f))},[]),M.useEffect(()=>{localStorage.setItem("favorites",JSON.stringify(n))},[n]),m.jsx(IN,{children:m.jsxs("div",{className:"App",children:[m.jsx(SN,{user:t,onLogin:l,onLogout:c}),m.jsx(W9,{}),m.jsxs(nN,{children:[m.jsx(En,{path:"/",element:m.jsx(kN,{})}),m.jsx(En,{path:"/event",element:m.jsx(AN,{})}),m.jsx(En,{path:"/event/:eventId",element:m.jsx(DF,{})}),m.jsx(En,{path:"/create-event",element:m.jsx(ei,{isAllowed:a,onRestrictedAccess:()=>s(!0),children:m.jsx(jI,{})})}),m.jsx(En,{path:"/manage-events",element:m.jsx(ei,{isAllowed:a,onRestrictedAccess:()=>s(!0),children:m.jsx(NF,{})})}),m.jsx(En,{path:"/events/view-details",element:m.jsx(ei,{isAllowed:a,onRestrictedAccess:()=>s(!0),children:m.jsx(N9,{})})}),m.jsx(En,{path:"/edit-event/:id",element:m.jsx(ei,{isAllowed:a,onRestrictedAccess:()=>s(!0),children:m.jsx(OF,{})})}),m.jsx(En,{path:"/my-events",element:m.jsx(ei,{isAllowed:a,onRestrictedAccess:()=>s(!0),children:m.jsx(MF,{favoriteEvents:n,onRemoveEvent:h})})}),m.jsx(En,{path:"/favorites",element:m.jsx(ei,{isAllowed:a,onRestrictedAccess:()=>s(!0),children:m.jsx(LF,{})})}),m.jsx(En,{path:"/calendar",element:m.jsx(ei,{isAllowed:a,onRestrictedAccess:()=>s(!0),children:m.jsx(_5,{})})}),m.jsx(En,{path:"/manage-reservations",element:m.jsx(ei,{isAllowed:a,onRestrictedAccess:()=>s(!0),children:m.jsx(R9,{})})})]}),i&&m.jsx(H9,{onClose:()=>s(!1)})]})})}eg.createRoot(document.getElementById("root")).render(m.jsx(cN,{basename:"/Event-Planner",children:m.jsx(fN,{children:m.jsx(q9,{})})}));
